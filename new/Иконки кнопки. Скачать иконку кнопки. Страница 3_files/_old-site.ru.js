var BEMHTML=function(){function t(t){return t._mode=n,t.block=i,t.elem=o,t.elemMods=r,t.mods=a,t}function e(t,e){var s=n;n=e._mode;var u=i;i=e.block;var c=o;o=e.elem;var l=r;r=e.elemMods;var d=a;a=e.mods;var h=t(e);return n=s,i=u,o=c,r=l,a=d,h}var n,i,o,r,a,s,u={},c=function(u){function c(){return l(this)}function l(u){function c(){if("no-follow"===this.ctx.link)return void 0;var t=this._links[this.ctx.link];return p=this.ctx,this.ctx=t,f=e(l,this),this.ctx=p,f}function d(t,e,n){if(0===e.length)return void 0;if(Array.isArray(n)){for(var i=t,o=0;o<n.length-1;o++)i=i[n[o]];n=i[n[o]]}for(var r,a=t,o=0;o<e.length-1;o++)a=a[e[o]];return r=a[e[o]],a[e[o]]=n,r}function h(t,e){return(t||"")+"__"+(e||"")}var p,f,m,_,g,y,b,v,x,k,w,M,E,I,B,$,T,C,S,D,j,N,P,O;if(!!o==!1&&"search2"===i&&"attrs"===n)return{action:u.ctx.action||"/",role:"search","aria-label":u.ctx.label};if(!!o==!1&&"search2"===i&&"tag"===n)return"form";if(!!o==!1&&"user-menu-update"===i&&"js"===n)return!0;if(!!o==!1&&"user"===i&&!(a&&"yes"===a.menu)==!1&&!!u["i-global"].login==!1&&!u["i-global"].displayName.name==!1&&!(u.__$anflg91!==!0)==!1&&"default"===n){var L=(p=n,n="user-menu",f=l(u),n=p,f);return m=u.__$anflg91,u.__$anflg91=!0,_=n,n="",g=u.ctx,u.ctx={block:"dropdown-menu",mods:{user:"yes"},content:[{block:"user",mods:u.ctx.mods,js:u.ctx.js,counter:u.ctx.counter,content:u.ctx.content},{elem:"popup",mods:{user:"yes",theme:"light"},mix:[{block:"popup",mods:{"fade-out":"no","watch-scroll":"no"}}],js:{directions:"bottom-right"},content:L}]},y=l(u),n=_,u.ctx=g,b=y,u.__$anflg91=m,b}if(!!o==!1&&"user"===i&&!(a&&"yes"===a.menu)==!1&&!!u["i-global"].login==!1&&!u["i-global"].displayName.name==!1&&!(u.__$anflg90!==!0)==!1&&"user-menu"===n)return(p=u.__$anflg90,u.__$anflg90=!0,f=l(u),u.__$anflg90=p,f).filter(function(t){return"tune"===t.type||"passport"===t.type||"logout"===t.type});if(!!o==!1&&"link"===i&&!u.ctx.counter==!1&&"mix"===n)return[{block:"link",mods:{counter:"yes"}}];if(!!o==!1&&"user"===i&&!(a&&"yes"===a.menu)==!1&&!u["i-global"].login==!1&&!(u.__$anflg89!==!0)==!1&&"default"===n){var A=(p=n,n="user-menu",f=l(u),n=p,f);return m=u.__$anflg89,u.__$anflg89=!0,_=n,n="",g=u.ctx,u.ctx={block:"dropdown-menu",mods:{user:"yes"},content:[{block:"user",mods:u.ctx.mods,js:u.ctx.js,counter:u.ctx.counter,content:u.ctx.content},{elem:"popup",mods:{user:"yes"},mix:[{block:"popup",mods:{"fade-out":"no","watch-scroll":"no"}}],js:{directions:"bottom-right"},content:A}]},y=l(u),n=_,u.ctx=g,b=y,u.__$anflg89=m,b}if(!!o==!1&&"user"===i&&!(a&&"yes"===a.menu)==!1&&"user-menu"===n){var z=(p=n,n="exit-url",f=l(u),n=p,f),F=u.ctx.counters||{};return[{elem:"item",type:"mail",content:{block:"link",url:u["i-services"].serviceUrl("mail"),counter:F.mail,content:[{block:"image",mods:{icon:"mail"}},{elem:"text",tag:"span",mix:[{block:"user-menu-update",js:!0}],content:function(){var t=this.ctx.js&&this.ctx.js.mail||0,e=t?t+" ":"";return e+BEM.I18N("user","letter",{count:t})}.call(t(u))}]}},{elem:"item",type:"mailCompose",content:{block:"link",content:BEM.I18N("user","letter_compose"),url:u["i-services"].serviceUrl("mail")+"/compose",counter:F.write}},{elem:"item",type:"disk",content:{block:"link",url:u["i-services"].serviceUrl("disk")+"?source=main-loginmenu",content:[{block:"image",mods:{icon:"disk"}},{elem:"text",tag:"span",content:BEM.I18N("user","upload_files")}]}},{elem:"item",mods:{separator:"yes"}},{elem:"item",type:"tune",content:{block:"link",content:BEM.I18N("user","tune"),url:u["i-services"].serviceUrl("tune"),counter:F.settings}},{elem:"item",type:"passport",content:{block:"link",content:BEM.I18N("user","passport"),url:u["i-services"].serviceUrl("passport"),counter:F.passport}},{elem:"item",type:"logout",content:{block:"link",mix:[{block:"user",js:{_uniqId:"user__logout"}},{block:"user",elem:"logout"}],content:BEM.I18N("user","exit"),url:z,counter:F.logout}}]}if(!!o==!1&&"user"===i&&!(a&&"yes"===a.menu)==!1&&"exit-url"===n){var R=u["i-global"],U="/passport?mode=";return U+="logout&yu="+(R.yandexuid||""),R.retpath&&(U+="&retpath="+encodeURIComponent(R.retpath)),R["passport-host"]+U}if(!!o==!1&&"user"===i&&!(a&&"yes"===a.menu)==!1&&!(u.__$anflg88!==!0)==!1&&"attrs"===n){var H=(p=u.__$anflg88,u.__$anflg88=!0,f=l(u),u.__$anflg88=p,f||{});return H.role="button",H.tabindex=0,H["aria-haspopup"]=!0,H["aria-expanded"]=!1,H}if("user"===i&&"icon"===o&&!u._uid==!1&&"icon"===n){var V=u["i-global"].imageStorageKey||0,q="/get-yapic/0/islands-"+(p=n,n="iconSize",f=l(u),n=p,f);return V&&(q="/get-yamoney-profile/"+V+"/"+(m=n,n="iconSize",_=l(u),n=m,_)),[(g=n,n="host",y=l(u),n=g,y),q,"?rnd=",+new Date].join("")}if("user"===i&&"icon"===o&&!u._uid==!1&&"host"===n){var K=u["i-global"].protocol||"http",W=u["i-global"].avatarHost||"avatars.yandex.net";return K+"://"+W}if("user"===i&&"icon"===o&&"iconSize"===n)return"middle";if("user"===i&&"icon"===o&&!u._uid==!1&&!u.ctx._icon==!1&&"attrs"===n)return{style:"background-image: url("+u.ctx._icon+");"};if("user"===i&&"icon"===o&&!u._uid==!1&&"icon"===n)return[(p=n,n="host",f=l(u),n=p,f),"/get-yapic/",u._uid,"/islands-",(m=n,n="iconSize",_=l(u),n=m,_),"?rnd=",+new Date].join("");if("user"===i&&"icon"===o&&!u._uid==!1&&"host"===n)return"//avatars.yandex.net";if("user"===i&&"icon"===o&&!u._uid==!1&&"tag"===n)return"span";if("user"===i&&"icon"===o&&!u._uid==!1&&!(u.__$anflg87!==!0)==!1&&"default"===n){var Y=(p=n,n="icon",f=l(u),n=p,f),m=u.__$anflg87;u.__$anflg87=!0;var _=u.ctx,g=_._icon;return _._icon=Y,l(u),_._icon=g,void(u.__$anflg87=m)}if("user"===i&&"name"===o&&"js"===n)return{maxLength:u._maxLength,maxLengthRelative:u._maxLengthRelative,isUglyUserName:u._isUglyUserName};if("user"===i&&"name"===o&&"content"===n)return p=n,n="pre-content",f=u.ctx,u.ctx=u.xmlEscape(u.cleverSubstring(u._userName,u._maxLength,u._maxLengthRelative)),m=l(u),n=p,u.ctx=f,m;if("user"===i&&"name"===o&&"pre-content"===n)return u.ctx;if("user"===i&&"name"===o&&!(u.__$anflg86!==!0)==!1&&"default"===n){var G=u.ctx,Q=u["i-global"],Z=G.content||G.login||(Q.displayName||{}).name,X=!1;Z||(/^uid-/.test(Q.login)?(Z="",X=!0):Z=Q.login);var p=u.__$anflg86;u.__$anflg86=!0;var f=u._maxLength;u._maxLength=G.hasOwnProperty("maxLength")?G.maxLength:16;var m=u._maxLengthRelative;u._maxLengthRelative=G.hasOwnProperty("maxLengthRelative")?G.maxLengthRelative:3;var _=u._userName;u._userName=Z;var g=u._isUglyUserName;return u._isUglyUserName=X,l(u),u._maxLength=f,u._maxLengthRelative=m,u._userName=_,u._isUglyUserName=g,void(u.__$anflg86=p)}if("user"===i&&"name"===o&&"tag"===n)return"span";if(!!o==!1&&"user"===i&&"content"===n){var J=u["i-global"].login||(u["i-global"].displayName||{}).name;return J?[u.ctx.content]:"enter"===u.ctx.content.elem?u.ctx.content:{elem:"enter"}}if(!!o==!1&&"user"===i&&"attrs"===n){var te=u["i-global"],ee=te.login&&0===te.login.lastIndexOf("uid-",0),ne={href:ee?te["social-host"]:te["passport-host"]+"/passport?mode=auth&msg=money&retpath="+te.retpath},ie=u.ctx.counter||(u.ctx.counters||{}).user;return ie&&(ne.onmousedown=ie),ne}if(!!o==!1&&"user"===i&&"content"===n){var oe=u["i-global"].login||(u["i-global"].displayName||{}).name;return oe?[u.ctx.content]:{elem:"enter"}}if(!!o==!1&&"user"===i&&"attrs"===n){var re=u["i-global"],ae=re.login&&0===re.login.lastIndexOf("uid-",0),se={href:ae?re["social-host"]:re["passport-host"]+"/passport?mode=passport"},ue=u.ctx.counter||(u.ctx.counters||{}).user;return ue&&(se.onmousedown=ue),se}if(!!o==!1&&"user"===i&&"js"===n)return!0;if(!!o==!1&&"user"===i&&"tag"===n)return"a";if(!!o==!1&&"user"===i&&!(u.__$anflg85!==!0)==!1&&"default"===n){var ce=u.ctx.js||{};ce.uid=ce.uid||u["i-global"].uid;var p=u.__$anflg85;u.__$anflg85=!0;var f=u._uid;u._uid=ce.uid;var m=u.ctx,_=m.js;return m.js=ce,l(u),u._uid=f,m.js=_,void(u.__$anflg85=p)}if("auth"===i&&"social-link"===o&&"attrs"===n)return{role:"button",tabindex:0,title:u.ctx.title,"aria-label":u.ctx.title};if("auth"===i&&"social-link"===o&&"tag"===n)return"a";if("auth"===i&&"social-icon"===o&&"tag"===n)return"i";if("auth"===i&&"social"===o&&"attrs"===n)return{role:"group","aria-label":BEM.I18N("auth","social-log-in")};if("auth"===i&&!!u.ctx.content==!1&&"register"===o&&"content"===n)return{block:"button",mods:{theme:"pseudo",size:"s"},url:u.ctx.url||[u._passportHost,"/passport?mode=register",u._paramFrom,u._paramRetpath].join(""),content:BEM.I18N("auth","register")};if("auth"===i&&!!u.ctx.content==!1&&"remember"===o&&"content"===n)return{block:"button",mods:{theme:"pseudo",size:"s"},url:u.ctx.url||[u._passportHost,"/passport?mode=restore",u._paramFrom,u._paramRetpath].join(""),content:BEM.I18N("auth","remember")};if("auth"===i&&!!u.ctx.content==!1&&"button"===o&&"content"===n)return{block:"button",type:"submit",mods:{theme:"action",size:"m"},content:BEM.I18N("auth","logon")};if("auth"===i&&!!u.ctx.content==!1&&"haunter"===o&&"content"===n)return{block:"checkbox",mods:{theme:"normal",size:"m"},checkboxAttrs:{id:"auth-haunter",autocomplete:"off",name:"twoweeks",value:"no"},content:{elem:"label",content:BEM.I18N("auth","temporary")}};if("auth"===i&&!!u.ctx.content==!1&&"password"===o&&"content"===n)return{block:"input",mods:{theme:"normal",size:"m"},name:"passwd",content:[{elem:"hint",content:BEM.I18N("auth","password")},{elem:"control",attrs:{type:"password",maxlength:256,"aria-required":!0}}]};if("auth"===i&&!!u.ctx.content==!1&&"username"===o&&"content"===n)return{block:"input",mods:{theme:"normal",size:"m"},name:"login",content:[{elem:"hint",content:BEM.I18N("auth","login")},{elem:"control",attrs:{"aria-required":!0}}]};if(!!o==!1&&"auth"===i&&!!u.ctx.content==!1&&"auto-content"===n)return[{elem:"username"},{elem:"password"},{elem:"row",mods:{button:"yes"},content:[{elem:"haunter"},{elem:"button"}]},{elem:"social"},{elem:"row",content:[{elem:"remember"},{elem:"register"}]}];if("auth"===i&&"retpath"===o&&"attrs"===n)return{type:"hidden",name:"retpath",value:u._retpath||""};if("auth"===i&&"retpath"===o&&"tag"===n)return"input";if("auth"===i&&"retpath"===o&&!(u.__$anflg84!==!0)==!1&&"default"===n){var p=u.__$anflg84;u.__$anflg84=!0;var f=u._retpath;return u._retpath=BEM&&BEM.blocks?BEM.blocks["i-global"].param("retpath"):u["i-global"].retpath,l(u),u._retpath=f,void(u.__$anflg84=p)}if(!!o==!1&&"auth"===i&&!(u.__$anflg83!==!0)==!1&&"default"===n){var le,de,he,pe;BEM&&BEM.blocks?(pe=BEM.blocks["i-global"],le=pe.param("passport-host"),de=pe.param("retpath"),he=pe.param("passport-msg")):(pe=u["i-global"],le=pe["passport-host"],de=pe.retpath,he=pe["passport-msg"]);var p=u.__$anflg83;u.__$anflg83=!0;var f=u._passportHost;u._passportHost=le;var m=u._paramRetpath;u._paramRetpath=de?"&retpath="+encodeURIComponent(de):"";var _=u._paramFrom;return u._paramFrom=he?"&from="+encodeURIComponent(he):"",l(u),u._passportHost=f,u._paramRetpath=m,u._paramFrom=_,void(u.__$anflg83=p)}if(!!o==!1&&"auth"===i&&"content"===n)return[u.ctx.content||(p=n,n="auto-content",f=l(u),n=p,f),{elem:"retpath"}];if(!!o==!1&&"auth"===i&&"auto-content"===n)return[];if(!!o==!1&&"auth"===i&&"action"===n){var fe,me;return BEM&&BEM.blocks?(fe=BEM.blocks["i-global"],me=fe.param("passport-msg")):(fe=u["i-global"],me=fe["passport-msg"]),[u._passportHost,"/auth?twoweeks=yes",me?"&from="+encodeURIComponent(me):""].join("")}if(!!o==!1&&"auth"===i&&"attrs"===n)return{method:"POST",action:u.ctx.url||(p=n,n="action",f=l(u),n=p,f),role:"form","aria-label":BEM.I18N("auth","auth")};if(!!o==!1&&"auth"===i&&"tag"===n)return"form";if(!!o==!1&&"auth"===i&&"js"===n)return!0;if(!!o==!1&&"domik"===i&&!(a&&"hidden"===a.type)==!1&&!(u.__$anflg82!==!0)==!1&&"default"===n)return p=u.__$anflg82,u.__$anflg82=!0,f=u.ctx,u.ctx={block:"auth",mix:[{block:"domik",mods:{type:"hidden"}}],js:!1,attrs:{style:"display:none"},content:[{tag:"input",attrs:{name:"login"}},{tag:"input",attrs:{name:"passwd",type:"password"}}]},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg82=p,g;if(!!o==!1&&"domik"===i&&!(a&&"hidden"===a.type)==!1&&"js"===n)return!1;if(!!o==!1&&"domik"===i&&!(a&&"popup"===a.type)==!1&&!(u.__$anflg81!==!0)==!1&&"attrs"===n){var _e=(p=u.__$anflg81,u.__$anflg81=!0,f=l(u),u.__$anflg81=p,f||{});return _e.role="dialog",_e}if("domik"===i&&"logo"===o&&"tag"===n)return"i";if("domik"===i&&"roof-body"===o&&"tag"===n)return"i";if("domik"===i&&"roof-border"===o&&"tag"===n)return"i";if(!!o==!1&&"domik"===i&&"content"===n)return[{elem:"roof",content:[{elem:"roof-border"},{elem:"roof-body"},{elem:"logo"}]},{elem:"content",content:u.ctx.content}];if(!!o==!1&&"domik"===i&&"default"===n&&!!(u.ctx.mods||{}).logo==!1){var ge,ye;BEM.blocks?(ye=BEM.blocks["i-global"],ge=ye.param("lang")):(ye=u["i-global"],ge=ye.lang);var p=u.ctx,f=p.mods;return p.mods=u.extend(u.ctx.mods||{},{logo:~["en","tr"].indexOf(ge)?"en":"ru"}),l(u),void(p.mods=f)}if(!!o==!1&&"button"===i&&!(a&&"yes"===a.pseudo)==!1&&!(u.__$anflg80!==!0)==!1&&"default"===n){u.ctx.mods=u.extend({theme:"pseudo"},u.ctx.mods);var p=u.__$anflg80;return u.__$anflg80=!0,l(u),void(u.__$anflg80=p)}if("user"===i&&!(a&&"ym"===a.type)==!1&&"enter-label"===o&&"content"===n)return BEM.I18N("user","enter");if("user"===i&&!(a&&"ym"===a.type)==!1&&"enter-label"===o&&"attrs"===n)return{"aria-hidden":!0};if("user"===i&&!(a&&"ym"===a.type)==!1&&"enter-label"===o&&"tag"===n)return"span";if("user"===i&&!(a&&"ym"===a.type)==!1&&"enter"===o&&!(u.__$anflg79!==!0)==!1&&"default"===n){var be=BEM.I18N("user","enter"),p=u.__$anflg79;u.__$anflg79=!0;var f=u.ctx;u.ctx=[{block:"button",mods:{size:"m"},mix:[{block:"user",elem:"enter"}],attrs:{tabindex:"-1",title:be,"aria-label":be},content:[{block:"image",mix:[{block:"button",elem:"icon",mods:{size:"16",name:"enter"}}],alt:""},{block:"user",elem:"enter-label"}]},{block:"domik",mods:{type:"hidden"}}];var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg79=p)}if("user"===i&&"enter-label"===o&&"content"===n)return BEM.I18N("user","enter");if("user"===i&&"enter-label"===o&&"attrs"===n)return{"aria-hidden":!0};if("user"===i&&"enter-label"===o&&"tag"===n)return"span";if("user"===i&&"enter"===o&&!(u.__$anflg78!==!0)==!1&&"default"===n){var ve=BEM.I18N("user","enter"),p=u.__$anflg78;u.__$anflg78=!0;var f=u.ctx;u.ctx=[{block:"button",mods:{pseudo:"yes",size:"m"},mix:[{block:"user",elem:"enter"}],attrs:{tabindex:"-1",title:ve,"aria-label":ve},content:[{block:"image",mix:[{block:"button",elem:"icon",mods:{16:"enter"}}],alt:""},{block:"user",elem:"enter-label"}]},{block:"domik",mods:{type:"hidden"}}];var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg78=p)}if("promo-button"===i&&"text"===o&&"tag"===n)return"span";if(!!o==!1&&"promo-button"===i&&"content"===n)return{elem:"text",content:u.ctx.content};if(!!o==!1&&"promo-button"===i&&"default"===n&&!!(u.ctx.mods||{}).theme==!1)return p=u.ctx,f=p.mods,p.mods=u.ctx.mods||{},m=u.ctx.mods,_=m.theme,m.theme="normal",g=l(u),p.mods=f,m.theme=_,g;if(!!o==!1&&"promo-button"===i&&"attrs"===n){var xe=u.ctx.attrs||{};return u.ctx.url&&(xe.href=u.ctx.url),!u.ctx.url&&u.ctx.type&&(xe.type=u.ctx.type),"yes"===(u.ctx.mods||{}).disabled&&(xe.disabled="disabled"),xe}if(!!o==!1&&"promo-button"===i&&"tag"===n)return u.ctx.url?"a":"button";if(!!o==!1&&"promo-button"===i&&"js"===n)return!0;if("steps-indicator"===i&&!(a&&"bullet"===a.theme)==!1&&"step"===o&&"tag"===n)return"a";if(!!o==!1&&"steps-indicator"===i&&!(u.__$anflg77!==!0)==!1&&"default"===n){var ke=[],we=u.ctx,Me="no"!==u.ctx.mods.layout,Ee={},Ie=we.mods;Ie.theme=Ie.theme||"normal",Me&&(Ee={block:"layout",mods:{type:"3"===Ie.amount?"three-column":"four-column"}});for(var Be=0;Be<a.amount;Be++){var $e=parseInt(we.activeStep)===Be+1,Te=Be===Ie.amount-1,Ce={};Me&&(Ce={block:"layout",elem:"col",mods:{size:"2"===Ie.amount?"2":"1"}}),ke.push({block:"steps-indicator",elem:"step",mods:{theme:Ie.theme||"normal",state:$e?"active":"",last:Te?"yes":""},mix:Ce})}var p=u.__$anflg77;u.__$anflg77=!0;var f=u.ctx;u.ctx={block:"steps-indicator",mods:Ie,mix:Ee,content:ke};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg77=p)}if("tutorial"===i&&"heading"===o&&"mix"===n)return[{block:"i-font",mods:{face:"textbook"}}];if("tutorial"===i&&"text"===o&&"tag"===n)return"p";if(!!o==!1&&"tutorial"===i&&"content"===n)return[u.ctx.content,{elem:"paranja",mix:{block:"paranja",mods:{theme:"dark"}}}];if(!!o==!1&&"tutorial"===i&&"js"===n)return!0;if("suggest-item"===i&&"answer-label"===o&&"mix"===n)return[{block:"a11y-hidden"}];if("suggest-item"===i&&"answer-label"===o&&"tag"===n)return"span";if("suggest-item"===i&&"answer"===o&&"content"===n)return[{elem:"answer-label",content:BEM.I18N("suggest-item__answer","quick-answer")},u.ctx.content];if("suggest-item"===i&&"answer"===o&&"tag"===n)return"span";if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&"content"===n)return[(p=n,n="text",f=l(u),n=p,f),(m=n,n="icon",_=l(u),n=m,_),(g=n,n="value",y=l(u),n=g,y)];if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&!u._url==!1&&"text"===n)return{block:"suggest-item",elem:"link",url:u._url,content:u._text};if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&"text"===n)return{elem:"text",content:u._text};if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&"value"===n)return{elem:"value",content:u.xmlEscape(u._fact)};if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&"icon"===n)return{elem:"icon",mods:{type:"favicon"},svg:u._icons.svg,png:u._icons.png};if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&!u._url==!1&&"mix"===n)return{mods:{nav:"yes"}};if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&!u._url==!1&&"js"===n)return{val:u._url};if(!!o==!1&&"suggest-item"===i&&!(a&&"icon"===a.type)==!1&&!(u.__$anflg76!==!0)==!1&&"default"===n){if(!Array.isArray(u.ctx.data))return void 0;var Se=u.ctx.data.slice(1),De=Se[1]||{};if(!De.icon)return void 0;var je={};Array.isArray(De.icon[0])?De.icon.forEach(function(t){je[t[0]]=t[1]}):je[De.icon[0]]=De.icon[1],De.url&&(u._url=(/[\/]{2}/.test(De.url)?"":"http://")+De.url);var p=u.__$anflg76;u.__$anflg76=!0;var f=u._text;u._text=u.xmlEscape(Se[0])||"";var m=u._icons;u._icons=je;var _=u._fact;return u._fact=De.fact||"",l(u),u._text=f,u._icons=m,u._fact=_,void(u.__$anflg76=p)}if(!!o==!1&&"suggest-item"===i&&!(a&&"weather"===a.type)==!1&&"content"===n)return[(p=n,n="text",f=l(u),n=p,f),(m=n,n="answer",_=l(u),n=m,_)];if(!!o==!1&&"suggest-item"===i&&!(a&&"weather"===a.type)==!1&&"answer"===n)return{elem:"answer",content:[(p=n,n="icon",f=l(u),n=p,f),(m=n,n="value",_=l(u),n=m,_)]};if(!!o==!1&&"suggest-item"===i&&!(a&&"weather"===a.type)==!1&&"value"===n)return{elem:"value",content:u.ctx.data[2]};if(!!o==!1&&"suggest-item"===i&&!(a&&"weather"===a.type)==!1&&"icon"===n)return{elem:"icon",elemMods:{weather:u.ctx.data[3].replace("-","minus-").replace("+","plus-").replace(/_/g,"-")}};if(!!o==!1&&"suggest-item"===i&&!(a&&"weather"===a.type)==!1&&"text"===n)return{elem:"text",content:u.ctx.data[1]};if("suggest-item"===i&&"icon"===o&&"attrs"===n)return{style:(p=n,n="png",f=l(u),n=p,f+(m=n,n="svg",_=l(u),n=m,_))};if("suggest-item"===i&&"icon"===o&&"svg"===n)return u.ctx.svg?'background-image:none,url("'+u.ctx.svg+'")':"";if("suggest-item"===i&&"icon"===o&&"png"===n)return u.ctx.png?'background-image:url("'+u.ctx.png+'");':"";if("suggest-item"===i&&"icon"===o&&"tag"===n)return"i";if(!!o==!1&&"suggest-item"===i&&!(a&&"traffic"===a.type)==!1&&"content"===n)return[(p=n,n="text",f=l(u),n=p,f),(m=n,n="answer",_=l(u),n=m,_)];if(!!o==!1&&"suggest-item"===i&&!(a&&"traffic"===a.type)==!1&&"answer"===n)return{elem:"answer",content:[{elem:"icon",elemMods:{traffic:u.ctx.data[3]}},{elem:"value",content:u.ctx.data[2]}]};if(!!o==!1&&"suggest-item"===i&&!(a&&"traffic"===a.type)==!1&&"text"===n)return{elem:"text",content:u.ctx.data[1]};if(!!o==!1&&"suggest-item"===i&&!(a&&"text"===a.type)==!1&&"content"===n)return p=n,n="text",f=l(u),n=p,f;if(!!o==!1&&"suggest-item"===i&&!(a&&"text"===a.type)==!1&&"text"===n)return{elem:"text",content:u._.isArray(u.ctx.data)?u.ctx.data[1]:u.ctx.data};if("suggest-item"===i&&"link"===o&&!(u.__$anflg75!==!0)==!1&&"default"===n)return p=u.__$anflg75,u.__$anflg75=!0,f=u.ctx,u.ctx={block:"link",url:u.ctx.url,target:"_self",mix:{block:i,elem:o},content:u.ctx.content},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg75=p,g;if("suggest-item"===i&&"link"===o&&!(u.__$anflg74!==!0)==!1&&"default"===n)return p=u.__$anflg74,u.__$anflg74=!0,f=u.ctx,u.ctx={block:"link",url:u.ctx.url,target:"_blank",mix:{block:i,elem:o},content:u.ctx.content},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg74=p,g;if(!!o==!1&&"suggest-item"===i&&!(a&&"nav"===a.type)==!1&&"content"===n)return[(p=n,n="link",f=l(u),n=p,f),{elem:"answer",content:["&nbsp;&mdash;&nbsp;",{elem:"text",content:u.ctx.data[2]}]}];if(!!o==!1&&"suggest-item"===i&&!(a&&"nav"===a.type)==!1&&"link"===n)return{elem:"link",url:u._url,content:u.ctx.data[3]};if(!!o==!1&&"suggest-item"===i&&!(a&&"nav"===a.type)==!1&&"mix"===n)return[{mods:{nav:"yes"}}];if(!!o==!1&&"suggest-item"===i&&!(a&&"nav"===a.type)==!1&&"js"===n)return{val:u._url};if(!!o==!1&&"suggest-item"===i&&!(a&&"nav"===a.type)==!1&&!(u.__$anflg73!==!0)==!1&&"default"===n){var Ne=u.ctx.data[4],p=u.__$anflg73;u.__$anflg73=!0;var f=u._url;return u._url=(Ne.match(/^\w[\w-]*:\/\//g)?"":"http://")+Ne,l(u),u._url=f,void(u.__$anflg73=p)}if(!!o==!1&&"suggest-item"===i&&!(a&&"fact"===a.type)==!1&&"content"===n)return[(p=n,n="text",f=l(u),n=p,f),(m=n,n="answer",_=l(u),n=m,_)];if(!!o==!1&&"suggest-item"===i&&!(a&&"fact"===a.type)==!1&&"answer"===n)return{elem:"answer",content:[{elem:"hint",content:u.ctx.data[2]}]};if(!!o==!1&&"suggest-item"===i&&!(a&&"fact"===a.type)==!1&&"text"===n)return{elem:"text",content:u.ctx.data[1]};if("suggest-item"===i&&"icon"===o&&"tag"===n)return"i";if("suggest-item"===i&&"value"===o&&"content"===n)return u.xmlEscape(u.ctx.content);if("suggest-item"===i&&"value"===o&&"tag"===n)return"span";if("suggest-item"===i&&"text"===o&&"content"===n)return u.xmlEscape(u.ctx.content);if("suggest-item"===i&&"text"===o&&"tag"===n)return"span";if("suggest-item"===i&&"hint"===o&&"content"===n)return u.xmlEscape(u.ctx.content);if("suggest-item"===i&&"hint"===o&&"tag"===n)return"span";if(!!o==!1&&"suggest-item"===i&&!u.ctx.pers==!1&&"js"===n)return{pers:1};if(!!o==!1&&"suggest-item"===i&&!u.ctx.search_cgi==!1&&"js"===n)return{cgi:u.ctx.search_cgi};if(!!o==!1&&"suggest-item"===i&&"attrs"===n)return{id:u.generateId()};if(!!o==!1&&"suggest-item"===i&&"tag"===n)return"li";if("suggest"===i&&"padding"===o&&"content"===n)return[".suggest .suggest-item{padding-left:",u.ctx.itemPaddingLeft,"px;} ",".suggest .suggest__title{width:",u.ctx.titleWidth,"px;}"];if("suggest"===i&&"padding"===o&&"attrs"===n)return{type:"text/css"};if("suggest"===i&&"padding"===o&&"bem"===n)return!1;if("suggest"===i&&"padding"===o&&"tag"===n)return"style";if("suggest"===i&&"group"===o&&!(u.__$anflg72!==!0)==!1&&"default"===n){var p=u.__$anflg72;u.__$anflg72=!0;var f=u._titleId;return u._titleId=u.generateId(),l(u),u._titleId=f,void(u.__$anflg72=p)}if("suggest"===i&&"group"===o&&"attrs"===n)return{role:"group","aria-labelledby":u._titleId};if("suggest"===i&&"items"===o&&"tag"===n)return"ul";if("suggest"===i&&"title-hidden"===o&&"mix"===n)return[{block:"a11y-hidden"}];if("suggest"===i&&"title-hidden"===o&&"tag"===n)return"span";if("suggest"===i&&"title"===o&&"content"===n)return[{elem:"title-hidden",content:BEM.I18N("suggest","group")},u.ctx.content];if("suggest"===i&&"title"===o&&"attrs"===n)return{id:u._titleId};if("suggest"===i&&"title"===o&&"tag"===n)return"span";if(!!o==!1&&"suggest"===i&&"js"===n)return!0;if(!!o==!1&&"b-autocomplete-item"===i&&!(a&&"lingvo"===a.type)==!1&&"content"===n){var Pe=u.ctx.data[1];return[{tag:"span",elem:"text",content:Pe.text},{tag:"span",elem:"translation",content:[" — ",Pe.translation]}]}if(!!o==!1&&"b-autocomplete-item"===i&&!(a&&"foot"===a.type)==!1&&"content"===n)return u.ctx.data.slice(1).map(function(t){return this._.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t},t(u));if(!!o==!1&&"b-autocomplete-item"===i&&!(a&&"foot"===a.type)==!1&&"mix"===n)return[{mods:{enterable:"no"}}];if(!!o==!1&&"b-autocomplete-item"===i&&!(a&&"nav"===a.type)==!1&&"content"===n)return{elem:"link",tag:"a",attrs:{href:u._url,target:"_blank"},content:[{elem:"link-url",tag:"span",content:u._linkUrlContent},{elem:"link-info",tag:"span",content:u._linkInfoConten}]};if(!!o==!1&&"b-autocomplete-item"===i&&!(a&&"nav"===a.type)==!1&&"js"===n)return{val:u._url};if(!!o==!1&&"b-autocomplete-item"===i&&!(a&&"nav"===a.type)==!1&&!(u.__$anflg71!==!0)==!1&&"default"===n){var Oe=u.ctx.data,Le=Oe[4],Ae=(Le.match(/^\w[\w-]*:\/\//g)?"":"http://")+Le,ze=BEM.blocks["i-common__string"].escapeHTML(Oe[3]),Fe="&nbsp;&mdash;&nbsp;"+BEM.blocks["i-common__string"].highlight(Oe[2],u.ctx.hl);return p=u.__$anflg71,u.__$anflg71=!0,f=u._linkUrlContent,u._linkUrlContent=ze,m=u._linkInfoConten,u._linkInfoConten=Fe,_=u._url,u._url=Ae,g=l(u),u._linkUrlContent=f,u._linkInfoConten=m,u._url=_,y=g,u.__$anflg71=p,y}if(!!o==!1&&"b-autocomplete-item"===i&&"content"===n){var Re=u.ctx.data,Ue=BEM.blocks["i-common__string"],He=Ue.escapeHTML(u._.isArray(Re)?Re[1]:Re);return Ue.highlight(He,u.ctx.hl)}if(!!o==!1&&"b-autocomplete-item"===i&&"mix"===n)return[{mods:{pers:u.ctx.pers?"yes":""}}];if(!!o==!1&&"b-autocomplete-item"===i&&"js"===n)return!0;if("b-autocomplete-item"===i&&!u.ctx.search_cgi==!1&&!u._.isArray(u.ctx.search_cgi)==!1&&"js"===n)return{cgi:u.ctx.search_cgi};if(!!o==!1&&"b-autocomplete-item"===i&&"tag"===n)return"li";if(""===n&&!u._==!1&&!!u._.cleverSubstring==!1)return u._.cleverSubstring=function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"…":t},void l(u);if(!!o==!1&&"fieldset"===i&&"js"===n)return!0;if(!!o==!1&&"tooltip"===i&&!(a&&"l"===a.size)==!1&&!(u.__$anflg70!==!0)==!1&&"js"===n)return u.extend((p=u.__$anflg70,u.__$anflg70=!0,f=l(u),u.__$anflg70=p,f),{tailWidth:24,tailHeight:12});if(!!o==!1&&"tooltip"===i&&!(a&&"m"===a.size)==!1&&!(u.__$anflg69!==!0)==!1&&"js"===n)return u.extend((p=u.__$anflg69,u.__$anflg69=!0,f=l(u),u.__$anflg69=p,f),{tailWidth:14,tailHeight:7});if(!!o==!1&&"label"===i&&!(a&&"yes"===a.disabled)==!1&&"attrs"===n)return{"for":""};if(!!o==!1&&"label"===i&&"attrs"===n)return{"for":u.ctx["for"]};if(!!o==!1&&"label"===i&&"js"===n)return{"for":u.ctx["for"]};if(!!o==!1&&"label"===i&&"tag"===n)return"label";if("attach"===i&&"control"===o&&"attrs"===n){var Ve=u.extend(u.ctx.attrs||{},{type:"file",name:u._name,id:u._id,"aria-labelledby":u._textId});return!!u._disabled&&(Ve.disabled="disabled"),u._tabindex&&(Ve.tabindex=u._tabindex),Ve}if("attach"===i&&"control"===o&&"tag"===n)return"input";if("attach"===i&&"control"===o&&"mix"===n)return{block:"button",elem:"control"};if("attach"===i&&"holder"===o&&"content"===n)return[{block:"image",mix:{block:"attach",elem:"icon-file"}},{elem:"text",tag:"span",content:u.ctx.content},{block:"image",mix:{block:"attach",elem:"reset"}}];if("attach"===i&&"holder"===o&&"attrs"===n)return{"aria-hidden":!0};if("attach"===i&&"holder"===o&&"tag"===n)return"span";if("button"===i&&!u._attachButton==!1&&"text"===o&&!(u.__$anflg68!==!0)==!1&&"attrs"===n){var qe=(p=u.__$anflg68,u.__$anflg68=!0,f=l(u),u.__$anflg68=p,f||{});return qe.id=u._textId,qe["aria-hidden"]=!0,qe}if(!!o==!1&&"button"===i&&!u._attachButton==!1&&!(u.__$anflg67!==!0)==!1&&"content"===n){var Ke=(p=u.__$anflg67,u.__$anflg67=!0,f=l(u),u.__$anflg67=p,f),We={block:"attach",elem:"control",attrs:u.ctx.controlAttrs};return[Ke,We]}if(!!o==!1&&"button"===i&&!u._attachButton==!1&&"attrs"===n)return{};if(!!o==!1&&"button"===i&&!u._attachButton==!1&&!(u.__$anflg66!==!0)==!1&&"default"===n){var p=u.__$anflg66;u.__$anflg66=!0;var f=u._name;u._name=u.ctx.name||"attachment";var m=u._id;u._id=u.ctx.id||u.generateId();var _=u._textId;u._textId="text"+u._id;var g=u._tabindex;return u._tabindex=u.ctx.tabindex,l(u),u._name=f,u._id=m,u._textId=_,u._tabindex=g,void(u.__$anflg66=p)}if(!!o==!1&&"button"===i&&!u._attachButton==!1&&!u._disabled==!1&&"mix"===n)return{mods:{disabled:"yes"}};if(!!o==!1&&"button"===i&&!u._attachButton==!1&&"tag"===n)return"span";if(!!o==!1&&"attach"===i&&!(u.__$anflg65!==!0)==!1&&"default"===n){var Ye=u.ctx;Ye.mods=u.extend({theme:"normal"},Ye.mods);var p=u.__$anflg65;u.__$anflg65=!0;var f=u._attachButton;u._attachButton=!0;var m=u._disabled;return u._disabled=a.disabled,l(u),u._attachButton=f,u._disabled=m,void(u.__$anflg65=p)}if(!!o==!1&&"attach"===i&&"js"===n)return!0;if(!!o==!1&&"attach"===i&&"tag"===n)return"span";if(!!o==!1&&"radio-button"===i&&"js"===n)return!0;if(!!o==!1&&"radio-button"===i&&"tag"===n)return"span";if(!!o==!1&&"radio-button"===i&&!(u.__$anflg64!==!0)==!1&&"default"===n){var Ge=u.ctx;Ge.mods||(Ge.mods={}),Ge.mods.theme||(Ge.mods.theme="normal");var p=u.__$anflg64;u.__$anflg64=!0;var f=u._radioButton;return u._radioButton={name:Ge.name,value:Ge.value,disabled:Boolean(Ge.mods.disabled)},l(u),u._radioButton=f,void(u.__$anflg64=p)}if("radio-button"===i&&"control"===o&&"attrs"===n){var Qe=u._controlAttrs;return Qe.disabled?(Qe.disabled="disabled",Qe.tabindex="-1"):delete Qe.disabled,Qe.checked?Qe.checked="checked":delete Qe.checked,Qe.type="radio",Qe.name=u._radioButton.name,Qe}if("radio-button"===i&&"control"===o&&"tag"===n)return"input";if("radio-button"===i&&"radio"===o&&"content"===n)return[{elem:"control"},{elem:"text",tag:"span",content:u.ctx.content}];if("radio-button"===i&&"radio"===o&&"attrs"===n)return{"for":u._controlAttrs.id};if("radio-button"===i&&"radio"===o&&"tag"===n)return"label";if("radio-button"===i&&"radio"===o&&!(u.__$anflg63!==!0)==!1&&"default"===n){u.ctx.elemMods||(u.ctx.elemMods={});var Ze=u.ctx.elemMods,Xe=u._radioButton,Je=Xe.disabled,tn=u.extend({},u.ctx.controlAttrs),en=void 0!==tn.value&&tn.value===Xe.value;en&&(Ze.checked="yes",Ze.pressed="yes"),Ze.checked&&(Ze.pressed="yes"),Je&&(Ze.disabled="yes");var nn=Object(u.ctx.mods).side;Ze.side||(Ze.side=nn?nn:["","right","left","both"][2*u.isFirst()+u.isLast()]),u._nextForPressed&&(Ze["next-for-pressed"]="yes",u._nextForPressed=!1),u._nextForPressed=Ze.checked,tn.checked=Boolean(Ze.checked),tn.disabled=Boolean(Ze.disabled),tn.id||(tn.id=u.generateId());var p=u.__$anflg63;u.__$anflg63=!0;var f=u._controlAttrs;return u._controlAttrs=tn,l(u),u._controlAttrs=f,void(u.__$anflg63=p)}if("radiobox"===i&&"control"===o&&"attrs"===n)return u._controlAttrs;if("radiobox"===i&&"control"===o&&"tag"===n)return"input";if("radiobox"===i&&"radio"===o&&!(u.__$anflg62!==!0)==!1&&"content"===n)return[{elem:"box",tag:"span",content:{elem:"control"}},(p=u.__$anflg62,u.__$anflg62=!0,f=l(u),u.__$anflg62=p,f)];if("radiobox"===i&&"radio"===o&&"attrs"===n)return{"for":u._controlAttrs.id};if("radiobox"===i&&"radio"===o&&"tag"===n)return"label";if("radiobox"===i&&"radio"===o&&!(u.__$anflg61!==!0)==!1&&"default"===n){var on=u.ctx,rn=u.extend({id:u.generateId(),type:"radio",name:u._name},on.controlAttrs),an=void 0!==rn.value&&rn.value===u._value;return on.elemMods=u.extend({disabled:u._disabled,checked:an?"yes":""},on.elemMods),"yes"===on.elemMods.disabled&&(rn.disabled="disabled",rn.tabindex=-1),"yes"===on.elemMods.checked&&(rn.checked="checked"),p=u.__$anflg61,u.__$anflg61=!0,f=u._controlAttrs,u._controlAttrs=rn,m=l(u),u._controlAttrs=f,_=m,u.__$anflg61=p,_}if(!!o==!1&&"radiobox"===i&&"js"===n)return!0;if(!!o==!1&&"radiobox"===i&&"tag"===n)return"span";if(!!o==!1&&"radiobox"===i&&!(u.__$anflg60!==!0)==!1&&"default"===n){var sn=u.ctx,un=u.extend({theme:"normal"},sn.mods),p=u.__$anflg60;u.__$anflg60=!0;var f=u.ctx,m=f.mods;f.mods=un;var _=u._disabled;u._disabled=un.disabled;var g=u._name;u._name=u.ctx.name;var y=u._value;return u._value=u.ctx.value,l(u),f.mods=m,u._disabled=_,u._name=g,u._value=y,void(u.__$anflg60=p)}if("checkbox"===i&&"label"===o&&"attrs"===n){var cn=u.ctx.attrs||{};return cn["for"]=u._checkboxAttrs.id,cn.id=u._labelId,cn["aria-hidden"]=!0,cn}if("checkbox"===i&&"label"===o&&"tag"===n)return"label";if("checkbox"===i&&"control"===o&&"attrs"===n){var ln=u.ctx.attrs||{};return ln.id=u._checkboxAttrs.id,ln.type="checkbox",ln.autocomplete="off",a.disabled&&(ln.disabled="disabled"),"yes"==a.checked&&(ln.checked="checked"),ln["aria-labelledby"]=u._labelId,ln}if("checkbox"===i&&"control"===o&&"tag"===n)return"input";
if(!!o==!1&&"checkbox"===i&&"content"===n)return[{elem:"box",tag:"span",elemMods:"yes"===a.checked?{checked:"yes"}:"",content:[{elem:"control",attrs:u.ctx.checkboxAttrs||{}},{elem:"tick",tag:"i"}]},u.ctx.content];if(!!o==!1&&"checkbox"===i&&!(u.__$anflg59!==!0)==!1&&"default"===n){var dn=u.ctx,hn=dn.checkboxAttrs||{},pn=hn.id||u.generateId(),fn=dn.mods||{};fn.theme=fn.theme||"normal";var p=u.__$anflg59;u.__$anflg59=!0;var f=u._checkboxAttrs;u._checkboxAttrs=hn.id?hn:{id:"id"+pn};var m=u._labelId;u._labelId="label"+pn;var _=u.ctx,g=_.mods;return _.mods=fn,l(u),u._checkboxAttrs=f,u._labelId=m,_.mods=g,void(u.__$anflg59=p)}if(!!o==!1&&"checkbox"===i&&"js"===n)return u.extend({live:!1},u.ctx.js);if(!!o==!1&&"checkbox"===i&&"tag"===n)return"span";if("select"===i&&"label"===o&&"attrs"===n)return{id:"label"+u._controlAttrs.id,"for":u._controlAttrs.id,"aria-hidden":!0};if("select"===i&&"label"===o&&"tag"===n)return"label";if("select"===i&&"control"===o&&!u.ctx.autoContent==!1&&"content"===n){var mn=require("lodash"),_n=mn.map(u.ctx.autoContent,function(t){var e={elem:"option",content:""};return mn.isString(t)||mn.isNumber(t)||mn.isBoolean(t)?e.content=""+t:mn.isObject(t)&&mn.merge(e,t),e.attrs=e.attrs||{},mn.isUndefined(e.attrs.value)&&(e.attrs.value=e.content),e});return u.ctx.content=_n,u.ctx.content}if("select"===i&&"control"===o&&"attrs"===n){for(var gn,yn=["id","name","tabindex"],bn={};gn=yn.pop();)u._controlAttrs[gn]&&(bn[gn]=u._controlAttrs[gn]);return"yes"===a.disabled&&(bn.disabled="disabled"),bn.tabindex=-1,bn["aria-hidden"]=!0,u.ctx.controlAttrs||bn}if("select"===i&&"control"===o&&"tag"===n)return"select";if(!!o==!1&&"button"===i&&!u._formSelect==!1&&"content"===n){var vn=u._formSelect.mods.icon?{elem:"icon",mix:{block:"image",mods:{name:a.icon}}}:"",xn=u._formSelect.mods["right-hint"]?{elem:"right-hint",content:u.ctx.attrs["right-hint"]}:"";return[vn,{elem:"text",content:u.ctx.content},xn]}if(!!o==!1&&"button"===i&&!u._formSelect==!1&&"mix"===n)return[{block:u._formSelect.block,elem:"button"}];if(!!o==!1&&"button"===i&&!u._formSelect==!1&&!(u.__$anflg58!==!0)==!1&&"default"===n){var kn=u.ctx,wn=u._formSelect.mods,Mn=u._formSelect.tabindex,En=kn.mods||{};En.arrow="down",wn.theme&&(En.theme=wn.theme),wn.size&&(En.size=wn.size),"yes"===wn.disabled&&(En.disabled="yes"),kn.mods=En,Mn&&(kn.tabindex=Mn);var p=u.__$anflg58;u.__$anflg58=!0;var f=u.ctx,m=f._theme;return f._theme=!0,l(u),f._theme=m,void(u.__$anflg58=p)}if(!!o==!1&&"button"===i&&!u._formSelect==!1&&"attrs"===n)return{role:"listbox",type:"button","aria-haspopup":!0,"aria-expanded":!1};if("select"===i&&"item"===o&&!(u.__$anflg57!==!0)==!1&&"attrs"===n){var In=(p=u.__$anflg57,u.__$anflg57=!0,f=l(u),u.__$anflg57=p,f||{});return"yes"===(u.ctx.elemMods||{}).label&&(In.id=u._labelId,In["aria-hidden"]=!0),In}if("select"===i&&"item"===o&&"attrs"===n)return{id:u.generateId()};if("select"===i&&"text"===o&&"tag"===n)return"span";if("select"===i&&"option-group"===o&&"tag"===n)return"optgroup";if("select"===i&&"option"===o&&"tag"===n)return"option";if(!!o==!1&&"select"===i&&"tag"===n)return"span";if(!!o==!1&&"select"===i&&"js"===n)return!0;if(!!o==!1&&"select"===i&&!(u.__$anflg56!==!0)==!1&&"default"===n){var Bn=u.ctx,$n=Bn.id||u.generateId(),p=u.__$anflg56;u.__$anflg56=!0;var f=u._controlAttrs;u._controlAttrs={id:$n,name:Bn.name||$n,tabindex:Bn.tabindex};var m=u._formSelect;return u._formSelect={block:i,mods:a,tabindex:Bn.tabindex},l(u),u._controlAttrs=f,u._formSelect=m,void(u.__$anflg56=p)}if("input"===i&&"icon"===o&&"tag"===n)return"span";if("input"===i&&"under"===o&&"tag"===n)return"span";if("input"===i&&"label"===o&&"attrs"===n)return{id:u._labelId,"for":u._inputId,"aria-hidden":!0};if("input"===i&&"label"===o&&"tag"===n)return"label";if("result"===i&&"title"===o&&"content"===n){var Tn=[u.ctx.content];if(a.status){var Cn="minus-red";"success"===a.status?Cn="checkmark-green":"await"===a.status&&(Cn="exclamation-yellow"),Tn.push({block:"icon",mods:{size:"32",name:Cn},mix:{block:"title",elem:"icon"}})}return{block:"title",content:Tn}}if("result"===i&&!o==!1&&"mix"===n)return{block:"island",elem:"section"};if(!!o==!1&&"result"===i&&"mix"===n)return{block:"island"};if(!!o==!1&&"paranja"===i&&!(u.__$anflg55!==!0)==!1&&"default"===n)return p=u.__$anflg55,u.__$anflg55=!0,f=u.ctx,m=f.mods,f.mods=u.extend({state:"close",theme:"normal"},u.ctx.mods),_=l(u),f.mods=m,g=_,u.__$anflg55=p,g;if("lang-switcher"===i&&"flag"===o&&!(r&&"ru"===r.icon)==!1&&"country-flag"===n)return"ru";if("lang-switcher"===i&&"flag"===o&&!(r&&"en"===r.icon)==!1&&"country-flag"===n)return"gb";if("lang-switcher"===i&&"flag"===o&&"country-flag"===n)return"gb";if("lang-switcher"===i&&"flag"===o&&!u._withFlags==!1&&!(u.__$anflg54!==!0)==!1&&"default"===n){var Sn=(p=n,n="country-flag",f=l(u),n=p,f),m=u.__$anflg54;u.__$anflg54=!0;var _=u.ctx;u.ctx={block:"country-flag",mods:{s16:Sn},mix:[{block:"lang-switcher",elem:"flag"}],alt:""};var g=n;return n="",l(u),u.ctx=_,n=g,void(u.__$anflg54=m)}if("lang-switcher"===i&&"lang"===o&&!(u.__$anflg53!==!0)==!1&&"default"===n){var Dn,jn=u.ctx.lang;jn.code?Dn={short_ename:"en"==jn.code?"com":jn.code}:jn.langCode?Dn={lang:jn.langCode}:jn.region&&(Dn=jn.region);var Nn=u["i-geodata"].getRegion(Dn),Pn=u.ctx;Pn._lang={lang:Nn.lang,name:u.ctx.lang.name},u.ctx._isCurrentLang||(u.position=u.position-1,u._hasLinkToAll&&u.position===u._listLength-2&&(u.position=u._listLength-1),Pn={block:"b-menu-vert",elem:"layout-unit",content:u._.extend(u.ctx,{block:i})});var p=u.__$anflg53;u.__$anflg53=!0;var f=u.ctx;u.ctx=Pn;var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg53=p)}if("lang-switcher"===i&&"lang"===o&&"content"===n){var On=u.ctx._lang.lang;return[{elem:"flag",elemMods:{icon:On}},{elem:"lang-name",tag:"span",content:u.ctx._lang.name}]}if("lang-switcher"===i&&"lang"===o&&!!a.selected==!1&&!("yes"!=r.selected)==!1&&"attrs"===n){var Ln=u.ctx,An=u.ctx._lang.lang,zn=u["i-global"];return{href:Ln.url||u["i-services"].serviceUrl("tune")+(zn["secret-key"]?"/api/lang/v1.1/save.xml?intl="+An+(zn.retpath?"&retpath="+encodeURIComponent(zn.retpath):"")+"&sk="+zn["secret-key"]:"/lang/"),role:"button",tabindex:0}}if("lang-switcher"===i&&"lang"===o&&!!a.selected==!1&&!("yes"!=r.selected)==!1&&"tag"===n)return"a";if("lang-switcher"===i&&"lang"===o&&"tag"===n)return"span";if(!!o==!1&&"lang-switcher"===i&&!(u.__$anflg52!==!0)==!1&&"default"===n){u._withFlags=!(u.ctx.mods&&u.ctx.mods.noflags);var p=u.__$anflg52;u.__$anflg52=!0;var f=u.ctx;u.ctx={block:"dropdown-menu",mix:(u.ctx.mix||[]).concat(u._.extend(u.ctx,{js:!0})),content:[{elem:"switcher",content:{block:"lang-switcher",mix:[{block:"link",mods:{pseudo:"yes"},js:!0}],elem:"lang",lang:u.ctx.lang,mods:{selected:"yes"},attrs:{role:"button",tabindex:0},_isCurrentLang:!0}},{elem:"popup",mix:[{block:"lang-switcher",elem:"popup-content"}],content:{block:i,mods:a,tag:"",content:u._.isArray(u.ctx.content)&&u.ctx.content.length<4&&u.ctx.noMore!==!0?(u._hasLinkToAll=!0,u.ctx.content.concat([{block:"b-menu-vert",elem:"layout-unit",mix:[{block:"lang-switcher",elem:"all"}],content:{block:"link",url:u["i-services"].serviceUrl("tune")+"/lang/",content:u.ctx.moreText||BEM.I18N("lang-switcher","all")}}])):u.ctx.content}}]};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg52=p)}if("b-menu-horiz"===i&&!a==!1&&"item-selector"===o&&"tag"===n)return"span";if("b-menu-horiz"===i&&!a==!1&&"layout-unit"===o&&"mix"===n){var Fn=[];return u.isFirst()&&Fn.push({elemMods:{position:"first"}}),u.isLast()&&Fn.push({elemMods:{position:"last"}}),Fn}if("b-menu-horiz"===i&&!a==!1&&"item"===o&&!(u.__$anflg51!==!0)==!1&&"default"===n){var p=u.__$anflg51;u.__$anflg51=!0;var f=n;n="";var m=u.position;u.position=u.position-1;var _=u.ctx;return u.ctx={elem:"layout-unit",content:u.ctx},l(u),n=f,u.position=m,u.ctx=_,void(u.__$anflg51=p)}if(!!o==!1&&"b-menu-horiz"===i&&!a==!1&&"js"===n)return!0;if("dropdown-menu"===i&&"switcher"===o&&!(u.__$anflg50!==!0)==!1&&"default"===n){var Rn=u.ctx.content;Rn.mix=(Rn.mix||[]).concat([{block:"dropdown-menu",elem:"switcher"}]);var p=u.__$anflg50;u.__$anflg50=!0;var f=u.ctx;u.ctx=Rn;var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg50=p)}if("dropdown-menu"===i&&"popup"===o&&!(u.__$anflg49!==!0)==!1&&"default"===n){var Un=u.ctx,p=u.__$anflg49;u.__$anflg49=!0;var f=u.ctx;u.ctx={block:"dropdown",elem:"popup",js:u.ctx.js,mix:(Un.mix||[]).concat({block:"dropdown-menu",elem:"popup",mods:u._.extend({size:u.dropdownMenuSize},Un.mods)}),attrs:Un.attrs,content:{block:"dropdown-menu",elem:"menu",title:Un.menuTitle,type:Un.type,mods:Un.menuMods,mix:Un.menuMix,content:Un.content}};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg49=p)}if(!("b-menu-vert"===i||"b-menu-horiz"===i)==!1&&!u._inDropdownMenu==!1&&"item"===o&&"attrs"===n)return{role:"menuitem"};if(!("b-menu-vert"===i||"b-menu-horiz"===i)==!1&&!u._inDropdownMenu==!1&&!!o==!1&&"attrs"===n)return{role:"menu"};if("dropdown-menu"===i&&"menu"===o&&!(u.__$anflg48!==!0)==!1&&"default"===n){var Hn=u.ctx,Vn=Hn.type||"vert",qn=Hn.mods||{};qn.theme||(qn.theme="ffffff");var p=u.__$anflg48;u.__$anflg48=!0;var f=u.ctx;u.ctx={block:"b-menu-"+Vn,mix:(Hn.mix||[]).concat({block:"dropdown-menu",elem:"menu",mods:qn}),title:Hn.title,content:Hn.content};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg48=p)}if(!!o==!1&&"dropdown-menu"===i&&!(u.__$anflg47!==!0)==!1&&"default"===n){var Kn=u.ctx,Wn=Kn.mods||(Kn.mods={});Wn.theme||(Wn.theme="ffffff"),u.dropdownMenuSize=Wn.size;var p=u.__$anflg47;u.__$anflg47=!0;var f=u.ctx;u.ctx=Kn;var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg47=p)}if(!!o==!1&&"dropdown-menu"===i&&"js"===n)return!0;if("b-menu-vert"===i&&"title"===o&&"tag"===n)return"h3";if("b-menu-vert"===i&&"submenu"===o&&"tag"===n)return"ul";if("b-menu-vert"===i&&"item-selector"===o&&"tag"===n)return"span";if("b-menu-vert"===i&&"layout-unit"===o&&"mix"===n){var Yn=[];return u.isFirst()&&Yn.push({elemMods:{position:"first"}}),u.isLast()&&Yn.push({elemMods:{position:"last"}}),Yn}if("b-menu-vert"===i&&"layout-unit"===o&&"tag"===n)return"li";if("b-menu-vert"===i&&"item"===o&&!(u.__$anflg46!==!0)==!1&&"default"===n){var p=u.__$anflg46;u.__$anflg46=!0;var f=n;n="";var m=u.position;u.position=u.position-1;var _=u.ctx;return u.ctx={elem:"layout-unit",content:[u.ctx,u.ctx["item-content"]]},l(u),n=f,u.position=m,u.ctx=_,void(u.__$anflg46=p)}if("b-menu-vert"===i&&"layout"===o&&"tag"===n)return"ul";if(!!o==!1&&"b-menu-vert"===i&&"content"===n)return[u.ctx.title,{elem:"layout",content:u.ctx.content}];if(!!o==!1&&"i-geodata"===i&&"regions"===n)return{10000:{id:"10000",lang:"en",ename:"Earth",short_ename:"com",name:"Земля",parent:0},225:{id:"225",lang:"ru",ename:"Russia",short_ename:"ru",name:"Россия",parent:"10000"},213:{id:"213",ename:"Moscow",short_ename:"msk",name:"Москва",parent:"225"},9999:{id:"9999",ename:"Yandex",short_ename:"yndx",name:"Яндекс",parent:"213"},187:{id:"187",lang:"uk",ename:"Ukraine",short_ename:"ua",name:"Украина",parent:"10000"},149:{id:"149",lang:"be",ename:"Belarus",short_ename:"by",name:"Беларусь",parent:"10000"},159:{id:"159",lang:"kk",ename:"Kazakhstan",short_ename:"kz",name:"Казахстан",parent:"10000"},11119:{id:"11119",lang:"tt",ename:"Tatarstan",short_ename:"tt",name:"Республика Татарстан",parent:"10000"},167:{id:"167",lang:"az",ename:"Azerbaijan",short_ename:"az",name:"Азербайджан",parent:"10000"},983:{id:"983",lang:"tr",ename:"Turkey",short_ename:"tr",name:"Турция",parent:"10000"},20730:{id:"20730",lang:"en",ename:"Mars",short_ename:"mars",name:"Марс",parent:0,hidden:!0}};if("i-geodata"===i&&"region-parent"===o&&"content"===n)return u._userRegion.parent;if("i-geodata"===i&&"region-name"===o&&"content"===n)return u._userRegion.name;if("i-geodata"===i&&"region-short-ename"===o&&"content"===n)return u._userRegion.short_ename;if("i-geodata"===i&&"region-ename"===o&&"content"===n)return u._userRegion.ename;if("i-geodata"===i&&"region-lang"===o&&"content"===n)return u._userRegion.lang;if("i-geodata"===i&&"region-id"===o&&"content"===n)return u._userRegion.id;if("i-geodata"===i&&"default"===n&&!!o==!1&&!!u._userRegion==!1){var p=u._userRegion;return u._userRegion=u["i-geodata"].getRegion(u.ctx.region),l(u),void(u._userRegion=p)}if(""===n&&!u["i-global"]==!1&&!(u.__$anflg45!==!0)==!1&&!!u["i-geodata"]==!1){var Gn=u["i-geodata"]={},Qn=u["i-global"],Zn=t(u);Gn._data=(p=i,i="i-geodata",f=n,n="regions",m=l(u),i=p,n=f,m),Gn._getRegionLang=function(t){return t.lang||Gn._getRegionLang(Gn._data[t.parent])},Gn.getRegion=function(t){t||(t={short_ename:Qn["user-region"]||Qn["content-region"]});var e;if(t.id)e=t.id;else{var n,i;for(n in Gn._data)for(i in t){if(t.hasOwnProperty(i)&&t[i]===Gn._data[n][i]&&!Gn._data[n].hidden){e=Gn._data[n].id;break}if(e)break}}var o=Gn._data[e];return o.lang||(o.lang=Gn._getRegionLang(o)),o},Gn.isRegionIn=function(t,e,n){!e||Zn._.isSimple(e)||n||(n=e,e=!1),e||(e="short_ename"),n=Gn.getRegion(n);for(var i in t)if(t.hasOwnProperty(i)&&t[i]==n[e])return n;return n.parent?Gn.isRegionIn(t,e,{id:n.parent}):!1};var _=u.__$anflg45;return u.__$anflg45=!0,l(u),void(u.__$anflg45=_)}if(!!o==!1&&"share"===i&&"content"===n)return[{tag:"script",attrs:{src:"//yastatic.net/share/share.js"}}];if(!!o==!1&&"share"===i&&"attrs"===n)return{id:"share"};if(!!o==!1&&"share"===i&&"js"===n)return{title:u.ctx.shareParams&&u.ctx.shareParams.title||"",image:u.ctx.shareParams&&u.ctx.shareParams.image||"",description:u.ctx.shareParams&&u.ctx.shareParams.description||"",link:u.ctx.shareParams&&u.ctx.shareParams.link||u["i-global"].url||"",servicesList:u.ctx.shareParams.servicesList||["facebook","moimir","vkontakte","twitter","odnoklassniki","gplus"],serviceSpecific:u.ctx.shareParams.serviceSpecific||{}};if(!!o==!1&&"copyright"===i&&!(a&&"money"===a.type)==!1&&"content"===n){var Xn=(new Date).getFullYear();return[BEM.I18N("copyright","money-linked",{year:Xn,link:BEMHTML.apply({block:"copyright",elem:"link",url:u["i-global"]["root-host"]+"/"+BEM.I18N("copyright","about-link",{urlParam:u.ctx["url-param"]||""}),content:BEM.I18N("copyright","money-light")})})]}if("footer"===i&&"phone"===o&&!u.ctx.url==!1&&"attrs"===n)return{href:"tel:"+u.ctx.url};if("footer"===i&&"phone"===o&&!u.ctx.url==!1&&"mix"===n)return[{block:"link"}];if("footer"===i&&"phone"===o&&!u.ctx.url==!1&&"tag"===n)return"a";if("copyright"===i&&"link"===o&&"content"===n)return u.ctx.content||BEM.I18N("copyright","yandex");if("copyright"===i&&"link"===o&&!u.ctx.url==!1&&"attrs"===n)return{href:u.ctx.url};if("copyright"===i&&"link"===o&&!u.ctx.url==!1&&"tag"===n)return"a";if("copyright"===i&&"link"===o&&"tag"===n)return!1;if(!!o==!1&&"copyright"===i&&"content"===n){var Jn=(new Date).getFullYear(),ti=u.ctx.start||Jn;return["&copy;&nbsp;"+ti+(Jn===ti?"":"&ndash;"+Jn)+"&nbsp;&nbsp;",u.ctx.content||{block:"i-bem",elem:"i18n",keyset:"copyright",key:"link",content:{block:i,elem:"link",url:void 0===u.ctx.url?u["i-services"].serviceUrl("www"):u.ctx.url}}]}if("footer"===i&&"link"===o&&!(u.__$anflg44!==!0)==!1&&"default"===n){var ei=u.extend(u.ctx,{block:"link",mix:[{block:i,elem:o,elemMods:r}]});u.ctx.mix&&(ei.mix=ei.mix.concat(u.ctx.mix)),delete ei.elem,delete ei.elemMods;var p=u.__$anflg44;u.__$anflg44=!0;var f=u.ctx;u.ctx=ei;var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg44=p)}if("copyright"===i&&"link"===o&&!u._inFooter==!1&&"mix"===n)return[{block:"footer",elem:"link"}];if(!!o==!1&&"footer"===i&&!!u.ctx.content==!1&&"content"===n){var ni=[],ii=[];ni.push({elem:"link",url:BEM.I18N("footer","apps-url"),content:BEM.I18N("footer","apps")});var oi=!(u["i-global"].tld.indexOf("com")>=0);return oi&&ii.push({elem:"link",url:BEM.I18N("footer","advert-url"),content:BEM.I18N("footer","advert")}),oi&&u.ctx.statUrl&&ii.push({elem:"link",url:u.ctx.statUrl,content:BEM.I18N("footer","stat")}),ii.push({elem:"link",url:BEM.I18N("footer","termsofuse-url"),content:BEM.I18N("footer","termsofuse")}),ii.push({elem:"link",url:BEM.I18N("footer","about-url"),content:BEM.I18N("footer","about")}),ii.push({block:"copyright",start:u.ctx.start}),[{elem:"column",content:ni},{elem:"column",elemMods:{side:"right"},content:ii}]}if(!!o==!1&&"footer"===i&&"attrs"===n)return{role:"contentinfo"};if(!!o==!1&&"footer"===i&&"mix"===n)return[{block:"clearfix"}];if(!!o==!1&&"footer"===i&&!(u.__$anflg43!==!0)==!1&&"default"===n)return p=u.__$anflg43,u.__$anflg43=!0,f=u._inFooter,u._inFooter=!0,m=l(u),u._inFooter=f,_=m,u.__$anflg43=p,_;if("input"===i&&"hint"===o&&!!u._value==!1&&!(0!==u._value)==!1&&!(u.__$anflg42!==!0)==!1&&"default"===n){var ri=u.ctx,ai=ri.elemMods||(ri.elemMods={});return ai.visibility="visible",p=u.__$anflg42,u.__$anflg42=!0,f=u.ctx,u.ctx=ri,m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg42=p,g}if("input"===i&&"hint"===o&&"attrs"===n)return{id:u._hintId,"for":u._inputId,"aria-hidden":!0};if("input"===i&&"hint"===o&&"tag"===n)return"label";if("input"===i&&"clear"===o&&"content"===n&&!!u.ctx.content==!1)return"";if("input"===i&&"clear"===o&&"attrs"===n)return{unselectable:"on"};if("input"===i&&"clear"===o&&"tag"===n)return"span";if("input"===i&&"control"===o&&!(u.__$anflg41!==!0)==!1&&"default"===n){var p=u.__$anflg41;u.__$anflg41=!0;var f=u.ctx;u.ctx={elem:"box",content:u.ctx};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg41=p)}if("input"===i&&"control"===o&&"attrs"===n){var si=u._.extend({id:u._inputId,name:u._name},u.ctx.controlAttrs);return(u._value||0===u._value)&&(si.value=u._value),a.disabled&&(si.disabled="disabled"),u._live&&(si.autocomplete="off"),si["aria-labelledby"]=u._labelId+" "+u._hintId,si}if("input"===i&&"control"===o&&"tag"===n)return"input";if("input"===i&&"box"===o&&!a.icon==!1&&!(u.__$anflg40!==!0)==!1&&"content"===n)return[(p=u.__$anflg40,u.__$anflg40=!0,f=l(u),u.__$anflg40=p,f),{elem:"icon",mods:{name:u._icon}}];if("input"===i&&"box"===o&&!(!a.clear&&"right"!==a.icon)==!1&&!(u.__$anflg39!==!0)==!1&&"content"===n)return[(p=u.__$anflg39,u.__$anflg39=!0,f=l(u),u.__$anflg39=p,f),{elem:"clear",elemMods:u._value||0===u._value?{visibility:"visible"}:void 0}];if("input"===i&&"box"===o&&"tag"===n)return"span";if("input"===i&&"ahead-hint"===o&&"tag"===n)return"span";if("input"===i&&"ahead-filler"===o&&"tag"===n)return"span";if("input"===i&&"ahead"===o&&"content"===n)return[{elem:"ahead-filler"},{elem:"ahead-hint"}];if("input"===i&&"ahead"===o&&"mix"===n)return[{block:"input",elem:"input"}];if("input"===i&&!!o==!1&&"value"===n&&!u.isSimple(u.ctx)==!1)return u.ctx;if("input"===i&&!!o==!1&&"value"===n&&!u.ctx==!1){var ui=[],p=u._buf;u._buf=ui;var f=n;return n="",l(u),u._buf=p,n=f,ui.join("")}if("input"===i&&!!o==!1&&"value"===n)return"";if("input"===i&&!!o==!1&&!(u.__$anflg38!==!0)==!1&&"default"===n){var ci=(p=n,n="value",f=u.ctx,u.ctx=u.ctx.value,m=l(u),n=p,u.ctx=f,m),li=u.ctx.id||u.generateId(),di=u.ctx.mods||{},hi=(_=n,n="getLive",g=l(u),n=_,g);di.theme=di.theme||"normal";var y=u.__$anflg38;u.__$anflg38=!0;var b=u._inputId;u._inputId=li;var v=u._labelId;u._labelId="label"+li;var x=u._hintId;u._hintId="hint"+li;var k=u._name;u._name=u.ctx.name||"";var w=u._value;u._value=ci;var M=u._inputLink;u._inputLink=!0;var E=u._icon;u._icon=u.ctx.icon;var I=u._disabled;u._disabled=a.disabled;var B=u._live;u._live=hi;var $=u.ctx,T=$.mods;return $.mods=di,l(u),u._inputId=b,u._labelId=v,u._hintId=x,u._name=k,u._value=w,u._inputLink=M,u._icon=E,u._disabled=I,u._live=B,$.mods=T,void(u.__$anflg38=y)}if("input"===i&&!!o==!1&&"js"===n)return{live:u._live};if("input"===i&&!!o==!1&&"getLive"===n){var pi=(p=n,n="live",f=l(u),n=p,f),fi=u.ctx.js,mi=u.ctx.mods,_i={autofocus:"yes",width:"content","tap-ahead":"yes"};if(fi){if(fi.autoFocus&&fi.live)throw new Error('input block can\'t have both "live" and "autoFocus" enabled');fi.hasOwnProperty("live")&&(pi=fi.live);var gi=Object.keys(_i).some(function(t){return mi[t]===_i[t]});(gi||fi.autoFocus)&&(pi=!1)}return pi}if("input"===i&&!!o==!1&&"live"===n)return!1;if("input"===i&&!!o==!1&&"tag"===n)return"span";if(!!o==!1&&"server-error"===i&&!(a&&"404"===a.type)==!1&&"content"===n)return[{elem:"code",content:"404"},{block:"title",mix:{block:"server-error",elem:"title"},content:BEM.I18N("server-error","not-found")},{elem:"content",content:[{block:"paragraph",content:BEM.I18N("server-error","not-found-page")},{block:"paragraph",content:{block:"link",url:u["i-global"]["root-host"],content:BEM.I18N("server-error","move-to-index")}},{block:"paragraph",mods:{indent:"s"},content:BEM.I18N("server-error","try-to-search")},{block:"input",mods:{size:"m"},content:{elem:"control",attrs:{name:"text",autocomplete:"off"}}},{block:"button",mods:{size:"m",side:"right"},type:"submit",content:BEM.I18N("server-error","search")}]}];if(!!o==!1&&"link"===i&&!(a&&"yes"===a.pseudo)==!1&&"content"===n&&!!a.inner==!1)return{elem:"inner",content:u.ctx.content};if(!!o==!1&&"link"===i&&!(a&&"yes"===a.pseudo)==!1&&"attrs"===n&&!!u.ctx.url==!1)return{role:"button",tabindex:0};if(!!o==!1&&"link"===i&&!(a&&"yes"===a.pseudo)==!1&&"js"===n)return!0;if(!!o==!1&&"link"===i&&!(a&&"yes"===a.refresh)==!1&&!(u.__$anflg37!==!0)==!1&&"default"===n){var yi=u.ctx.mods||{};yi.pseudo="yes";var p=u.__$anflg37;u.__$anflg37=!0;var f=a;return a=yi,l(u),a=f,void(u.__$anflg37=p)}if(!!o==!1&&"link"===i&&!(a&&"yes"===a.refresh)==!1&&"js"===n)return!0;if(!!o==!1&&"server-error"===i&&!(a&&"503"===a.type)==!1&&"content"===n)return[{block:"server-error",elem:"code",content:"503"},{block:"title",mix:{block:"server-error",elem:"title"},content:BEM.I18N("server-error","service-unavailable")},{block:"server-error",elem:"content",mix:{block:"paragraph"},content:[BEM.I18N("server-error","try-later",{link:BEMHTML.apply({block:"link",mods:{refresh:"yes"},content:BEM.I18N("server-error","refresh-page")})})]}];if(!!o==!1&&"paragraph"===i&&"cls"===n)return u.isLast()&&"paragraph_last_yes";if(!!o==!1&&"paragraph"===i&&"tag"===n)return"p";if(!!o==!1&&"title"===i&&"cls"===n)return u.isLast()&&"title_last_yes";if(!!o==!1&&"title"===i&&!(u.ctx.mods&&"4"!==u.ctx.mods.level)==!1&&"mix"===n)return{block:"i-font",mods:{face:"textbook"}};if(!!o==!1&&"title"===i&&!(a&&"4"===a.level)==!1&&"tag"===n)return"h4";if(!!o==!1&&"title"===i&&!(a&&"3"===a.level)==!1&&"tag"===n)return"h3";if(!!o==!1&&"title"===i&&!(a&&"2"===a.level)==!1&&"tag"===n)return"h2";if(!!o==!1&&"title"===i&&"tag"===n)return"h1";if("server-error"===i&&"code"===o&&"mix"===n)return{block:"i-font",mods:{face:"textbook"}};if("menu"===i&&"link"===o&&"attrs"===n)return{href:u.ctx.url};if("menu"===i&&"link"===o&&"tag"===n)return"a";if("menu"===i&&"item"===o&&"tag"===n)return"li";if("menu"===i&&"item"===o&&"default"===n&&!(u.__$anflg36!==!0)==!1&&!u.ctx.url==!1){var bi=u.ctx.mods&&"current"===u.ctx.mods.state,vi=u.ctx.mods&&"yes"===u.ctx.mods.clickable;u.ctx.mods=u._.extend(u.ctx.mods||{},{link:"yes"});var p=u.__$anflg36;u.__$anflg36=!0;var f=u.ctx;u.ctx={elem:"item",mods:u.ctx.mods,content:{elem:"link",mods:{disabled:bi?vi?"":"yes":""},attrs:{href:u.ctx.url},content:u.ctx.content}};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg36=p)}if(!!o==!1&&"menu"===i&&"tag"===n)return"ul";if(!!o==!1&&"lib"===i&&!(a&&"yandex-maps-api"===a.name)==!1&&!(u.__$anflg35!==!0)==!1&&"default"===n){var xi="en"===a.lang?"en_US":"ru_RU",p=u.__$anflg35;u.__$anflg35=!0;var f=u.ctx;u.ctx={block:"b-page",elem:"js",url:(u.ctx.protocol?u.ctx.protocol+":":"")+"//api-maps.yandex.ru/"+a.version+"/?lang="+xi};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg35=p)}if(!!o==!1&&"lib"===i&&!(a&&"formatter"===a.name)==!1&&!(u.__$anflg34!==!0)==!1&&"default"===n)return p=u.__$anflg34,u.__$anflg34=!0,f=u.ctx,u.ctx={block:"b-page",elem:"js",url:u["i-global"]["root-host"]+"/js/formatter/formatter.js?ver="+a.version},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg34=p,g;if(!!o==!1&&"lib"===i&&!(a&&"jquery-form"===a.name)==!1&&!(u.__$anflg33!==!0)==!1&&"default"===n)return p=u.__$anflg33,u.__$anflg33=!0,f=u.ctx,u.ctx={block:"b-page",elem:"js",url:(u.ctx.protocol?u.ctx.protocol+":":"")+"//yastatic.net/jquery/form/"+a.version+"/jquery.form.min.js"},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg33=p,g;if(!!o==!1&&"lib"===i&&!(a&&"lodash"===a.name)==!1&&!(u.__$anflg32!==!0)==!1&&"default"===n)return p=u.__$anflg32,u.__$anflg32=!0,f=u.ctx,u.ctx={block:"b-page",elem:"js",url:(u.ctx.protocol?u.ctx.protocol+":":"")+"//yastatic.net/lodash/"+a.version+"/lodash.min.js"},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg32=p,g;if(!!o==!1&&"lib"===i&&!(u.__$anflg31!==!0)==!1&&"default"===n)return p=u.__$anflg31,u.__$anflg31=!0,f=u.ctx,u.ctx={block:"b-page",elem:"js",url:u.ctx.url},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg31=p,g;if("stat-scripts"===i&&"tns"===o&&"attrs"===n){var ki=Math.round(1e9*Math.random()),wi=u["i-global"].tns||u.ctx.id||"yandex_"+u["i-global"].id,Mi="//www.tns-counter.ru/V13a****yandex_ru/ru/CP1251/tmsec="+wi+"/"+ki;return{style:"background: url("+Mi+")"}}if("stat-scripts"===i&&"tns"===o&&"bem"===n)return!1;if("stat-scripts"===i&&"tns"===o&&"tag"===n)return"i";if("stat-scripts"===i&&"yametricsPda"===o&&"content"===n)return'<noscript><div><img src="//mc.yandex.ru/watch/1083453" style="position:absolute; left:-9999px;" alt="" /></div></noscript>';if("stat-scripts"===i&&"yametricsPda"===o&&"tag"===n)return"";if("stat-scripts"===i&&"yametrics"===o&&"content"===n)return'<noscript><div><img src="//mc.yandex.ru/watch/152220" style="position:absolute; left:-9999px;" alt="" /></div></noscript>';if("stat-scripts"===i&&"yametrics"===o&&"tag"===n)return"";if("stat-scripts"===i&&"gtm"===o&&"content"===n)return'<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TWSZGW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>';if("stat-scripts"===i&&"gtm"===o&&"tag"===n)return"";if(!!o==!1&&"stat-scripts"===i&&"tag"===n)return"i";if(!!o==!1&&"i-jquery"===i&&!(u.__$anflg30!==!0)==!1&&"default"===n)return p=u.__$anflg30,u.__$anflg30=!0,f=u.ctx,u.ctx={block:"b-page",elem:"js",url:u.ctx.url||(u.ctx.protocol?u.ctx.protocol+":":"")+"//yastatic.net/jquery/"+a.version+"/jquery.min.js"},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg30=p,g;if(!!o==!1&&"i-jquery"===i&&!(u.__$anflg29!==!0)==!1&&"default"===n)return p=u.__$anflg29,u.__$anflg29=!0,f=u.ctx,u.ctx={block:"b-page",elem:"js",url:u.ctx.url||(u.ctx.protocol?u.ctx.protocol+":":"")+"//yastatic.net/jquery/"+a.version+"/jquery.min.js"},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg29=p,g;if("b-page"===i&&"foot-js"===o&&"tag"===n)return"";if("b-page"===i&&"root"===o&&"bem"===n){var Ei=u["i-global"].pageTheme||"",Ii=!1;return Ei&&"normal"!==Ei&&(u.ctx.mods={theme:Ei},Ii=!0),Ii}if("b-page"===i&&"js"===o&&"attrs"===n&&!u.ctx.url==!1)return{src:u.ctx.versions?u.ctx.url+"?v="+encodeURIComponent(u.ctx.versions[u.ctx.url.split("/").pop()]):u.ctx.url};if("b-page"===i&&"js"===o&&"tag"===n)return"script";if("b-page"===i&&"js"===o&&"bem"===n)return!1;if("b-page"===i&&"js"===o&&"attrs"===n&&!u.ctx.url==!1)return{src:u.ctx.url};if("b-page"===i&&"js"===o&&"tag"===n)return"script";if("b-page"===i&&"js"===o&&"bem"===n)return!1;if("b-page"===i&&"css"===o&&!u.ctx.url==!1&&"attrs"===n)return{rel:"stylesheet",href:u.ctx.versions?u.ctx.url+"?v="+encodeURIComponent(u.ctx.versions[u.ctx.url.split("/").pop()]):u.ctx.url};if("b-page"===i&&"css"===o&&!u.ctx.url==!1&&"tag"===n)return"link";if("b-page"!==i||"css"!==o||"default"!==n||!u.ctx.hasOwnProperty("ie")!=!1||!!u.ctx._ieCommented!=!1){if("b-page"===i&&"css"===o&&"tag"===n)return"style";if("b-page"===i&&"css"===o&&"bem"===n)return!1;if("b-page"===i&&"css"===o&&!u.ctx.url==!1&&"attrs"===n)return{rel:"stylesheet",href:u.ctx.url};if("b-page"===i&&"css"===o&&!u.ctx.url==!1&&"tag"===n)return"link";if("b-page"!==i||"css"!==o||"default"!==n||!u.ctx.hasOwnProperty("ie")!=!1||!!u.ctx._ieCommented!=!1){if("b-page"===i&&"css"===o&&"tag"===n)return"style";if("b-page"===i&&"css"===o&&"bem"===n)return!1;if(!!o==!1&&"b-page"===i&&"xUACompatible"===n)return u.ctx["x-ua-compatible"]===!1?!1:{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:u.ctx["x-ua-compatible"]||"IE=edge"}};if("b-page"===i&&"mix"===n&&!!o==!1&&!!u.ctx._iGlobal==!1){var Bi=(p=u.ctx,f=p._iGlobal,p._iGlobal=!0,m=l(u),p._iGlobal=f,m),$i=(_=n,n="js-params",g=l(u),n=_,g);return Bi?Bi.push($i):Bi=[$i],Bi}if("b-page"===i&&"body"===o&&"tag"===n)return"";if(!!o==!1&&"b-page"===i&&"content"===n)return{elem:"body",content:u.ctx.content};if("b-page"===i&&"root"===o&&"attrs"===n)return{lang:u["i-global"].lang||"ru"};if(!!o==!1&&"b-page"===i&&!(u.__$anflg28!==!0)==!1&&"mix"===n){var Ti=(p=u.__$anflg28,u.__$anflg28=!0,f=l(u),u.__$anflg28=p,f||[]);return Ti.push({block:"i-ua",mods:{interaction:"yes"},js:!0}),Ti}if("b-page"===i&&"favicon"===o&&"attrs"===n)return{rel:"shortcut icon",href:u.ctx.url};if("b-page"===i&&"favicon"===o&&"tag"===n)return"link";if("b-page"===i&&"favicon"===o&&"bem"===n)return!1;if("b-page"===i&&"meta"===o&&"attrs"===n)return u.ctx.attrs;if("b-page"===i&&"meta"===o&&"tag"===n)return"meta";if("b-page"===i&&"meta"===o&&"bem"===n)return!1;if("b-page"===i&&"head"===o&&"tag"===n)return"head";if("b-page"===i&&"head"===o&&"bem"===n)return!1;if("b-page"===i&&"root"===o&&"cls"===n)return"i-ua_js_no i-ua_css_standard";if("b-page"===i&&"root"===o&&"tag"===n)return"html";if("b-page"===i&&"root"===o&&"bem"===n)return!1;if(!!o==!1&&"b-page"===i&&"mix"===n)return[{elem:"body"}];if(!!o==!1&&"b-page"===i&&"tag"===n)return"body";if(!!o==!1&&"b-page"===i&&!(u.__$anflg27!==!0)==!1&&"default"===n){var Ci=u.ctx,Si=(p=n,n="doctype",f=l(u),n=p,f),Di=(m=n,n="xUACompatible",_=l(u),n=m,_),ji=[Si,{elem:"root",content:[{elem:"head",content:[{tag:"meta",attrs:{charset:"utf-8"}},Di,{tag:"title",content:Ci.title},Ci.favicon?{elem:"favicon",url:Ci.favicon}:"",Ci.meta,{block:"i-ua"},Ci.head]},Ci]}],g=u.__$anflg27;u.__$anflg27=!0;var y=u.ctx;u.ctx=ji;var b=n;return n="",l(u),u.ctx=y,n=b,void(u.__$anflg27=g)}if(!!o==!1&&"b-page"===i&&"xUACompatible"===n)return u.ctx["x-ua-compatible"]===!1?!1:{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:u.ctx["x-ua-compatible"]||"IE=edge"}};if(!!o==!1&&"b-page"===i&&"doctype"===n)return u.ctx.doctype||"<!DOCTYPE html>";if("i-jquery"===i&&"core"===o&&!(u.__$anflg26!==!0)==!1&&"default"===n)return p=u.__$anflg26,u.__$anflg26=!0,f=u.ctx,u.ctx={block:"b-page",elem:"js",url:"//yastatic.net/jquery/1.8.3/jquery.min.js"},m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg26=p,g;if(!!o==!1&&"spinner"===i&&"content"===n)return[{block:"paranja",mix:{block:"spinner",elem:"paranja"},content:[{block:"spin2",js:!0,mods:{progress:"yes",size:"m"},mix:{block:"spinner",elem:"spin"}},{block:"spinner",elem:"content",content:u.ctx.content}]}];if(!!o==!1&&"spinner"===i&&"js"===n)return!0;if(!!o==!1&&"spinner"===i&&!(u.__$anflg25!==!0)==!1&&"default"===n){var Ni=u.ctx.mods||{};Ni.state="close";var p=u.__$anflg25;u.__$anflg25=!0;var f=a;return a=Ni,l(u),a=f,void(u.__$anflg25=p)}if(!!o==!1&&"form"===i&&!(a&&"yes"===a.ajax)==!1&&"content"===n)return[u.ctx.content,{elem:"paranja",mix:{block:"paranja",mods:{theme:"submiting",state:"close"}}}];if(!!o==!1&&"form"===i&&"js"===n)return!0;if(!!o==!1&&"form"===i&&!("no"!==a.native)==!1&&"tag"===n)return"form";if(!!o==!1&&"card-number"===i&&"tag"===n)return"span";if(!!o==!1&&"inline"===i&&"tag"===n)return"span";if("popup"===i&&"section"===o&&!u.isLast()==!1&&!(u.__$anflg24!==!0)==!1&&"default"===n){var Pi=u.ctx.mods||{};return Pi.position="last",u.ctx.mods=Pi,p=u.__$anflg24,u.__$anflg24=!0,f=u.ctx,u.ctx=u.ctx,m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg24=p,g}if("ticker"===i&&"value"===o&&"content"===n)return p=n,n="format-value",f=l(u),n=p,f;if("ticker"===i&&"value"===o&&"attrs"===n)return{title:u._count};if("ticker"===i&&"value"===o&&"format-value"===n)return u._count>u._maxCount?u._maxCount+"+":u._count;if("ticker"===i&&"value"===o&&"tag"===n)return"span";if("ticker"===i&&"text"===o&&"content"===n)return BEM.I18N("ticker__text","notifications");if("ticker"===i&&"text"===o&&"mix"===n)return[{block:"a11y-hidden"}];if("ticker"===i&&"text"===o&&"tag"===n)return"span";if("ticker"===i&&"count"===o&&"content"===n)return[{elem:"text"},{elem:"value",count:u.ctx.content}];if("ticker"===i&&"count"===o&&!u.ctx.url==!1&&"attrs"===n)return{href:u.ctx.url};
if("ticker"===i&&"count"===o&&!u.ctx.url==!1&&"tag"===n)return"a";if("ticker"===i&&"count"===o&&!!u.ctx.url==!1&&"mix"===n)return[{elem:"plain"}];if("ticker"===i&&"count"===o&&"tag"===n)return"span";if(!!o==!1&&"ticker"===i&&"content"===n)return{elem:"count",url:u.ctx.url,content:u.ctx.count};if(!!o==!1&&"ticker"===i&&"js"===n)return{count:u._count,maxCount:u._maxCount};if(!!o==!1&&"ticker"===i&&!!u._count==!1&&"mix"===n)return[{mods:{state:"empty"}}];if(!!o==!1&&"ticker"===i&&"attrs"===n)return{role:"alert","aria-live":"assertive","aria-atomic":!0};if(!!o==!1&&"ticker"===i&&"tag"===n)return"span";if(!!o==!1&&"ticker"===i&&!(u.__$anflg23!==!0)==!1&&"default"===n){var p=u.__$anflg23;u.__$anflg23=!0;var f=u._count;u._count=u.ctx.count||0;var m=u._maxCount;u._maxCount=u.ctx.maxCount||99;var _=u._url;return u._url=u.ctx.url,l(u),u._count=f,u._maxCount=m,u._url=_,void(u.__$anflg23=p)}if(!!o==!1&&"tooltip"===i&&!(a&&"s"===a.size)==!1&&!(u.__$anflg22!==!0)==!1&&"js"===n)return u.extend((p=u.__$anflg22,u.__$anflg22=!0,f=l(u),u.__$anflg22=p,f),{tailWidth:14,tailHeight:7});if(!!o==!1&&"tooltip"===i&&"default"===n&&!!u._isInTooltip==!1){var Oi=u.ctx,Li=a,Ai=Li.theme,zi={adaptive:"yes",autoclosable:Li.autoclosable||"no","watch-scroll":Li["watch-scroll"]||"yes",theme:Ai},Fi=(p=n,n="js",f=l(u),n=p,f);Fi=(Fi?u.extend(Fi,"true"===Oi.js?{}:Oi.js):Oi.js)||{};var Ri=(Fi.offset?-Fi.offset:0)-(Fi.tailHeight?Fi.tailHeight:0),Ui=Fi.axis?Fi.axis:"middle",Hi={directions:(Fi.directions||["right","bottom","top","left"]).map(function(t){var e={};return e[t]=Ri,{to:t,axis:Ui,offset:e}})},Vi="middle"!==Ui?{align:Ui}:{},m=n;n="";var _=u._isInTooltip;u._isInTooltip=!0;var g=u.ctx;return u.ctx={block:"popup",mods:zi,js:Hi,mix:{block:i,mods:Li,js:Fi},content:[{block:i,elem:"tail",elemMods:Vi},{elem:"content",content:Oi.content}]},l(u),n=m,u._isInTooltip=_,void(u.ctx=g)}if(!!o==!1&&"popup"===i&&!u._isInTooltip==!1&&!(u.__$anflg21!==!0)==!1&&"default"===n){delete u._isInTooltip;var p=u.__$anflg21;return u.__$anflg21=!0,l(u),void(u.__$anflg21=p)}if(!!o==!1&&"tooltip"===i&&"default"===n&&!!u._isInTooltip==!1){var qi=u.ctx,Ki=a,Wi=Ki.theme,Yi={adaptive:"yes",autoclosable:Ki.autoclosable||"no",theme:Wi},Gi=(p=n,n="js",f=l(u),n=p,f);Gi=(Gi?u.extend(Gi,"true"===qi.js?{}:qi.js):qi.js)||{};var Qi=Gi.to&&"string"==typeof Gi.to?[Gi.to]:Gi.to,Zi=(Gi.offset?-Gi.offset:0)-(Gi.tailHeight?Gi.tailHeight:0),Xi={directions:(Qi||["right","bottom","top","left"]).map(function(t){return{to:t,offset:Zi}})},m=n;n="";var _=u._isInTooltip;u._isInTooltip=!0;var g=u.ctx;return u.ctx={block:"popup",mods:Yi,js:Xi,mix:{block:i,mods:Ki,js:Gi},content:[{block:i,elem:"tail"},{elem:"content",content:qi.content}]},l(u),n=m,u._isInTooltip=_,void(u.ctx=g)}if(!!o==!1&&"hint"===i&&"mix"===n)return[{block:"link",mods:{pseudo:"yes"}},{block:"icon",mods:{size:"12",name:"question-mark"}}];if(!!o==!1&&"hint"===i&&"tag"===n)return"span";if("popup"===i&&"tail"===o&&"tag"===n)return"i";if(!!o==!1&&"popup"===i&&"content"===n)return[{elem:"under",mods:u.ctx.underMods},u.ctx.content];if(!!o==!1&&"popup"===i&&"default"===n&&!!u._popupDefaults==!1){var Ji=u.ctx;if(Ji.mods=a=u.extend({theme:"ffffff",autoclosable:"yes",adaptive:"yes",animate:"yes"},a),Ji.zIndex){var to=Ji.attrs||(Ji.attrs={});to.style=(to.style||"")+";z-index:"+Ji.zIndex+";"}var p=u._popupDefaults;return u._popupDefaults=!0,l(u),void(u._popupDefaults=p)}if(!!o==!1&&"popup"===i&&""===n&&!u._popupDefaults==!1)return delete u._popupDefaults,void l(u);if("dropdown"===i&&"popup"===o&&!(u.__$anflg20!==!0)==!1&&"default"===n){var eo=u.ctx,no=[{block:"dropdown",elem:"popup"}];eo.mix&&(no=no.concat(eo.mix));var p=u.__$anflg20;u.__$anflg20=!0;var f=u.ctx;u.ctx={block:"popup",mix:no,mods:eo.mods,attrs:eo.attrs,js:eo.js,content:[{elem:"tail"},{elem:"content",content:eo.content}]};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg20=p)}if(!!o==!1&&"dropdown"===i&&"mix"===n)return[{mods:{action:"closed"}}];if(!!o==!1&&"dropdown"===i&&"js"===n)return!0;if(!!o==!1&&"currency"===i&&!(a&&"rub"===a.type)==!1&&"content"===n)return"Р";if(!!o==!1&&"currency"===i&&!(a&&"rub"===a.type)==!1&&"mix"===n)return[{block:"i-font",mods:{face:"rub-arial-regular"}}];if(!!o==!1&&"currency"===i&&!(a&&"rub"===a.type)==!1&&"tag"===n)return"span";if("b-sum"===i&&"decimal-amount"===o&&"tag"===n)return"span";if("b-sum"===i&&"decimal-separator"===o&&"tag"===n)return"span";if("b-sum"===i&&"whole-amount"===o&&"tag"===n)return"span";if("b-sum"===i&&"separator"===o&&"tag"===n)return"span";if("b-sum"===i&&"label"===o&&"tag"===n)return"span";if("b-sum"===i&&"amount"===o&&"tag"===n)return"span";if("b-sum"===i&&"minus"===o&&"tag"===n)return"span";if(!!o==!1&&"b-sum"===i&&"content"===n){var io=u.ctx,oo=[];if(!io.amount||io.amount.error)return void 0;var ro={russian:{orderSeparator:"&#160;",decimalSeparator:",",labelSeparator:"&#160;"},english:{orderSeparator:",",decimalSeparator:".",labelSeparator:"&#160;"}},ao=ro[io.notation],so=io.amount.orderTokens.join(ao.orderSeparator),uo="always"===a["skip-decimal"]||"whole-amount"===a["skip-decimal"]&&"00"===io.amount.decimalToken,co=[{elem:"whole-amount",content:so}];uo||co.push({elem:"decimal-separator",content:ao.decimalSeparator},{elem:"decimal-amount",content:io.amount.decimalToken});var lo={elem:"amount",content:co},ho={elem:"label",content:io.label},po={elem:"separator",content:ao.labelSeparator},fo=io.amount.isNegative?{elem:"minus",content:"&#8722;"}:"";return"before-sum"===a["label-position"]?oo.push(ho,po,fo,lo):oo.push(fo,lo,po,ho),"rub"===u.ctx.currency&&oo.push({block:"currency",mods:{type:"rub"}}),oo}if(!!o==!1&&"b-sum"===i&&"tag"===n)return"span";if(!!o==!1&&"lantern"===i&&!(a&&"yes"===a["has-close"])==!1&&!(u.__$anflg19!==!0)==!1&&"content"===n)return[(p=u.__$anflg19,u.__$anflg19=!0,f=l(u),u.__$anflg19=p,f),{elem:"close"}];if(!!o==!1&&"lantern"===i&&!(a&&"yes"===a["has-close"])==!1&&"js"===n)return!0;if("lantern"===i&&!(a&&"yes"===a.tail)==!1&&!u.isLast()==!1&&!(u.__$anflg18!==!0)==!1&&"default"===n){mods=u.ctx.mods||{},mods.position="last",u.ctx.mods=mods;var p=u.__$anflg18;u.__$anflg18=!0;var f=u.ctx;u.ctx=u.ctx;var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg18=p)}if(!!o==!1&&"lantern"===i&&!(a&&"yes"===a.tail)==!1&&!(u.__$anflg17!==!0)==!1&&"content"===n)return[(p=u.__$anflg17,u.__$anflg17=!0,f=l(u),u.__$anflg17=p,f),{elem:"tail"}];if(!!o==!1&&"lantern"===i&&!u.ctx.under==!1&&!(u.__$anflg16!==!0)==!1&&"content"===n)return[(p=u.__$anflg16,u.__$anflg16=!0,f=l(u),u.__$anflg16=p,f),{elem:"under",content:u.ctx.under}];if(!!o==!1&&"lantern"===i&&!(u.__$anflg15!==!0)==!1&&"default"===n){var mo=u.ctx.mods||{};mo.theme=mo.theme||"alert",mo.size=mo.size||"normal";var _o={elem:"content",content:u.ctx.content},p=u.__$anflg15;u.__$anflg15=!0;var f=u.ctx,m=f.mods;f.mods=mo;var _=u.ctx,g=_.content;return _.content=_o,l(u),f.mods=m,_.content=g,void(u.__$anflg15=p)}if("balance"===i&&"item"===o&&"mix"===n)return[{block:"inline",mods:{"line-height":"s"}}];if("balance"===i&&"icon"===o&&"tag"===n)return"span";if(!!o==!1&&"button"===i&&!(a&&"yes"===a.disabled)==!1&&!(u.__$anflg14!==!0)==!1&&"attrs"===n){var go=u.ctx,yo={};return go.url?yo["aria-disabled"]=!0:yo.disabled="disabled",u.extend((p=u.__$anflg14,u.__$anflg14=!0,f=l(u),u.__$anflg14=p,f),yo)}if(!!o==!1&&"button"===i&&"content"===n)return{elem:"text",tag:"span",content:u.ctx.content};if(!!o==!1&&"button"===i&&"attrs"===n&&!(u.__$anflg13!==!0)==!1&&!!u.ctx.url==!1){var bo=u.ctx,vo=(p=u.__$anflg13,u.__$anflg13=!0,f=l(u),u.__$anflg13=p,f),xo={type:bo.type||"button",name:bo.name,value:bo.value};return u.extend(vo,xo)}if(!!o==!1&&"button"===i&&"attrs"===n&&!(u.__$anflg12!==!0)==!1&&!u.ctx.url==!1){var ko=u.ctx,wo=(p=u.__$anflg12,u.__$anflg12=!0,f=l(u),u.__$anflg12=p,f),Mo={href:ko.url,target:ko.target};return u.extend(wo,Mo)}if(!!o==!1&&"button"===i&&"attrs"===n){var Eo=u.ctx,Io={role:"button"};return Io.tabindex=Eo.tabindex,Io}if(!!o==!1&&"button"===i&&!(u.__$anflg11!==!0)==!1&&"default"===n){u.ctx.mods=u.extend({theme:"normal"},u.ctx.mods);var p=u.__$anflg11;return u.__$anflg11=!0,l(u),void(u.__$anflg11=p)}if(!!o==!1&&"button"===i&&"js"===n)return!0;if(!!o==!1&&"button"===i&&!u.ctx.url==!1&&"tag"===n)return"a";if(!!o==!1&&"button"===i&&"tag"===n)return"button";if("balance"===i&&"sum"===o&&!(u.__$anflg10!==!0)==!1&&"default"===n){var Bo={block:"dropdown",elem:"popup",mix:[{block:"balance",elem:"popup"}],js:{directions:"bottom-center-center"},content:u.ctx.popup},p=u.__$anflg10;u.__$anflg10=!0;var f=u.ctx;u.ctx={block:"dropdown",mix:{block:"balance",elem:"sum"},content:{elem:"switcher",content:[{block:"button",mods:{size:"m",side:"all",arrow:"down"},mix:[{block:"balance",elem:"button"}],content:[{block:"balance",elem:"icon",mods:{type:"wallet"}},u.ctx.content]},u.ctx.ticker,Bo]}};var m=n;return n="",l(u),u.ctx=f,n=m,void(u.__$anflg10=p)}if("balance"===i&&"heading"===o&&!u.ctx.url==!1&&"content"===n)return{block:"link",url:u.ctx.url,content:u.ctx.content};if("balance"===i&&"heading"===o&&!u.isLast()==!1&&!(u.__$anflg9!==!0)==!1&&"default"===n){var $o=u.ctx.mods||{};return $o.position="last",u.ctx.mods=$o,p=u.__$anflg9,u.__$anflg9=!0,f=u.ctx,u.ctx=u.ctx,m=n,n="",_=l(u),u.ctx=f,n=m,g=_,u.__$anflg9=p,g}if("balance"===i&&"heading"===o&&"mix"===n)return[{block:"inline",mods:{size:a&&a.size||"m"}}];if("balance"===i&&"button-text"===o&&"tag"===n)return"span";if("header2"===i&&"action"===o&&!(r&&"tableau"===r.type)==!1&&!!u._title==!1&&!(u.__$anflg8!==!0)==!1&&"default"===n){var p=u.__$anflg8;u.__$anflg8=!0;var f=u._title;return u._title=BEM.I18N("header2","action-tableau-title"),l(u),u._title=f,void(u.__$anflg8=p)}if(!!o==!1&&"icon"===i&&"tag"===n)return"i";if("header2"===i&&"action"===o&&!!u._title==!1&&!u.ctx.title==!1&&!(u.__$anflg7!==!0)==!1&&"default"===n){var p=u.__$anflg7;u.__$anflg7=!0;var f=u._title;return u._title=u.ctx.title,l(u),u._title=f,void(u.__$anflg7=p)}if("header2"===i&&"action"===o&&"content"===n)return{block:"icon"};if("header2"===i&&"action"===o&&"attrs"===n){var To={tabindex:0,title:u._title,"aria-label":u._title,"aria-pressed":!1};return(u.ctx.js||{}).panel&&(To["aria-expanded"]=!1,To["aria-haspopup"]=!0),To}if("header2"===i&&"action"===o&&"tag"===n)return"button";if("header2"===i&&"nameplate"===o&&!!u.ctx.url==!1&&"attrs"===n)return{};if("header2"===i&&"nameplate"===o&&!!u.ctx.url==!1&&"tag"===n)return"span";if("header2"===i&&"nameplate"===o&&"content"===n)return{block:"arrow2",mods:{size:"m",theme:"nameplate-border"},content:{block:"arrow2",mods:{size:"s",theme:"nameplate"},content:u.ctx.name||u["i-services"].serviceName(u.ctx.service)}};if("header2"===i&&"nameplate"===o&&"attrs"===n)return{href:u.ctx.url||u["i-services"].serviceUrl(u.ctx.service),tabindex:-1};if("header2"===i&&"nameplate"===o&&"tag"===n)return"a";if("header2"===i&&"middle"===o&&"content"===n)return{elem:"middle-wrap",content:u.ctx.content};if(!!o==!1&&"image"===i&&"attrs"===n){var Co,So=u.ctx,Do={src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",alt:""},jo=["alt","width","height","title"];for(So.url&&(Do.src=So.url);Co=jo.shift();)So[Co]&&(Do[Co]=So[Co]);return Do}if(!!o==!1&&"image"===i&&"attrs"===n){var No,Po=u.ctx,Oo={src:"//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""},Lo=["alt","width","height"];for(Po.url&&(Oo.src=Po.url);No=Lo.shift();)Po[No]&&(Oo[No]=Po[No]);return Oo}if(!!o==!1&&"image"===i&&"tag"===n)return"img";if("header2"===i&&"logo"===o&&"content"===n){var Ao=u.ctx.alt||BEM.I18N("header2__logo","logo-alt"),zo=BEM.I18N("header2__logo","logo-img-png-url");return{block:"link",url:u.ctx.url||u["i-services"].serviceUrl("www"),tabindex:-1,content:["<!--[if gt IE 8]><!-->",{block:"image",url:BEM.I18N("header2__logo","logo-img-svg"),alt:Ao,attrs:{style:"background-image: url("+u.attrEscape(zo)+");"}},"<!--<![endif]-->","<!--[if lte IE 8]>",{block:"image",url:zo,alt:Ao},"<![endif]-->"]}}if(!!o==!1&&"link"===i&&!(a&&"yes"===a.disabled)==!1&&!(u.__$anflg6!==!0)==!1&&"attrs"===n)return u.extend((p=u.__$anflg6,u.__$anflg6=!0,f=l(u),u.__$anflg6=p,f),{tabindex:-1,"aria-disabled":!0});if(!!o!=!1||!(u.__$anflg2!==!0&&u.__$anflg3!==!0&&u.__$anflg4!==!0&&u.__$anflg5!==!0)!=!1||"link"!==i){if("link"===i&&"inner"===o&&"tag"===n)return"span";if(!!o==!1&&"link"===i&&"attrs"===n){var Fo=u.ctx,Ro=Fo.url,Uo={};if(["title","target","id","tabindex"].forEach(function(t){Fo[t]&&(Uo[t]=Fo[t])}),Ro)if(u.isSimple(Ro))Uo.href=Ro;else{var Ho=[],p=n;n="";var f=u._buf;u._buf=Ho;var m=u.ctx;u.ctx=Ro,l(u),n=p,u._buf=f,u.ctx=m,Uo.href=Ho.join("")}else Uo.role="button",Uo.tabindex||(Uo.tabindex=0);return Uo}if(!!o==!1&&"link"===i&&"js"===n&&!u.ctx.tabindex==!1)return{origTabindex:u.ctx.tabindex};if(!!o==!1&&"link"===i&&"tag"===n)return u.ctx.url?"a":"span";if(!!o==!1&&"header2"===i&&"default"===n&&!(u.__$anflg1!==!0)==!1&&!!u.ctx.content==!1){var Vo=u.ctx,qo=[],Ko=[Vo.logo||{elem:"logo"},{elem:"middle",content:qo}],Wo=[{elem:"main",content:Ko}];Vo.websearch&&qo.push({elem:"websearch",content:Vo.websearch}),Vo.left&&qo.push({elem:"left",content:Vo.left}),Vo.right&&qo.push({elem:"right",content:Vo.right}),Vo.nav&&Ko.push({elem:"nav",content:Vo.nav}),Vo.under&&Wo.push({elem:"under",content:Vo.under});var p=u.__$anflg1;u.__$anflg1=!0;var f=u._tableauId;u._tableauId=u.generateId();var m=u._lang;u._lang=a.lang||"ru";var _=u.ctx,g=_.content;return _.content=Wo,l(u),u._tableauId=f,u._lang=m,_.content=g,void(u.__$anflg1=p)}if(!!o==!1&&"header2"===i&&"attrs"===n)return{role:"banner"};if(!!o==!1&&"header2"===i&&"js"===n)return!0;if(!!o==!1&&"i-services"===i&&"service-url"===n)return{serp:function(t){return"ru"===t?"http://yandex.ru":"ua"===t?"http://yandex.ua":"by"===t?"http://yandex.by":"kz"===t?"http://yandex.kz":"com"===t?"http://www.yandex.com":"tr"===t?"http://www.yandex.com.tr":"http://yandex.ru"},mail:function(t){return"ru"===t?"https://mail.yandex.ru":"ua"===t?"https://mail.yandex.ua":"by"===t?"https://mail.yandex.by":"kz"===t?"https://mail.yandex.kz":"com"===t?"https://mail.yandex.com":"tr"===t?"https://mail.yandex.com.tr":"https://mail.yandex.ru"},pdd:function(t){return"ru"===t?"http://pdd.yandex.ru":"http://pdd.yandex.ru"},zakladki:function(t){return"ru"===t?"http://zakladki.yandex.ru":"http://zakladki.yandex.ru"},fotki:function(t){return"ru"===t?"http://fotki.yandex.ru":"http://fotki.yandex.ru"},moikrug:function(t){return"ru"===t?"http://moikrug.ru":"http://moikrug.ru"},direct:function(t){return"ru"===t?"http://direct.yandex.ru":"ua"===t?"http://direct.yandex.ua":"by"===t?"http://direct.yandex.by":"kz"===t?"http://direct.yandex.kz":"com"===t?"http://direct.yandex.com":"http://direct.yandex.ru"},money:function(t){return"ru"===t?"https://money.yandex.ru":"https://money.yandex.ru"},lenta:function(t){return"ru"===t?"http://lenta.yandex.ru":"http://lenta.yandex.ru"},market:function(t){return"ru"===t?"//market.yandex.ru":"ua"===t?"//market.yandex.ua":"by"===t?"//market.yandex.by":"kz"===t?"//market.yandex.kz":"tr"===t?"//market.yandex.com.tr":"//market.yandex.ru"},"market.advertising":function(t){return"ru"===t?"http://welcome.advertising.yandex.ru/market/":"http://welcome.advertising.yandex.ru/market/"},wow:function(t){return"ru"===t?"http://my.ya.ru":"http://my.ya.ru"},tv:function(t){return"ru"===t?"http://tv.yandex.ru":"ua"===t?"http://tv.yandex.ua":"by"===t?"http://tv.yandex.by":"kz"===t?"http://tv.yandex.kz":"http://tv.yandex.ru"},afisha:function(t){return"ru"===t?"http://afisha.yandex.ru":"ua"===t?"http://afisha.yandex.ua":"by"===t?"http://afisha.yandex.by":"kz"===t?"http://afisha.yandex.kz":"tr"===t?"http://afis.yandex.com.tr":"http://afisha.yandex.ru"},calendar:function(t){return"ru"===t?"http://calendar.yandex.ru":"http://calendar.yandex.ru"},nahodki:function(t){return"ru"===t?"http://nahodki.yandex.ru":"ua"===t?"http://nahodki.yandex.ua":"kz"===t?"http://nahodki.yandex.kz":"http://nahodki.yandex.ru"},weather:function(t){return"ru"===t?"http://pogoda.yandex.ru":"ua"===t?"http://pogoda.yandex.ua":"by"===t?"http://pogoda.yandex.by":"kz"===t?"http://pogoda.yandex.kz":"tr"===t?"http://hava.yandex.com.tr":"http://pogoda.yandex.ru"},kuda:function(t){return"ru"===t?"http://kuda.yandex.ru":"http://kuda.yandex.ru"},video:function(t){return"ru"===t?"http://www.yandex.ru/video/":"ua"===t?"http://www.yandex.ua/video/":"by"===t?"http://www.yandex.by/video/":"kz"===t?"http://www.yandex.kz/video/":"com"===t?"http://www.yandex.com/video/":"tr"===t?"http://www.yandex.com.tr/video/":"http://yandex.ru/video/"},"video-com":function(t){return"ru"===t?"http://video.yandex.com":"http://video.yandex.com"},music:function(t){return"ru"===t?"//music.yandex.ru":"ua"===t?"//music.yandex.ua":"by"===t?"//music.yandex.by":"kz"===t?"//music.yandex.kz":"//music.yandex.ru"},"music-partner":function(t){return"ru"===t?"http://music-partner.yandex.ru":"http://music-partner.yandex.ru"},www:function(t){return"ru"===t?"http://www.yandex.ru":"ua"===t?"http://www.yandex.ua":"com"===t?"http://www.yandex.com":"by"===t?"http://www.yandex.by":"kz"===t?"http://www.yandex.kz":"tr"===t?"http://www.yandex.com.tr":"http://www.yandex.ru"},search:function(t){return"ru"===t?"http://yandex.ru":"ua"===t?"http://yandex.ua":"com"===t?"http://yandex.com":"by"===t?"http://yandex.by":"kz"===t?"http://yandex.kz":"tr"===t?"http://yandex.com.tr":"http://yandex.ru"},review:function(t){return"ru"===t?"http://yandex.ru":"ua"===t?"http://yandex.ua":"by"===t?"http://yandex.by":"kz"===t?"http://yandex.kz":"com"===t?"http://www.yandex.com":"tr"===t?"http://www.yandex.com.tr":"http://yandex.ru"},fresh:function(t){return"ru"===t?"http://yandex.ru":"ua"===t?"http://yandex.ua":"by"===t?"http://yandex.by":"kz"===t?"http://yandex.kz":"com"===t?"http://www.yandex.com":"tr"===t?"http://www.yandex.com.tr":"http://yandex.ru"},news:function(t){return"ru"===t?"http://news.yandex.ru":"ua"===t?"http://news.yandex.ua":"by"===t?"http://news.yandex.by":"kz"===t?"http://news.yandex.kz":"tr"===t?"http://haber.yandex.com.tr":"http://news.yandex.ru"},"news-com":function(t){return"ru"===t?"http://news.yandex.com":"http://news.yandex.com"},maps:function(t){return"ru"===t?"//maps.yandex.ru":"ua"===t?"//maps.yandex.ua":"tr"===t?"//harita.yandex.com.tr":"//maps.yandex.ru"},"maps-com":function(t){return"ru"===t?"http://maps.yandex.com":"http://maps.yandex.com"},probki:function(t){return"ru"===t?"http://probki.yandex.ru":"ua"===t?"http://probki.yandex.ua":"http://probki.yandex.ru"},slovari:function(t){return"ru"===t?"//slovari.yandex.ru":"ua"===t?"//slovari.yandex.ua":"by"===t?"//slovari.yandex.by":"kz"===t?"//slovari.yandex.kz":"//slovari.yandex.ru"},images:function(t){return"ru"===t?"http://www.yandex.ru/images/":"ua"===t?"http://www.yandex.ua/images/":"by"===t?"http://www.yandex.by/images/":"kz"===t?"http://www.yandex.kz/images/":"com"===t?"http://www.yandex.com/images/":"tr"===t?"http://www.yandex.com.tr/gorsel/":"http://yandex.ru/images/"},"images-com":function(){return"http://www.yandex.com/images/"},blogs:function(t){return"ru"===t?"http://blogs.yandex.ru":"ua"===t?"http://blogs.yandex.ua":"by"===t?"http://blogs.yandex.by":"kz"===t?"http://blogs.yandex.kz":"http://blogs.yandex.ru"},auto:function(t){return"ru"===t?"http://auto.yandex.ru":"ua"===t?"http://auto.yandex.ua":"http://auto.yandex.ru"},adresa:function(t){return"ru"===t?"http://adresa.yandex.ru":"http://adresa.yandex.ru"},games:function(t){return"ru"===t?"http://games.yandex.ru":"http://games.yandex.ru"},yaca:function(t){return"ru"===t?"http://yaca.yandex.ru":"ua"===t?"http://yaca.yandex.ua":"by"===t?"http://yaca.yandex.by":"http://yaca.yandex.ru"},rasp:function(t){return"ru"===t?"http://rasp.yandex.ru":"ua"===t?"http://rasp.yandex.ua":"by"===t?"http://rasp.yandex.by":"kz"===t?"http://rasp.yandex.kz":"tr"===t?"http://seferler.yandex.com.tr":"http://rasp.yandex.ru"},avia:function(t){return"ru"===t?"https://avia.yandex.ru":"ua"===t?"https://avia.yandex.ua":"https://avia.yandex.ru"},ticket:function(){return"http://ticket.yandex.ru"},pvo:function(t){return"ru"===t?"http://ask.yandex.ru":"http://ask.yandex.ru"},online:function(t){return"ru"===t?"http://online.yandex.ru":"http://online.yandex.ru"},books:function(t){return"ru"===t?"http://books.yandex.ru":"http://books.yandex.ru"},site:function(t){return"ru"===t?"http://site.yandex.ru":"ua"===t?"http://site.yandex.ua":"tr"===t?"http://ozel.yandex.com.tr":"http://site.yandex.ru"},bar:function(t){return"ru"===t?"http://bar.yandex.ru":"ua"===t?"http://bar.yandex.ua":"by"===t?"http://bar.yandex.by":"kz"===t?"http://bar.yandex.kz":"tr"===t?"http://bar.yandex.com.tr":"http://bar.yandex.ru"},widgets:function(t){return"ru"===t?"http://widgets.yandex.ru":"ua"===t?"http://widgets.yandex.ua":"by"===t?"http://widgets.yandex.by":"kz"===t?"http://widgets.yandex.kz":"tr"===t?"http://widgets.yandex.com.tr":"http://widgets.yandex.ru"},wdgt:function(t){return"ru"===t?"http://wdgt.yandex.ru":"ua"===t?"http://wdgt.yandex.ua":"by"===t?"http://wdgt.yandex.by":"kz"===t?"http://wdgt.yandex.kz":"tr"===t?"http://wdgt.yandex.com.tr":"http://wdgt.yandex.ru"},interests:function(t){return"ru"===t?"http://interests.yandex.ru":"http://interests.yandex.ru"},kraski:function(t){return"ru"===t?"http://kraski.yandex.ru":"http://kraski.yandex.ru"},local:function(t){return"ru"===t?"http://local.yandex.ru":"http://local.yandex.ru"},museums:function(t){return"ru"===t?"http://18.yandex.ru":"http://18.yandex.ru"},collection:function(t){return"ru"===t?"http://collection.yandex.ru":"http://collection.yandex.ru"},company:function(t){return"ru"===t?"http://company.yandex.ru":"com"===t?"http://company.yandex.com":"tr"===t?"http://company.yandex.com.tr":"http://company.yandex.ru"},tests:function(t){return"ru"===t?"http://tests.yandex.ru":"http://tests.yandex.ru"},referats:function(t){return"ru"===t?"http://referats.yandex.ru":"http://referats.yandex.ru"},terms:function(t){return"ru"===t?"http://terms.yandex.ru":"http://terms.yandex.ru"},tune:function(t){return"ru"===t?"http://tune.yandex.ru":"ua"===t?"http://tune.yandex.ua":"com"===t?"http://tune.yandex.com":"by"===t?"http://tune.yandex.by":"kz"===t?"http://tune.yandex.kz":"tr"===t?"http://tune.yandex.com.tr":"http://tune.yandex.ru"},api:function(t){return"ru"===t?"http://api.yandex.ru":"com"===t?"http://api.yandex.com":"http://api.yandex.ru"},punto:function(t){return"ru"===t?"http://punto.yandex.ru":"http://punto.yandex.ru"},opinion:function(t){return"ru"===t?"http://opinion.yandex.ru":"http://opinion.yandex.ru"},perevod:function(t){return"ru"===t?"http://perevod.yandex.ru":"http://perevod.yandex.ru"},rabota:function(t){return"ru"===t?"http://rabota.yandex.ru":"ua"===t?"http://rabota.yandex.ua":"by"===t?"http://rabota.yandex.by":"kz"===t?"http://rabota.yandex.kz":"http://rabota.yandex.ru"},sprav:function(t){return"ru"===t?"http://sprav.yandex.ru":"ua"===t?"http://sprav.yandex.ua":"by"===t?"http://sprav.yandex.by":"kz"===t?"http://sprav.yandex.kz":"tr"===t?"http://rehber.yandex.com.tr":"http://sprav.yandex.ru"},realty:function(t){return"ru"===t?"http://realty.yandex.ru":"ua"===t?"http://realty.yandex.ua":"by"===t?"http://realty.yandex.by":"kz"===t?"http://realty.yandex.kz":"http://realty.yandex.ru"},advertising:function(t){return"ru"===t?"http://advertising.yandex.ru":"ua"===t?"http://advertising.yandex.ua":"com"===t?"http://advertising.yandex.com":"by"===t?"http://advertising.yandex.by":"kz"===t?"http://advertising.yandex.kz":"http://advertising.yandex.ru"},expert:function(t){return"ru"===t?"http://expert.yandex.ru":"http://expert.yandex.ru"},"direct.market":function(t){return"ru"===t?"http://partner.market.yandex.ru/yandex.market/":"http://partner.market.yandex.ru/yandex.market/"},ba:function(t){return"ru"===t?"http://ba.yandex.ru":"ua"===t?"http://ba.yandex.ua":"com"===t?"http://ba.yandex.com":"by"===t?"http://ba.yandex.by":"kz"===t?"http://ba.yandex.kz":"http://ba.yandex.ru"},bayan:function(t){return"ru"===t?"http://bayan.yandex.ru":"http://bayan.yandex.ru"},partners:function(t){return"ru"===t?"http://partner.yandex.ru":"ua"===t?"http://partner.yandex.ua":"com"===t?"http://partner.yandex.com":"by"===t?"http://partner.yandex.by":"kz"===t?"http://partner.yandex.kz":"http://partner.yandex.ru"},metrika:function(t){return"ru"===t?"https://metrika.yandex.ru":"ua"===t?"https://metrika.yandex.ua":"com"===t?"https://metrica.yandex.com":"by"===t?"https://metrika.yandex.by":"kz"===t?"https://metrika.yandex.kz":"tr"===t?"https://metrica.yandex.com.tr":"https://metrika.yandex.ru"},balance:function(t){return"ru"===t?"http://balance.yandex.ru":"http://balance.yandex.ru"},wordstat:function(t){return"ru"===t?"http://wordstat.yandex.ru":"http://wordstat.yandex.ru"},webmaster:function(t){return"ru"===t?"http://webmaster.yandex.ru":"ua"===t?"http://webmaster.yandex.ua":"com"===t?"http://webmaster.yandex.com":"tr"===t?"http://webmaster.yandex.com.tr":"http://webmaster.yandex.ru"},server:function(t){return"ru"===t?"http://company.yandex.ru/technology/server/":"http://company.yandex.ru/technology/server/"},stat:function(t){return"ru"===t?"http://stat.yandex.ru":"ua"===t?"http://stat.yandex.ua":"by"===t?"http://stat.yandex.by":"http://stat.yandex.ru"},mobile:function(t){return"ru"===t?"http://mobile.yandex.ru":"ua"===t?"http://mobile.yandex.ua":"tr"===t?"http://mobil.yandex.com.tr":"http://mobile.yandex.ru"},help:function(t){return"ru"===t?"http://help.yandex.ru":"ua"===t?"http://help.yandex.ua":"com"===t?"http://help.yandex.com":"tr"===t?"http://yardim.yandex.com.tr":"http://help.yandex.ru"},feedback:function(t){return"ru"===t?"http://feedback.yandex.ru":"ua"===t?"http://feedback.yandex.ua":"com"===t?"http://feedback.yandex.com":"by"===t?"http://feedback.yandex.by":"kz"===t?"http://feedback.yandex.kz":"tr"===t?"http://contact.yandex.com.tr":"http://feedback.yandex.ru"},feedback2:function(t){return"ru"===t?"http://feedback2.yandex.ru":"ua"===t?"http://feedback2.yandex.ua":"com"===t?"http://feedback2.yandex.com":"by"===t?"http://feedback2.yandex.by":"kz"===t?"http://feedback2.yandex.kz":"tr"===t?"http://contact2.yandex.com.tr":"http://feedback2.yandex.ru"},start:function(t){return"ru"===t?"http://help.yandex.ru/start/":"ua"===t?"http://help.yandex.ua/start/":"com"===t?"http://help.yandex.com/start/":"tr"===t?"http://yardim.yandex.com.tr/start":"http://help.yandex.ru/start/"},cityday:function(t){return"ru"===t?"http://cityday.yandex.ru":"http://cityday.yandex.ru"},openid:function(t){return"ru"===t?"http://openid.yandex.ru":"http://openid.yandex.ru"},oauth:function(t){return"ru"===t?"https://oauth.yandex.ru":"com"===t?"https://oauth.yandex.com":"https://oauth.yandex.ru"},nano:function(t){return"ru"===t?"http://nano.yandex.ru":"http://nano.yandex.ru"},partnersearch:function(t){return"ru"===t?"http://yandex.ru":"http://yandex.ru"},city:function(t){return"ru"===t?"http://city.yandex.ru":"http://city.yandex.ru"},goroda:function(t){return"ru"===t?"http://goroda.yandex.ru":"http://goroda.yandex.ru"},toster:function(t){return"ru"===t?"http://toster.yandex.ru":"http://toster.yandex.ru"},love:function(t){return"ru"===t?"http://love.yandex.ru":"http://love.yandex.ru"},rk:function(t){return"ru"===t?"http://rk.yandex.ru":"http://rk.yandex.ru"},lost:function(t){return"ru"===t?"http://lost.yandex.ru":"http://lost.yandex.ru"},soft:function(t){return"ru"===t?"http://soft.yandex.ru":"ua"===t?"http://soft.yandex.ua":"tr"===t?"http://soft.yandex.com.tr":"http://soft.yandex.ru"},passport:function(t){return"ru"===t?"https://passport.yandex.ru":"com"===t?"https://passport.yandex.com":"tr"===t?"https://passport.yandex.com.tr":"https://passport.yandex.ru"},"maps-wiki":function(t){return"ru"===t?"http://nk.yandex.ru":"http://nk.yandex.ru"},404:function(t){return"ru"===t?"http://404.yandex.ru":"ua"===t?"http://404.yandex.ua":"com"===t?"http://404.yandex.com":"by"===t?"http://404.yandex.by":"kz"===t?"http://404.yandex.kz":"tr"===t?"http://404.yandex.com.tr":"http://404.yandex.ru"},i:function(t){return"ru"===t?"http://i.yandex.ru":"http://i.yandex.ru"},desktop:function(t){return"ru"===t?"http://desktop.yandex.ru":"http://desktop.yandex.ru"},ff:function(t){return"ru"===t?"http://ff.yandex.ru":"http://ff.yandex.ru"},fx:function(t){return"ru"===t?"http://fx.yandex.ru":"ua"===t?"http://fx.yandex.ua":"tr"===t?"http://fx.yandex.com.tr":"http://fx.yandex.ru"},ie:function(t){return"ru"===t?"http://ie.yandex.ru":"ua"===t?"http://ie.yandex.ua":"tr"===t?"http://ie.yandex.com.tr":"http://ie.yandex.ru"},"bar-ie":function(t){return"ru"===t?"http://bar.yandex.ru/ie":"ua"===t?"http://bar.yandex.ua/ie":"com"===t?"http://bar.yandex.com/ie":"by"===t?"http://bar.yandex.by/ie":"kz"===t?"http://bar.yandex.kz/ie":"tr"===t?"http://bar.yandex.com.tr/ie":"http://bar.yandex.ru/ie"},"bar-ie9":function(t){return"ru"===t?"http://bar.yandex.ru/ie":"ua"===t?"http://bar.yandex.ua/ie":"com"===t?"http://bar.yandex.com/ie":"by"===t?"http://bar.yandex.by/ie":"kz"===t?"http://bar.yandex.kz/ie":"tr"===t?"http://bar.yandex.com.tr/ie":"http://bar.yandex.ru/ie"},internet:function(t){return"ru"===t?"http://internet.yandex.ru":"com"===t?"http://internet.yandex.com":"tr"===t?"http://internet.yandex.com.tr":"http://internet.yandex.ru"},keyboard:function(t){return"ru"===t?"http://www.yandex.ru/index_engl_qwerty.html":"http://www.yandex.ru/index_engl_qwerty.html"},metro:function(t){return"ru"===t?"http://metro.yandex.ru":"http://metro.yandex.ru"},pulse:function(t){return"ru"===t?"http://blogs.yandex.ru/pulse":"ua"===t?"http://blogs.yandex.ua/pulse":"by"===t?"http://blogs.yandex.by/pulse":"kz"===t?"http://blogs.yandex.kz/pulse":"http://blogs.yandex.ru/pulse"},school:function(t){return"ru"===t?"http://school.yandex.ru":"http://school.yandex.ru"},so:function(t){return"ru"===t?"http://so.yandex.ru":"http://so.yandex.ru"},time:function(t){return"ru"===t?"http://time.yandex.ru":"ua"===t?"http://time.yandex.ua":"com"===t?"http://time.yandex.com":"by"===t?"http://time.yandex.by":"kz"===t?"http://time.yandex.kz":"tr"===t?"http://saat.yandex.com.tr":"http://time.yandex.ru"},xmlsearch:function(t){return"ru"===t?"http://xml.yandex.ru":"ua"===t?"http://xml.yandex.ua":"com"===t?"http://xml.yandex.com":"by"===t?"http://xml.yandex.by":"kz"===t?"http://xml.yandex.kz":"tr"===t?"http://xml.yandex.com.tr":"http://xml.yandex.ru"},catalogwdgt:function(t){return"ru"===t?"http://www.yandex.ru/catalog":"http://www.yandex.ru/catalog"},opera:function(t){return"ru"===t?"http://opera.yandex.ru":"tr"===t?"http://opera.yandex.com.tr":"http://opera.yandex.ru"},uslugi:function(t){return"ru"===t?"http://uslugi.yandex.ru":"http://uslugi.yandex.ru"},backapv:function(t){return"ru"===t?"http://backapv.yandex.ru":"http://backapv.yandex.ru"},chrome:function(t){return"ru"===t?"http://chrome.yandex.ru":"http://chrome.yandex.ru"},browser:function(t){return"ru"===t?"//browser.yandex.ru":"ua"===t?"//browser.yandex.ua":"com"===t?"//browser.yandex.com":"by"===t?"//browser.yandex.by":"kz"===t?"//browser.yandex.kz":"tr"===t?"//browser.yandex.com.tr":"//browser.yandex.ru"},aziada:function(t){return"ru"===t?"http://aziada2011.yandex.kz":"http://aziada2011.yandex.kz"},translate:function(t){return"ru"===t?"//translate.yandex.ru":"ua"===t?"//translate.yandex.ua":"com"===t?"//translate.yandex.com":"by"===t?"//translate.yandex.by":"kz"===t?"//translate.yandex.kz":"tr"===t?"//ceviri.yandex.com.tr":"//translate.yandex.ru"},subs:function(t){return"ru"===t?"http://subs.yandex.ru":"http://subs.yandex.ru"},all:function(t){return"ru"===t?"http://www.yandex.ru/all":"ua"===t?"http://www.yandex.ua/all":"com"===t?"http://www.yandex.com/all":"by"===t?"http://www.yandex.by/all":"kz"===t?"http://www.yandex.kz/all":"tr"===t?"http://www.yandex.com.tr/all":"http://www.yandex.ru/all"},large:function(t){return"ru"===t?"http://large.yandex.ru":"http://large.yandex.ru"},geocontext:function(t){return"ru"===t?"http://geocontext.yandex.ru":"http://geocontext.yandex.ru"},root:function(t){return"ru"===t?"http://root.yandex.ru":"http://root.yandex.ru"},yamb:function(t){return"ru"===t?"https://yamb.yandex.ru":"https://yamb.yandex.ru"},legal:function(t){return"ru"===t?"http://legal.yandex.ru":"ua"===t?"http://legal.yandex.ua":"com"===t?"http://legal.yandex.com":"tr"===t?"http://legal.yandex.com.tr":"http://legal.yandex.ru"
},taxi:function(t){return"ru"===t?"https://taxi.yandex.ru":"https://taxi.yandex.ru"},social:function(t){return"ru"===t?"https://social.yandex.ru":"ua"===t?"https://social.yandex.ua":"com"===t?"https://social.yandex.ru":"by"===t?"https://social.yandex.by":"kz"===t?"https://social.yandex.kz":"tr"===t?"https://social.yandex.com.tr":"https://social.yandex.ru"},contest:function(t){return"ru"===t?"http://contest.yandex.ru":"com"===t?"http://contest.yandex.com":"http://contest.yandex.ru"},peoplesearch:function(t){return"ru"===t?"http://people.yandex.ru":"ua"===t?"http://people.yandex.ua":"http://people.yandex.ru"},disk:function(t){return"ru"===t?"https://disk.yandex.ru":"com"===t?"https://disk.yandex.com":"ua"===t?"https://disk.yandex.ua":"kz"===t?"https://disk.yandex.kz":"by"===t?"https://disk.yandex.by":"tr"===t?"https://disk.yandex.com.tr":"https://disk.yandex.ru"},sport:function(t){return"ru"===t?"http://sport.yandex.ru":"by"===t?"http://sport.yandex.by":"ua"===t?"http://sport.yandex.ua":"kz"===t?"http://sport.yandex.kz":"tr"===t?"http://spor.yandex.com.tr":"http://sport.yandex.ru"},literacy:function(t){return"ru"===t?"http://literacy.yandex.ru":"http://literacy.yandex.ru"},appsearch:function(t){return"ru"===t?"//appsearch.yandex.ru":"//appsearch.yandex.ru"},ege:function(t){return"ru"===t?"//ege.yandex.ru":"//ege.yandex.ru"},vno:function(t){return"ru"===t?"//zno.yandex.ua":"//zno.yandex.ua"},notifications:function(t){return"ru"===t?"https://notifications.yandex.ru":"ua"===t?"https://notifications.yandex.ua":"by"===t?"https://notifications.yandex.by":"kz"===t?"https://notifications.yandex.kz":"com"===t?"https://notifications.yandex.com":"tr"===t?"https://notifications.yandex.com.tr":"https://notifications.yandex.ru"},kassa:function(t){return"ru"===t?"https://money.yandex.ru/start":"https://money.yandex.ru/start/"},shtrafi:function(t){return"ru"===t?"https://money.yandex.net/debts":"http://money.yandex.net/debts"}};if(""===n&&!u["i-global"]==!1&&!!u["i-services"]==!1){var Yo=u["i-services"]={},Go=u["i-global"];return Yo._data=(p=i,i="i-services",f=n,n="service-url",m=l(u),i=p,n=f,m),Yo._data=u._.extend(Yo._data,{tune:function(){var t=Go.protocol||"http";return t+"://"+Go.tuneHost}}),Yo.serviceName=function(t){return BEM.I18N("i-services",t||Go.id)},Yo.serviceUrl=function(t,e){return t||(t=Go.id),Yo._data[t](e||Go["content-region"])},void l(u)}if("i-services"===i&&"default"===n&&"url"===o)return void u._buf.push(u["i-services"].serviceUrl(u.ctx.id,u.ctx.region));if("i-services"===i&&"default"===n&&"name"===o)return void u._buf.push(u["i-services"].serviceName(u.ctx.id));if("i-services"===i&&"default"===n&&!o==!1)return"";if(""===n&&!u["i-global"]==!1&&!!u["i-services"]==!1){var Qo=u["i-services"]={},Zo=u["i-global"];return Qo._data=(p=i,i="i-services",f=n,n="service-url",m=l(u),i=p,n=f,m),Qo.serviceName=function(t){return BEM.I18N("i-services",t||Zo.id)},Qo.serviceUrl=function(t,e){return t||(t=Zo.id),Qo._data[t](e||Zo["content-region"])},void l(u)}if("i-bem"===i&&"i18n"===o&&"default"===n){if(!u.ctx)return"";var Xo=u.ctx,Jo=Xo.keyset,tr=Xo.key,er=Xo.params||{};if(!Jo&&!tr)return"";if(Xo.content){var nr;er.content=(nr=[],p=u._buf,u._buf=nr,f=n,n="",m=u.ctx,u.ctx=Xo.content,_=l(u),u._buf=p,n=f,u.ctx=m,nr.join(""))}return void u._buf.push(BEM.I18N(Jo,tr,er))}if("content"===n)return u.ctx.content;if("mix"===n)return void 0;if("bem"===n)return void 0;if("jsAttr"===n)return void 0;if("js"===n)return void 0;if("cls"===n)return void 0;if("attrs"===n)return void 0;if("tag"===n)return void 0;if(!u.ctx==!1&&!!u._.isSimple(u.ctx)==!1&&!u.ctx.link==!1){if(!s||!u._cacheLog)return c.call(t(u));var ir=u._buf.slice(u._cachePos).join("");u._cachePos=u._buf.length,u._cacheLog.push(ir,{log:u._localLog.slice(),link:u.ctx.link});var or=c.call(t(u));return u._cachePos=u._buf.length,or}if(!s==!1&&!u.ctx==!1&&!u.ctx.cache==!1){var rr;if(rr=s.get(u.ctx.cache)){var ar=u._links;u.ctx.links&&(u._links=u.ctx.links);for(var sr=0;sr<rr.log.length;sr++)if("string"!=typeof rr.log[sr]){var ur,cr=rr.log[sr];ur=cr.log.map(function(t){return{key:t[0],value:d(this,t[0],t[1])}},t(u)).reverse();var p=u.ctx,f=p.cache;p.cache=null;var m=u._cacheLog;u._cacheLog=null;var _=u.ctx,g=_.link;_.link=cr.link,l(u),p.cache=f,u._cacheLog=m,_.link=g,ur.forEach(function(t){d(this,t.key,t.value)},t(u))}else u._buf.push(rr.log[sr]);return u._links=ar,rr.res}var lr,dr=[],y=u.ctx,b=y.cache;y.cache=null;var v=u._cachePos;u._cachePos=u._buf.length;var x=u._cacheLog;u._cacheLog=dr;var k=u._localLog;u._localLog=[],lr=l(u);var hr=u._buf.slice(u._cachePos).join("");return hr&&dr.push(hr),y.cache=b,u._cachePos=v,u._cacheLog=x,u._localLog=k,s.set(u.ctx.cache,{log:dr,res:lr}),lr}if("default"!==n){if(""===n&&!u._.isSimple(u.ctx)==!1){u._listLength--;var pr=u.ctx;return void((pr&&pr!==!0||0===pr)&&u._buf.push(pr))}if(""===n&&!!u.ctx==!1)return void u._listLength--;if(""===n&&!u._.isArray(u.ctx)==!1){var fr=u.ctx,mr=fr.length,_r=0,gr=u.position,yr=u._notNewList;for(yr?u._listLength+=mr-1:(u.position=0,u._listLength=mr),u._notNewList=!0;mr>_r;){var br=fr[_r++],p=u.ctx;u.ctx=null==br?"":br,l(u),u.ctx=p}return void(yr||(u.position=gr))}if(""===n){var vr=u.ctx.block,xr=u.ctx.elem,kr=u._currBlock||i;u.ctx||(u.ctx={});var p=n;n="default";var f=u._links;u._links=u.ctx.links||u._links;var m=i;i=vr||(xr?kr:void 0);var _=u._currBlock;u._currBlock=vr||xr?void 0:kr;var g=o;o=u.ctx.elem;var y=a;a=vr?u.ctx.mods||(u.ctx.mods={}):a;var b=r;return r=u.ctx.elemMods||{},i||o?u.position=(u.position||0)+1:u._listLength--,l(u),n=p,u._links=f,i=m,u._currBlock=_,o=g,a=y,void(r=b)}}else{var wr,Mr=u.BEM,Er=u.ctx,Ir=u._buf;if(p=n,n="tag",f=l(u),n=p,wr=f,"undefined"!=typeof wr||(wr=Er.tag),"undefined"!=typeof wr||(wr="div"),wr){var Br,$r;i&&Er.js!==!1&&(g=n,n="js",y=l(u),n=g,$r=y,$r=$r?u._.extend(Er.js,$r===!0?{}:$r):Er.js===!0?{}:Er.js,$r&&((Br={})[Mr.INTERNAL.buildClass(i,Er.elem)]=$r)),Ir.push("<",wr);var Tr=(b=n,n="bem",v=l(u),n=b,v);"undefined"!=typeof Tr||(Tr="undefined"!=typeof Er.bem?Er.bem:Er.block||Er.elem);var Cr=(x=n,n="cls",k=l(u),n=x,k);Cr||(Cr=Er.cls);var Sr=Er.block&&Br&&!Er.elem;if(Tr||Cr){if(Ir.push(' class="'),Tr){Mr.INTERNAL.buildClasses(i,Er.elem,Er.elemMods||Er.mods,Ir);var Dr=(w=n,n="mix",M=l(u),n=w,M);if(Er.mix&&(Dr=Dr?[].concat(Dr,Er.mix):Er.mix),Dr){var jr={};jr[h(i,o)]=!0,u._.isArray(Dr)||(Dr=[Dr]);for(var Nr=0;Nr<Dr.length;Nr++){var Pr=Dr[Nr];if(Pr){var Or=Pr.block||Pr.elem,Lr=Pr.block||Pr._block||i,Ar=Pr.elem||Pr._elem||o,zr=Pr.mods||a,Fr=Pr.elemMods||{};if(Or&&Ir.push(" "),Mr.INTERNAL[Or?"buildClasses":"buildModsClasses"](Lr,Pr.elem||Pr._elem||(Pr.block?void 0:o),Pr.elemMods||Pr.mods,Ir),Pr.js&&((Br||(Br={}))[Mr.INTERNAL.buildClass(Lr,Pr.elem)]=Pr.js===!0?{}:Pr.js,Sr||(Sr=Lr&&!Pr.elem)),Or&&!jr[h(Lr,Ar)]){jr[h(Lr,Ar)]=!0;var Rr=(E=i,i=Lr,I=o,o=Ar,B=a,a=zr,$=r,r=Fr,T=n,n="mix",C=l(u),i=E,o=I,a=B,r=$,n=T,C);if(Rr)for(var Ur=0;Ur<Rr.length;Ur++){var Hr=Rr[Ur];(Hr.block||Hr.elem)&&jr[h(Hr.block,Hr.elem)]||(Hr._block=Lr,Hr._elem=Ar,Dr.splice(Nr+1,0,Hr))}}}}}}Cr&&Ir.push(Tr?" ":"",Cr),Sr&&Ir.push(" i-bem"),Ir.push('"')}if(Br){var Vr=(S=n,n="jsAttr",D=l(u),n=S,D);Ir.push(" ",Vr||"data-bem",'="',u._.attrEscape(JSON.stringify(Br)),'"')}var qr=(j=n,n="attrs",N=l(u),n=j,N);if(qr=u._.extend(qr,Er.attrs)){var Kr;for(Kr in qr)void 0!==qr[Kr]&&Ir.push(" ",Kr,'="',u._.attrEscape(qr[Kr]),'"')}}if(u._.isShortTag(wr))Ir.push("/>");else{wr&&Ir.push(">");var Wr=(P=n,n="content",O=l(u),n=P,O);if(Wr||0===Wr){var Tr=i||o,Yr=u._notNewList;u._notNewList=!1;var Gr=u.position;u.position=Tr?1:u.position;var Qr=u._listLength;u._listLength=Tr?1:u._listLength;var Zr=u.ctx;u.ctx=Wr;var Xr=n;n="",l(u),u._notNewList=Yr,u.position=Gr,u._listLength=Qr,u.ctx=Zr,n=Xr}wr&&Ir.push("</",wr,">")}}}else{var Jr=u["i-global"];switch(u.ctx.host){case"sp":return p=u.__$anflg2,u.__$anflg2=!0,f=u.ctx,m=f.url,f.url=Jr.sp+u.ctx.url,_=l(u),f.url=m,g=_,u.__$anflg2=p,g;case"root":return y=u.__$anflg3,u.__$anflg3=!0,b=u.ctx,v=b.url,b.url=Jr["root-host"]+u.ctx.url,x=l(u),b.url=v,k=x,u.__$anflg3=y,k;case"validator":return w=u.__$anflg4,u.__$anflg4=!0,M=u.ctx,E=M.url,M.url=Jr.validator+u.ctx.url,I=l(u),M.url=E,B=I,u.__$anflg4=w,B;default:return $=u.__$anflg5,u.__$anflg5=!0,T=l(u),u.__$anflg5=$,T}}}else{var ta=u.ctx.ie;if(ta===!0){var m=n;n="";var _=u.ctx;u.ctx=[6,7,8,9].map(function(t){return{elem:"css",url:this.ctx.url+".ie"+t+".css",ie:"IE "+t}},t(u)),l(u),n=m,u.ctx=_}else{var ea=ta?"!IE"===ta?[ta,"<!-->","<!--"]:[ta,"",""]:["gt IE 9","<!-->","<!--"],g=n;n="";var y=u.ctx,b=y._ieCommented;y._ieCommented=!0;var v=u.ctx;u.ctx=["<!--[if "+ea[0]+"]>",ea[1],u.ctx,ea[2],"<![endif]-->"],l(u),n=g,y._ieCommented=b,u.ctx=v}}}else{var na=u.ctx.ie;if(na===!0){var m=n;n="";var _=u.ctx;u.ctx=[6,7,8,9].map(function(t){return{elem:"css",versions:this.ctx.versions,url:this.ctx.url+".ie"+t+".css",ie:"IE "+t}},t(u)),l(u),n=m,u.ctx=_}else{var ia=na?"!IE"===na?[na,"<!-->","<!--"]:[na,"",""]:["gt IE 9","<!-->","<!--"],g=n;n="";var y=u.ctx,b=y._ieCommented;y._ieCommented=!0;var v=u.ctx;u.ctx=["<!--[if "+ia[0]+"]>",ia[1],u.ctx,ia[2],"<![endif]-->"],l(u),n=g,y._ieCommented=b,u.ctx=v}}}return!function(){!function(t,e){if(e.I18N)return void 0;t.BEM=e;var n=e.I18N=function(t,e){return e};n.keyset=function(){return n},n.key=function(t){return t},n.lang=function(){return void 0}}(this,"undefined"==typeof BEM?{}:BEM)}(),!function(){function t(t,e){this.ctx=null===typeof t?"":t,this.apply=e,this._buf=[],this._=this,this._start=!0,this._listLength=0,this._notNewList=!1,this.position=0}var e={},n=Object.prototype.toString,i={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};!function(t,e){function n(t,e,n){n.push(r,t,r,e)}function i(t,e,i,o){o.push(t),i&&n(e,i,o)}function o(t,o,r,s,u){i(t,e,e,u),u.push(a,o),s&&n(r,s,u)}var r="_",a="__",s="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:s,MOD_DELIM:r,ELEM_DELIM:a,buildModPostfix:function(t,e,i){var o=i||[];return n(t,e,o),i?o:o.join("")},buildClass:function(t,n,r,a,s){var u=typeof r;if("string"==u?"string"!=typeof a&&(s=a,a=r,r=n,n=e):"undefined"!=u?(s=r,r=e):n&&"string"!=typeof n&&(s=n,n=e),!(n||r||s))return t;var c=s||[];return n?o(t,n,r,a,c):i(t,r,a,c),s?c:c.join("")},buildModsClasses:function(t,e,n,r){var a=r||[];if(n){var s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];null!=u&&(u=n[s]+"",u&&(a.push(" "),e?o(t,e,s,u,a):i(t,s,u,a)))}}return r?a:a.join("")},buildClasses:function(t,n,r,a){var s=a||[];return n?o(t,n,e,e,s):i(t,e,e,s),this.buildModsClasses(t,n,r,a),a?s:s.join("")}}}(e);var o=function(){var t={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},e=function(e){return t[e]||e};return function(t){return t=new RegExp(t,"g"),function(n){return(""+n).replace(t,e)}}}();t.prototype.isArray=function(t){return"[object Array]"===n.call(t)},t.prototype.isSimple=function(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e},t.prototype.isShortTag=function(t){return i.hasOwnProperty(t)},t.prototype.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},t.prototype.identify=function(){var t=0,n=e.__id=+new Date,i="__"+n,o=function(){return"uniq"+n+ ++t};return function(t,e){return t?e||t[i]?t[i]:t[i]=o():o()}}(),t.prototype.xmlEscape=o("[&<>]"),t.prototype.attrEscape=o('["&<>]'),t.prototype.BEM=e,t.prototype.isFirst=function(){return 1===this.position},t.prototype.isLast=function(){return this.position===this._listLength},t.prototype.generateId=function(){return this.identify(this.ctx)},u.apply=t.apply=function(){var e=new t(this,c);return e.apply(),e._buf.join("")}}(),u}("undefined"==typeof u?{}:u);return function(t){var e=this;return t||(t={}),s=t.cache,function(){return e===this?(e=void 0,n="",i="",o="",r="",a=""):(n="",i="",o="",r="",a=""),c.apply.call([e])}.call(null)}}();"undefined"==typeof exports||(exports.BEMHTML=BEMHTML),function(t){var e,n={NOT_RESOLVED:"NOT_RESOLVED",IN_RESOLVING:"IN_RESOLVING",RESOLVED:"RESOLVED"},i=function(){var d={trackCircularDependencies:!0,allowMultipleDeclarations:!0},h={},p=!1,f=[],m=function(t,i,o){o||(o=i,i=[]);var r=h[t];r||(r=h[t]={name:t,decl:e}),r.decl={name:t,prev:r.decl,fn:o,state:n.NOT_RESOLVED,deps:i,dependents:[],exports:e}},_=function(e,n,i){"string"==typeof e&&(e=[e]),p||(p=!0,l(v)),f.push({deps:e,cb:function(e,r){r?(i||o)(r):n.apply(t,e)}})},g=function(t){var e=h[t];return e?n[e.decl.state]:"NOT_DEFINED"},y=function(t){return!!h[t]},b=function(t){for(var e in t)t.hasOwnProperty(e)&&(d[e]=t[e])},v=function(){p=!1,x()},x=function(){var t,e=f,n=0;for(f=[];t=e[n++];)k(null,t.deps,[],t.cb)},k=function(t,e,i,o){var s=e.length;s||o([]);for(var u,l,p=[],f=0,m=s;m>f;){if(u=e[f++],"string"==typeof u){if(!h[u])return void o(null,r(u,t));l=h[u].decl}else l=u;if(l.state===n.IN_RESOLVING&&d.trackCircularDependencies&&c(l,i))return void o(null,a(l,i));p.push(l),w(l,i,function(t,e){if(e)return void o(null,e);if(!--s){for(var n,i=[],r=0;n=p[r++];)i.push(n.exports);o(i)}})}},w=function(e,i,o){if(e.state===n.RESOLVED)return void o(e.exports);if(e.dependents.push(o),e.state!==n.IN_RESOLVING){if(e.prev&&!d.allowMultipleDeclarations)return void E(e,u(e));d.trackCircularDependencies&&(i=i.slice()).push(e);var r=!1,a=e.prev?e.deps.concat([e.prev]):e.deps;e.state=n.IN_RESOLVING,k(e,a,i,function(n,i){return i?void E(e,i):(n.unshift(function(t,n){return r?void o(null,s(e)):(r=!0,void(n?E(e,n):M(e,t)))}),void e.fn.apply({name:e.name,deps:e.deps,global:t},n))})}},M=function(t,i){t.exports=i,t.state=n.RESOLVED;for(var o,r=0;o=t.dependents[r++];)o(i);t.dependents=e},E=function(t,e){t.state=n.NOT_RESOLVED;for(var i,o=0;i=t.dependents[o++];)i(null,e);t.dependents=[]};return{create:i,define:m,require:_,getState:g,isDefined:y,setOptions:b}},o=function(t){l(function(){throw t})},r=function(t,e){return Error(e?'Module "'+e.name+'": can\'t resolve dependence "'+t+'"':'Required module "'+t+"\" can't be resolved")},a=function(t,e){for(var n,i=[],o=0;n=e[o++];)i.push(n.name);return i.push(t.name),Error('Circular dependence has been detected: "'+i.join(" -> ")+'"')},s=function(t){return Error('Declaration of module "'+t.name+'" has already been provided')},u=function(t){return Error('Multiple declarations of module "'+t.name+'" have been detected')},c=function(t,e){for(var n,i=0;n=e[i++];)if(t===n)return!0;return!1},l=function(){var e=[],n=function(t){return 1===e.push(t)},i=function(){var t=e,n=0,i=e.length;for(e=[];i>n;)t[n++]()};if("object"==typeof process&&process.nextTick)return function(t){n(t)&&process.nextTick(i)};if(t.setImmediate)return function(e){n(e)&&t.setImmediate(i)};if(t.postMessage&&!t.opera){var o=!0;if(t.attachEvent){var r=function(){o=!1};t.attachEvent("onmessage",r),t.postMessage("__checkAsync","*"),t.detachEvent("onmessage",r)}if(o){var a="__modules"+ +new Date,s=function(t){t.data===a&&(t.stopPropagation&&t.stopPropagation(),i())};return t.addEventListener?t.addEventListener("message",s,!0):t.attachEvent("onmessage",s),function(e){n(e)&&t.postMessage(a,"*")}}}var u=t.document;if("onreadystatechange"in u.createElement("script")){var c=u.getElementsByTagName("head")[0],l=function(){var t=u.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,i()},c.appendChild(t)};return function(t){n(t)&&l()}}return function(t){n(t)&&setTimeout(i,0)}}();"object"==typeof exports?module.exports=i():t.modules=i()}(this),"undefined"!=typeof module&&(modules=module.exports),modules.define("i-bem__dom",function(t){t(BEM.DOM)}),function(){var t=modules.define;modules.define=function(e,n){t.apply(modules,arguments),"i-bem__dom_init"!==e&&arguments.length>2&&~n.indexOf("i-bem__dom")&&modules.define("i-bem__dom_init",[e],function(t,e,n){t(n)})}}(),modules.define("i-bem__dom_init",["i-bem__dom"],function(t,e){t(function(t){return e.init(t)})}),modules.require(["i-bem__dom_init","jquery","next-tick"],function(t,e,n){e(function(){n(t)})}),function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t){(function(e){modules.define("jquery",function(t){t(window.jQuery)}),modules.define("lodash",function(t){t(window._)}),modules.define("yamoney-lib",["ycookie"],function(t,e){var n=window.ym||{};n.yCookie=e,window.ym=n,t(window.ym)}),modules.define("ycookie",function(e){var n=t("yandex-money-ycookie");n._getCookie=function(t){return this._parseCookie(document.cookie,t)},n._setCookie=function(t){document.cookie=this._buildCookie(t)},e(n)}),modules.define("next-tick",function(t){var n=this.global,i=[],o=function(t){return 1===i.push(t)},r=function(){var t=i,e=0,n=i.length;for(i=[];n>e;)t[e++]()};if("object"==typeof e&&e.nextTick)return t(function(t){o(t)&&e.nextTick(r)});if(n.setImmediate)return t(function(t){o(t)&&n.setImmediate(r)});if(n.postMessage){var a=!0;if(n.attachEvent){var s=function(){a=!1};n.attachEvent("onmessage",s),n.postMessage("__checkAsync","*"),n.detachEvent("onmessage",s)}if(a){var u="__nextTick"+ +new Date,c=function(t){t.data===u&&(t.stopPropagation&&t.stopPropagation(),r())};return n.addEventListener?n.addEventListener("message",c,!0):n.attachEvent("onmessage",c),t(function(t){o(t)&&n.postMessage(u,"*")})}}var l=n.document;if("onreadystatechange"in l.createElement("script")){var d=l.getElementsByTagName("head")[0],h=function(){var t=l.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,r()},d.appendChild(t)};return t(function(t){o(t)&&h()})}t(function(t){o(t)&&n.setTimeout(r,0)})}),BEM.DOM.decl("header2",{onSetMod:{js:{inited:function(){this._openedPanel=null}}},_setOpenedPanel:function(t){var e=this._openedPanel;e!==t&&(this._openedPanel=t,this.trigger("panel-switch",{closing:e,opening:t}))},getOpenedPanel:function(){return this._openedPanel},openPanel:function(t){return this._setOpenedPanel(t),this},closePanel:function(t){return t&&t!==this._openedPanel||this._setOpenedPanel(null),this},togglePanel:function(t,e){return t!==this._openedPanel||e?(t!==this._openedPanel&&e||arguments.length<2)&&this._setOpenedPanel(t):this._setOpenedPanel(null),this}}),BEM.DOM.decl("link",{getDefaultParams:function(){return{origTabindex:"0"}},onSetMod:{disabled:function(t,e){var n="yes"===e;this.domElem.attr({"aria-disabled":n,tabindex:n?-1:this.params.origTabindex})}}}),BEM.DOM.decl("header2",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._panelActions={};var t=this;this.elem("action").each(function(){var e=$(this),n=(t.elemParams(e)||{}).panel;n&&(t._panelActions[n]=e)}),$.isEmptyObject(this._panelActions)||this.on("panel-switch",this._toggleActionOnPanelSwitch)}}},onElemSetMod:{action:{checked:function(t,e,n){var i="yes"===n;t.attr("aria-pressed",i);var o=this.elemParams(t)||{};o.panel&&(this.togglePanel(o.panel,i),t.attr("aria-expanded",i)),o.notice&&this.trigger("action-change",{type:this.getMod(t,"type"),checked:i})}}},_toggleActionOnPanelSwitch:function(t,e){var n=this._panelActions[e.closing];n&&this.delMod(n,"checked");var i=this._panelActions[e.opening];i&&this.setMod(i,"checked","yes")},_onActionMouseDown:function(t){function e(){this.afterCurrentEvent(function(){this.delMod(n,"pressed")}),this.unbindFrom(n,"mouseleave"),this.unbindFromDoc("mouseup touchend")}var n=t.data.domElem;this.setMod(n,"pressed","yes"),this.bindTo(n,"mouseleave",e),this.bindToDoc("mouseup touchend",e)},_onActionClick:function(t){this.toggleMod(t.data.domElem,"checked","yes","")},_onMouseOverMouseOut:function(t){this.toggleMod(t.data.domElem,"hovered","yes","","mouseover"===t.type)},_onFocusInFocusOut:function(t){this.toggleMod(t.data.domElem,"focused","yes","","focusin"===t.type)}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("action","leftclick tap",function(t){this._onActionClick(t)}).liveBindTo("action","mousedown",function(t){this._onActionMouseDown(t)}).liveBindTo("action","mouseover mouseout",function(t){this._onMouseOverMouseOut(t)}).liveBindTo("action","focusin focusout",function(t){this._onFocusInFocusOut(t)})}}),modules.define("balance",["i-bem__dom","yamoney-lib"],function(t,e,n){t(e.decl(this.name,{onSetMod:{js:function(){this._onLanternClose()}},_onLanternClose:function(){var t=this,e=t.findBlockInside("ticker");BEM.blocks.lantern&&BEM.blocks.lantern.on("close",function(n,i){var o=i.domElem.closest(".balance__popup"),r=o.length,a=i.hasMod("is-account");if(r){var s=e.val();s-=1,s=s>0?s:0,e.val(s)}if(a){var u=o.find(".balance__item_name_account-info"),c=t.hasMod(u,"hidden");c&&(t.delMod(u,"hidden"),u.slideDown())}})},_onClick:function(t){var e=$(t.target);(e.hasClass("dropdown__switcher")||e.hasClass("dropdown"))&&(Lego.cp(41,72787),t.stopPropagation(),t.preventDefault())}},{live:function(){return this.liveBindTo("leftclick",function(t){this._onClick(t)}).liveBindTo("keyup",function(t){return n.isModifyerKey(t)?!1:void(n.checkKey(t,["space"])&&this.domElem.click())}),!1}}))}),function(t){var e=t.event.special.leftclick={setup:function(){t(this).bind("click",e.handler)},teardown:function(){t(this).unbind("click",e.handler)},handler:function(e){e.button||(e.type="leftclick",t.event.dispatch.apply(this,arguments),e.type="click")}}}(jQuery),BEM.DOM.decl("button",{onSetMod:{js:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")},disabled:function(t,e){var n="yes"===e,i=this.domElem;this._href&&(n?i.removeAttr("href"):i.attr("href",this._href)),this.afterCurrentEvent(function(){i.attr("disabled",n)})},pressed:function(t,e){return this.isDisabled()?!1:void this.trigger("yes"===e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return"undefined"==typeof t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.trigger("click")})}},{live:function(){this.liveBindTo("leftclick tap",function(t){this._onClick(t)})}}),BEM.DOM.decl("button",{onSetMod:{js:function(){this.__base.apply(this,arguments)},focused:{yes:function(){return this.isDisabled()?!1:(this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),void this.afterCurrentEvent(function(){this.trigger("focus")}))},"":function(){this.unbindFromWin("unload").unbindFrom("keydown"),this._isControlFocused()&&this._getControl().blur(),this.afterCurrentEvent(function(){this.trigger("blur")})}},disabled:function(t,e){this.__base.apply(this,arguments),"yes"===e&&this.domElem.keyup()},hovered:function(t,e){return this.isDisabled()?!1:void(""===e&&this.delMod("pressed"))},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}},_onKeyDown:function(t){var e=t.keyCode;13!==e&&32!==e||this._keyDowned||(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,32===e&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){this.__base.apply(this,arguments);var t={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}},e=$.browser.msie&&"8.0"===$.browser.version;this.liveBindTo("mouseover mouseout mouseup focusin focusout",function(n){var i=t[n.type];this.setMod(i.name,i.val||""),!e||this._href||"mouseup"!==n.type&&"mouseout"!==n.type||this.domElem.height()}).liveBindTo("mousedown",function(e){var n=t[e.type];1===e.which&&this.setMod(n.name,n.val||"")})}}),function(){function t(){o=!0,setTimeout(setTimeout.bind(window,e))}function e(){o=!1}function n(){i.toggleClass("pointerfocus",o)}if(window.addEventListener){var i=$(document.documentElement),o=!1;addEventListener("mousedown",t,!0),addEventListener("mouseup",t,!0),addEventListener("click",t,!0),addEventListener("onfocusin"in window?"focusin":"focus",n,!0)}}(),BEM.DOM.decl({name:"lantern",modName:"has-close",modVal:"yes"},{},{live:function(){this.liveBindTo("close","leftclick",function(){this.domElem.remove()})}}),modules.define("lantern",["i-bem__dom","lodash","jquery"],function(t,e,n,i){t(e.decl({block:"lantern",modName:"has-close",modVal:"yes"},{_onClose:function(){var t=this,e=this.params;if(this.trigger("close",this),e.dataHandler){var o={};n.forEach(e.dataParams,function(t){o[t]=e[t]||""}),i.post(e.dataHandler,o,function(){t._destruct()},"json")}else e.setFlag?t._setFlag():t._destruct()},_setFlag:function(){var t=this,e=t.params.setFlag;i.post(e,function(){t._destruct()})},_destruct:function(){if(this.hasMod("position","last")){var t=this.domElem.prev();t.hasClass("lantern")&&t.bem("lantern").setMod("position","last")}this.destruct()}},{live:function(){var t=n.debounce(function(){this._onClose()},150);this.liveBindTo("close","leftclick",t)}}))}),BEM.DOM.decl("dropdown",{onSetMod:{js:function(){var t=this,e=t.params,n=t._popup=t.findBlockOn(t.elem(e.popupElem),"popup").on("show",function(){t.setMod("action","open").trigger("show")}).on("hide",function(){t.setMod("action","closed").trigger("hide")});e.popupMethods.map(function(e){t[e]=n[e].bind(n)});var i=t.params.switcherBlock,o=t.elem("switcher");i&&(t._switcher=t.findBlockOn(o,i).domElem),o.attr({"aria-haspopup":!0,"aria-expanded":!1})},action:function(t,e){this.elem("switcher").attr("aria-expanded","open"===e)}},getPopup:function(){return this._popup},getDefaultParams:function(){return{popupElem:"popup",popupMethods:["toggle","show","hide","setContent"]}},destruct:function(){this._popup&&this._popup.domElem&&this._popup.destruct(),this.__base.apply(this,arguments)},_toggle:function(){this._popup.toggle(this._switcher)},_onSwitcherClick:function(){this._switcher||(this._switcher=this.elem("switcher")),this._toggle()},_onSwitcherKeyUp:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=this.elem("switcher")[0].tagName.toLowerCase();"button"!==e&&("a"!==e&&13===t.which||32===t.which)&&(t.preventDefault(),this.params.switcherBlock||this._toggle())}}},{live:function(){this.liveBindTo("switcher","leftclick tap",function(t){this._onSwitcherClick(t)}).liveBindTo("switcher","keyup",function(t){this._onSwitcherKeyUp(t)})}}),function(t){var e,n=t.browser,i=n.opera&&n.version<13,o=n.opera&&n.version<12.1?"keypress":"keydown",r=Object.prototype.hasOwnProperty,a=BEM.DOM,s=n.msie&&n.version>=9&&n.version<10,u=function(t){try{return t.activeElement}catch(e){}};BEM.DOM.decl("popup",{getDefaultParams:function(){var t={left:15,right:15,top:15,bottom:15};return{directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:t},duration:150}},onSetMod:{js:function(){this._cache={},this._viewport=a.win,this._scope=a.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,o=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=o.keys.map(function(t){var e=o.directions[t],i=n.directions[t];return i||(i=n.directions[e.to]),this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t},this)},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(e){var n;if(e instanceof BEM)n=e.domElem.eq(0);else if(e instanceof t)n=e;else if(!e)return;if(n){this._owner&&n[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=n;var i=this._findParent(n);i&&this.setParent(i)}else this._userPosition=e;return this.setMod("visibility","outside").repaint()},hide:function(){if(this._isHiding)return this;if(this._isShown&&(this._isHiding=!0,this._childs.forEach(function(t){t.hide()}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no"))){var t=this;return this.beforeHide(function(){t.domElem&&t.delMod("visibility")}),this}return this.delMod("visibility")},toggle:function(t){return this._isShown&&!this._isHiding?this.hide():this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},repaintShadowIfNeeded:function(){return s&&this._repaintShadow(),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setContent:function(t){return a.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),e.push(t)},removeChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return void e.splice(i,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this.bindToDoc(o,function(t){27===t.which&&0===this._childs.length&&this.hide()}),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_onHidden:function(){this._unbindFocusEvents(),this.unbindFromDoc(o),this._detachUnder(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_bindFocusEvents:function(){this._lastFocused=t(u(document)||this._scope);var e=this.__self._getFocusable(this.elem("content"));return this._firstFocusable=e.first(),this._lastFocusable=e.last(),this._skipReturnFocus=!1,0===this._firstFocusable.length?void(this._skipReturnFocus=!0):void this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown)},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||9===t.which&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&9===t.which&&(t.preventDefault(),this._lastFocused.focus())
},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||9===t.which&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){var t=(this._parent||{})._skipReturnFocus||this._skipReturnFocus;t||this._lastFocused.focus()},_mergeParams:function(t,e,n){var i={};return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),Object.keys(e).forEach(function(o){var a=r.call(n,o)?n[o].call(this,t[o],e[o]):e[o];i[o]=!a||"object"!=typeof a||Array.isArray(a)?a:t[o]?this._mergeParams(t[o],a,n):a},this),i},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(e)return e;for(var t=[["bottom","top"],["left","right"]],n=[["center","left","right"],["middle","top","bottom"]],i=n,o=t.length,r=[],a=0;o>a;a++)for(var s=t[a],u=s.length,c=0;u>c;c++)for(var l=n[a],d=l.length,h=0;d>h;h++)for(var p=i[a],f=p.length,m=0;f>m;m++)r.push({direction:s[c],axis:l[h],tail:{axis:p[m]}});return e=r,r},_repackDirParams:function(e){var n={},i=[];return("string"==typeof e||t.isPlainObject(e))&&(e=[e]),i=e.map(function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var i=t.to;return n[i]||(n[i]=t),t.axis&&(i+="-"+t.axis),t.key=i,n[i]=t,i},this),{directions:n,keys:i}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;n>t;t++){var i=e[t],o=this._directions[i];this._resetPos(i)._pushPos(i,this._calcPos(o))._pushPos(i,this._calcOffsets(o)),this._hasTail()&&this._resetTailPos(i)._pushTailPos(i,this._calcTailPos(o))._pushTailPos(i,this._calcTailOffset(o))._pushPos(i,this._calcOffsetByTail(o)),this._pushPos(i,this._getParentOffset());var r=this._calcVisibilityFactor(o);if((r>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=r,this._direction=this._directions[i],this.size=this.getPlacingSize(),100===r))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),i=this.getPlacingSize(),o=t.axis,a=this.params.position||{},s={};switch(t.to){case"bottom":s={top:r.call(a,"top")?a.top:e.top+n.height,left:r.call(a,"left")?a.left:this._calcLeft(o)};break;case"top":s={top:r.call(a,"top")?a.top:e.top-i.height,left:r.call(a,"left")?a.left:this._calcLeft(o)};break;case"left":s={top:r.call(a,"top")?a.top:this._calcTop(o),left:r.call(a,"left")?a.left:e.left-i.width};break;case"right":s={top:r.call(a,"top")?a.top:this._calcTop(o),left:r.call(a,"left")?a.left:e.left+n.width}}return s},_calcTop:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"top"===t?e+=i.top:"middle"===t?e+=i.top+o.height/2-n.height/2:"bottom"===t&&(e+=i.top+o.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"left"===t?e+=i.left:"center"===t?e+=i.left+o.width/2-n.width/2:"right"===t&&(e+=i.left+o.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),i=t.key,o=t.offset;if(n[i])return n[i];if(!o)return!1;if(e={left:0,top:0},"number"==typeof o)switch(i){case"left":e.left+=o;break;case"right":e.left-=o;break;case"top":e.top+=o;break;case"bottom":e.top-=o}else o.left&&(e.left+=o.left),o.right&&(e.left-=o.right),o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom);return n[i]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){n!==!1&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach(function(e){this._sum(t[e],n)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach(function(n){t[n]=(t[n]||0)+e[n]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,i=this._viewport,o=this._getSizeOf(i),r=this.getPopupSize(),a=this._positions[t.key],s=this._parent?this._parent.domElem.offset():{top:0,left:0},u=a.top+(this._isParentFixed?s.top:-i.scrollTop()),c=a.left+(this._isParentFixed?s.left:-i.scrollLeft()),l=c+r.width-o.width,d=u+r.height-o.height,h={height:r.height,width:r.width},p=100;return d>0&&(h.height-=d),0>u&&(h.height+=u),0>c&&(h.width+=c),l>0&&(h.width-=l),h.height<0||h.width<0?p=0:(n=Math.abs(h.height*h.width),e=r.height*r.width,e!==n&&(p=n/e*100)),p},_repaintShadow:function(){"undefined"==typeof this._repaintShadowCounter&&(this._repaintShadowCounter=0),this.domElem.css("zoom",1&++this._repaintShadowCounter)},_findParent:function(t){return this.findBlockOutside(t,"popup")},destruct:function(){return this._childs.forEach(function(t){BEM.DOM.destruct(t.domElem)}),this.setMod("fade-out","no"),this.hide(),this.__base.apply(this,arguments)},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","leftclick tap",function(){this.hide()})},_getFocusable:function(e){var n=t.data(e,"popup-getFocusable-id");n||(n=t.identify(),t.data(e,"popup-getFocusable-id",n)),n='*[data-popup-getFocusable-id="'+n+'"]';var o=i?"":"a[href], link, ";return e.find(o+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var e=t(this),i=!0;return parseInt(e.prop("tabindex"),10)<0||"hidden"===e.css("visibility")?!1:(t(this).parentsUntil(n).each(function(){var e=t(this);return"none"===e.css("display")?i=!1:void 0}),i)})}})}(jQuery),BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base(),this._html=$("html")},visibility:{visible:function(){this.__base(),this.hasMod("position","fixed")&&(this.bindToDoc("orientationchange",this._onOrientationChange),$(document).on("blur","input, textarea",this._keyboardHideFix))},"":function(){this.__base(),this.hasMod("position","fixed")&&(this.unbindFromDoc("orientationchange"),$(document).off("blur","input, textarea",this._keyboardHideFix))}}},_onOrientationChange:function(){var t=this._html;setTimeout(function(){t.css("position","relative"),setTimeout(function(){t.css("position","")},300)},500)},_keyboardHideFix:function(){var t=document.body;setTimeout(function(){window.scrollTo(t.scrollLeft,t.scrollTop)},0)}}),BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=$(".b-page").bem("b-page"),e=this;t.on("change",function(){e._onPageChange()})}},_onPageChange:function(){this._isShown&&!this._isHiding&&(this._cache.ownerSize=null,this.repaint())}}),BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"leftclick tap",function(t){t.stopPropagation(),this.hide()}),this.bindTo(t,"mousedown",function(){this._skipReturnFocus=!0})),this.bindToDoc("leftclick tap",function(t){if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide()}}),this.bindToDoc("mousedown",function(){this._skipReturnFocus=!0})},_disableAutoclosable:function(){this.hasMod(this._under,"type","paranja")&&this.unbindFrom(this._under,"leftclick tap mousedown"),this.unbindFromDoc("leftclick tap mousedown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,i=this._childs.length;for(n=0;i>n;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}}),BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent(function(){this.domElem&&this.bindToWin("resize",this.onResize)}),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),i={opacity:1,top:n.top,left:n.left},o={opacity:0,top:n.top,left:n.left};"bottom"===e?o.top+=10:"top"===e?o.top-=10:"left"===e?o.left-=10:"right"===e&&(o.left+=10),this.domElem.stop(!0).css(o).animate(i,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,i=this.getCurrPos(),o=this.domElem,r={top:i.top,left:i.left,opacity:0};return"bottom"===n?r.top+=10:"top"===n?r.top-=10:"left"===n?r.left-=10:"right"===n&&(r.left+=10),o.stop(!0,!0).animate(r,this.params.duration,function(){t(),o.css("opacity","")})}}),function(){var t=[];BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}},isDivEnough:function(){return!1},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var e=t.pop();return e&&(this._underInPool=!1),this._under=e||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem):t.prependTo(this.domElem)},_detachUnder:function(){var e=this._under;t.push(e.detach()),this._under=null,this._underInPool=!0},destruct:function(){return this._underInPool&&t.pop(),this._under&&this._under.remove(),this.__base.apply(this,arguments)}})}(),BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base(),this._tailPos={}}},_calcTailPos:function(t){var e=t.to,n=this._positions[t.key],i=t.tail.axis,o={};return"top"===e||"bottom"===e?o.left=this._calcTailLeft(i,n):("left"===e||"right"===e)&&(o.top=this._calcTailTop(i,n)),o},_calcTailTop:function(t,e){var n=0,i=this.getOwnerSize(),o=this.getOwnerPos(),r=this.params.tail.width,a=this.getPopupSize(),s=a.height,u=o.top-e.top,c=e.top+a.height-(o.top+i.height);return u>0&&(n+=u,s-=u),c>0&&(s-=c),"middle"===t?(s-=r,n+=s/2):"bottom"===t&&(s-=r,n+=s),0>n&&(n=0),n},_calcTailLeft:function(t,e){var n=0,i=this.getOwnerSize(),o=this.getOwnerPos(),r=this.params.tail.width,a=this.getPopupSize(),s=o.left-e.left,u=a.width,c=e.left+a.width-(o.left+i.width);return s>0&&(n+=s,u-=s),c>0&&(u-=c),"center"===t?(u-=r,n+=u/2):"right"===t&&(u-=r,n+=u),n},_calcOffsetByTail:function(t){var e=this.params.tail,n=e.height,i={};switch(t.to){case"top":i={top:-n};break;case"bottom":i={top:n};break;case"right":i={left:n};break;case"left":i={left:-n}}return i},_calcTailOffset:function(t){var e={},n=t.to,i=t.tail,o=i.offset,r=i.axis;return o?("top"===n||"bottom"===n?(e.left=0,"left"===r?e.left+=o.left:"center"===r?(o.left&&(e.left+=o.left),o.right&&(e.left-=o.right)):"right"===r&&(e.left-=o.right)):("left"===n||"right"===n)&&(e.top=0,"top"===r?e.top+=o.top:"middle"===r?(o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom)):"bottom"===r&&(e.top-=o.bottom)),e):!1},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}}),BEM.DOM.decl("hint",{onSetMod:{js:function(){this._tooltip=null,this.bindTo("click",this._onClick)}},_onClick:function(){var t=this.params.message;if(!this._tooltip){var e=this.params.tooltipTheme||"ffffff",n=this.params.directions||["right"],i=this.params.axis||"top",o=this.params.offset||3,r=BEMHTML.apply({block:"tooltip",mods:{type:"hint",theme:e,size:this.getMod("size")||"m",autoclosable:"yes","watch-scroll":"no",custom:this.params.customTip||"",axis:this.params.axis},js:{offset:o,directions:n,axis:i},content:t}),a=$(r).insertBefore(this.domElem);BEM.DOM.init(a),this._tooltip=a.bem("tooltip"),this._tooltip.setOwner(this)}this._tooltip.toggleMod("shown","yes")}}),function(t){var e=t.browser,n=e.opera&&e.version<12.1?"keypress":"keydown";BEM.DOM.decl("tooltip",{onSetMod:{js:{inited:function(){this._popup=null,this._owner=null}},shown:{yes:function(){if(!this._owner)throw new Error("Owner is unset");this._getPopup().show(this._owner).unbindFromDoc(n)},"":function(){this._getPopup().hide()}}},getOwner:function(){return this._owner},setOwner:function(t){return this._owner=t,this},setContent:function(t){return this._getPopup().setContent(t),this},redraw:function(){return this.hasMod("shown","yes")&&this._getPopup().repaint(),this},destruct:function(){this.delMod("shown"),this.__base.apply(this,arguments)},_getPopup:function(){return this._popup||(this._popup=this.findBlockOn("popup").on("show",this._onPopupShow,this).on("hide",this._onPopupHide,this)),this._popup},_onPopupShow:function(){this.trigger("show")},_onPopupHide:function(){this.delMod("shown").trigger("hide")},_onClick:function(){this.trigger("click").delMod("shown")}},{live:function(){this.liveBindTo("click",function(){this._onClick()})}})}(jQuery),BEM.DOM.decl("tooltip",{onSetMod:{hovered:{yes:function(){this.bindTo("mouseleave",this._onMouseLeave)},"":function(){this.unbindFrom("mouseleave")}}},_onMouseOver:function(){this.setMod("hovered","yes")},_onMouseLeave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("mouseover",function(){this._onMouseOver()}),this.__base.apply(this,arguments)}}),modules.define("tooltip",["i-bem__dom"],function(t,e){t(e.decl("tooltip",{onSetMod:{shown:{yes:function(){if(this.__base.apply(this,arguments),this._bPage=this.findBlockOutside("b-page"),this._bPageLayout=this._bPage.findBlockInside("page-layout")||"",this._bPageLayout){var t=this._bPageLayout.getMod("theme")||"",e="";switch(t){case"iframe-showcase":e=this._bPage.findBlockInside("scroll")?"xl":"l";break;case"promo":e="m";break;default:e="s"}this.setMod("margin",e)}}}}}))}),BEM.DOM.decl("ticker",{onSetMod:{js:{inited:function(){this._count=this.params.count}}},show:function(){return this.setMod("state","normal")},hide:function(){return this.setMod("state","empty")},val:function(t){if(!arguments.length)return this._count;var e=this.params.maxCount;return this._count=t,this.elem("value").attr("title",t).text(t>e?e+"+":t),t?this.show():this.hide(),this}}),modules.define("ticker",["i-bem__dom"],function(t,e){t(e.decl(this.name,{val:function(t){var e=this.__base.apply(this,arguments),n=t||0===t;return n&&this.params&&this.params.watchChange&&this.trigger("change"),e}}))}),modules.define("form",["i-bem__dom","yamoney-lib","lodash"],function(t,e,n,i){t(e.decl(this.name,{onSetMod:{js:function(){this.bindTo("submit",this._onSubmit),this._bPage=this.findBlockOutside("b-page"),this.bPageLayout=this.findBlockOutside("page-layout"),this._bProgress=this.findBlockInside("progress-indicator"),this._lantern=null}},_onSubmit:function(t){var e,n=this,i=!0,o=this.hasMod("ajax","yes"),r=this.hasMod("validation","yes"),a={originalEvent:t,customValidationFailed:!1};if(this.trigger("beforeSubmit",a),t.isDefaultPrevented())return!1;if(a.customValidationFailed&&(i=!1),r&&(this.hideErrors(this.domElem),i=this.validate()&&i),this.findBlockInside("scroll")&&this.findBlockInside("scroll")._onScroll(),r){var s=i?"afterValidation":"afterValidationFail";if(this.trigger(s,{originalEvent:t}),t.isDefaultPrevented())return!1}if(o&&i){var u={mainContent:n.domElem[0].outerHTML},c=this.bPageLayout.elem("right-column");c.length&&(u.rightColumn=c[0].innerHTML),this.params.saveHistory&&history.pushState(u,null),this.sendAjaxRequest()}return e=i&&!o,e?(this.trigger("submit"),!0):!1},refreshPage:function(){this._bPage.trigger("change")},hideErrors:function(t){t=t||this.domElem;var e=t.find(".input"),n=t.find(".select");e.each(function(t,e){$(e).bem("input").hideErrorTip()}),n.each(function(t,e){$(e).bem("select").hideErrorTip()})},updateContent:function(t){var e,n=this.bPageLayout,i=n.elem("right-column");t&&(e=n.elem(n.hasMod("type","center")?"content":"main-content"),e[0].innerHTML=t.mainContent,i.length&&(i[0].innerHTML=t.rightColumn))},drawLantern:function(t){var e=this._getLanternSectionBemjson(t),n=$(BEMHTML.apply(e));this._lantern?(this._lantern.replaceWith(n),this._lantern=n):this._lantern=n.prependTo(this.domElem),this.refreshPage()},hideLantern:function(){var t=this.findBlockInside("lantern");t&&t.setMod("hidden","yes"),this.refreshPage()},_getLanternSectionBemjson:function(t){return{block:"lantern",mods:{theme:t.theme?t.theme:"alert",padding:t.padding?t.padding:""},content:t.content}},toggleDisableButton:function(t){t=t||!1,this.findBlockInside("button").toggleMod("disabled","yes",t)},toggleFormSection:function(t,e,n){n=n!==!1;var i=t;"string"==typeof t&&(i=n?this.elem("control","name",t):this.findElem("control","name",t)),e&&this.delMod(i,"hidden","yes"),i.find(".input:visible").each(function(){$(this).bem("input").toggleMod("disabled","yes",!e).hideErrorTip()}),i.find(".select:visible").each(function(){$(this).bem("select").toggleMod("disabled","yes",!e)}),i.find(".checkbox:visible").each(function(){$(this).bem("checkbox").toggleMod("disabled","yes",!e)}),i.find(".radio-button:visible").each(function(){$(this).bem("radio-button").toggleMod("disabled","yes",!e)}),e||this.setMod(i,"hidden","yes")},toggleFormControl:function(t,e,n){n=n||"input";var i=this.elem("control","name",t).bem(n),o=i.domElem.closest(".form__item");this.toggleMod(o,"hidden","yes",!e),i.toggleMod("disabled","yes",!e),"input"===n&&i.hideErrorTip()},showOnlyOneSection:function(t,e){var n=this,o=n.elem("control","name",t),r=n.elem("control","group",e);i.each(r,function(t){n.toggleFormSection($(t),o[0]===t)})},clearSectionFields:function(t,e){if(e){var n=this.elem("control","name",t);i.each(n.find(":input"),function(t){$(t).val("")})}},disable:function(){var t=this.getControlsList();i.each(t,function(t){var e=t.__self.getName();if("radiobox"===e||"radio-button"===e){var n=t.elem("radio");i.each(n,function(e){t.setMod($(e),"disabled","yes")})}else t.setMod("disabled","yes")})},getControlsList:function(t){var e=this,n=["input","select","checkbox","textarea","button","radiobox","radio-button"],t=t||n,o=[];return i.each(t,function(t){o=o.concat(e.findBlocksInside(t))}),o},_hideErrorOnFirstChange:function(t,e){var e=e||t,i=t.elem("control"),o=t.elem("clear"),r=function(t){n.checkKey(t,["enter"])||(e.hideErrorTip(),i.off("keyup",r))};i.on("keyup",r),o.length&&o.one("click",function(){e.hideErrorTip()})},_clearInputOnError:function(t){if(t&&t.params.clearOnError){var e=t.findBlocksInside("input"),n=t.findBlockInside({block:"input",modName:"focused",modVal:"yes"});if(i.each(e,function(t){t.val("")}),n&&0!==i.indexOf(e,n)){var o=e[0];n.delMod("focused"),o.setMod("focused","yes").afterCurrentEvent(function(){o.showErrorTip()})}}}}))}),modules.define("form",["i-bem__dom","yamoney-lib","lodash"],function(t,e,n,i){t(e.decl({block:this.name,modName:"ajax",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._validationErrorMessage=BEM.I18N("form","wrong-format-field"),this._paranja=this.elem("paranja").bem("paranja"),this._bSpinner=null,this._retryParams=null,this._isAjaxInProgress=!1,this._bPage=this.findBlockOutside("b-page"),this._bStat=this._bPage.findBlockInside("stat-scripts"),this._handleHistoryChange()},faded:{yes:function(){this._paranja.open()},"":function(){this._paranja.close()}}},_handleHistoryChange:function(){var t=this;window.addEventListener&&window.addEventListener("popstate",function(e){t.updateContent(e.state)})},sendAjaxRequest:function(){var t=this,e=t._retryParams||t.domElem.serialize();this.params.sk&&(e.sk=this.params.sk),t._retryParams=null,t.setMod("faded","yes"),this.params.alwaysShowSpinner&&t._startSpinner(),i.bindAll(t,"onXhrComplete"),$.ajax({type:t.domElem.attr("method").toUpperCase()||"POST",data:e,url:t.params.ajaxUrl||t.domElem.attr("action"),dataType:"json",complete:t.onXhrComplete,success:function(e){t._isAjaxInProgress=!1,t.onXhrSuccess(e)},error:function(){t._isAjaxInProgress=!1,t.onXhrError()}})},onXhrComplete:function(){this.domElem&&!this._isAjaxInProgress&&(this.delMod("faded"),this._bSpinner&&this._bSpinner.close())},onXhrSuccess:function(t){var e=this,i=t.status,o=n.ref,r=o(t,"errors"),a=o(t,"errors.validationErrors.fields");"success"===i?e.onResponseSuccess(t):"error"===i&&a?e.showErrors(r):"error"===i&&r?e.onResponseError(t):"progress"===i?(e._isAjaxInProgress=!0,e._startSpinner(),e._retryParams=t.retryParams||null,window.setTimeout(function(){e.sendAjaxRequest()},3e3)):e.onResponseError(t)},showErrors:function(t){var e=t.validationErrors.fields;this._showValidationErrors(e)},onXhrError:function(){},onResponseSuccess:function(){var t=this.params.ajaxSuccessRedirectUrl;t&&(this.trigger("redirect"),window.location=t)},onResponseError:function(){},_startSpinner:function(){if(!this._bSpinner){var t=BEMHTML.apply({block:"spinner",content:this.params.spinnerText||""});this._bSpinner=e.append(this._bPage.domElem,$(t)).bem("spinner")}this._bSpinner.open()},_showValidationErrors:function(t){var e=this;$.each(t,function(t,n){var o;o=e._getErrorData(i.isObject(n)?n.name:n);var r=o.errorText,a=o.callback,s=o.ignoreErrorTip,u=$('input[name="'+t+'"]').closest(".input");if(u.length){var c=u.bem("input"),l=c.hasMod("disabled"),d=u.is(":visible");l||!d||s||(c.bValidation&&"yes"===c.bValidation.getMod("success-mark")&&c.bValidation.hideMark(),c.showErrorTip(r),e._clearInputOnError(c.findBlockOn("validation")||c.findBlockOutside("validation")),e._hideErrorOnFirstChange(c)),a&&i.isFunction(a)&&a()}})},_getErrorData:function(t){var e=this._validationErrorMessage,n=i.noop();if(this.serverErrorsData){var o=this.serverErrorsData[t];if(i.isObject(o)){e=o.errorText||e,n=o.callback||n;var r=o.ignoreErrorTip||!1}else e=o||e}return{errorText:e,callback:n,ignoreErrorTip:r}}}))}),modules.define("spinner",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:function(){this.__base.apply(this,arguments),this._bSpinnerParanja=this.elem("paranja").bem("paranja"),this._bPage=this.findBlockOutside("b-page")}},open:function(){this._bSpinnerParanja.open(),this.setMod("state","open"),this._bPage.setMod("blur","yes")},close:function(){this._bSpinnerParanja.close(),this.setMod("state","close"),this._bPage.delMod("blur")}}))}),modules.define("i-bem__dom_init",["i-bem__dom"],function(t,e){t(function(t){return e.init(t)})}),modules.require(["i-bem__dom_init","jquery","next-tick"],function(t,e,n){e(function(){n(t)})}),function(){var t={9:"tab",13:"enter",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",46:"delete"},e={27:"escape"};BEM.DOM.decl({block:"i-ua",modName:"interaction",modVal:"yes"},{onSetMod:{js:{inited:function(){this.bindTo("mousedown",this._onPointer).bindTo("keydown",this._onKeyboard)}}},_onPointer:function(){this.interaction="pointer",this.domElem.attr("data-interaction","pointer"),this.unbindFrom("mousedown")},_onKeyboard:function(n){var i=n.keyCode;return e[i]?void this._onPointer():void(t[i]&&"keyboard"!==this.interaction&&(this.domElem.attr("data-interaction","keyboard"),this.interaction="keyboard",this.bindTo("mousedown",this._onPointer)))}})}(),function(t){t=t||{},t.oframebustMatchDomain=function(t,e){t="[object Array]"===Object.prototype.toString.call(t)?t:function(){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}();for(var n=0,i=t.length;i>n;n++){var o=t[n];if("string"==typeof o){if(/(\?|\*)/.test(o)){var r=o.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".{1}");if(new RegExp("^"+r+"$").test(e))return!0}else if(e==o)return!0}else try{if(o.test(e))return!0}catch(a){}}}}(window.Lego),function(t){t=t||{},t.oframebust=function(e){if(window.top.location!=window.location){var n=document.referrer.match(/^https?:\/\/([^:\/\s]+)\/?.*/);if(!n)return;!t.oframebustMatchDomain(e,n[1])&&(window.top.location=window.location)}}}(window.Lego),modules.define("stat-scripts",["i-bem__dom","lodash"],function(t,e,n){t(e.decl(this.name,{onSetMod:{js:function(){var t=this,e=n.values(this.params),i={ga:this.startGoogleAnalytics,gtm:this.startGoogleTagManager,visualdna:this.startVisualDNA,yametrics:this.startYandexMetrics};n.forEach(e,function(e){n.has(i,e)&&i[e].call(t)})}}}))}),modules.define("stat-scripts",["i-bem__dom"],function(t,e){t(e.decl(this.name,{startGoogleAnalytics:function(){var t=window._gaq||[],e=this.findBlockOutside("i-global").params;t.push(["_setAccount","UA-19216811-1"]),t.push(["_setDomainName",".yandex.ru"]),t.push(["_addOrganic","Mail","q"]),t.push(["_addOrganic","Nigma","q"]),t.push(["_addOrganic","Webalta","q"]),t.push(["_addOrganic","Aport","r"]),t.push(["_addOrganic","Gogo","q"]),t.push(["_addOrganic","QIP","query"]),t.push(["_setCustomVar",4,"Lang",e.lang,3]),t.push(["_setAllowLinker",!0]),e.offer&&e.auth?(t.push(["_setCustomVar",1,"Auth","Yes",3]),t.push(["_setCustomVar",2,"Account","Yes",1]),t.push(["_setCustomVar",3,"Login","Yes",1])):e.auth?(t.push(["_setCustomVar",1,"Auth","Yes",3]),t.push(["_setCustomVar",3,"Login","Yes",1])):t.push(["_setCustomVar",1,"Auth","No",3]),t.push(["_trackPageview"]),window._gaq=t,function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",e.offer||!e.auth||e.dev||(t.onload=function(){var t=window._gat._getTracker("MO-19216811-2");t._trackPageview()});var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}()}}))}),modules.define("stat-scripts",["i-bem__dom"],function(t,e){t(e.decl(this.name,{startGoogleTagManager:function(){!function(t,e,n,i,o){t[i]=t[i]||[],t[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=e.getElementsByTagName(n)[0],a=e.createElement(n),s="dataLayer"!==i?"&l="+i:"";a.async=!0,a.src="//www.googletagmanager.com/gtm.js?id="+o+s,r.parentNode.insertBefore(a,r)}(window,document,"script","dataLayer","GTM-TWSZGW")}}))}),modules.define("stat-scripts",["i-bem__dom"],function(t,e){t(e.decl(this.name,{startVisualDNA:function(){!function(){var t,e;t=document.createElement("script"),t.type="text/javascript",t.src="//a1.vdna-assets.com/analytics.js",t.async=!0,e=document.getElementsByTagName("body")[0],e.insertBefore(t,e.lastChild),this.VDNA=this.VDNA||{},this.VDNA.queue=this.VDNA.queue||[]}(),VDNA.queue.push({apiKey:"yandexmoney1393582641971",method:"reportPageView"})}}))}),modules.define("stat-scripts",["i-bem__dom","lodash"],function(t,e,n){t(e.decl(this.name,{yaMetricsCounterId:/^(http|https):\/\/m[.]/g.test(document.location.origin)?1083453:152220,startYandexMetrics:function(){var t,e,n=this,i="yandex_metrika_callbacks",o=document.getElementsByTagName("script")[0],r=document.createElement("script"),a=function(){o.parentNode.insertBefore(r,o)};window[i]=window[i]||[],window[i].push(function(){try{window["yaCounter"+n.yaMetricsCounterId]=new Ya.Metrika({id:n.yaMetricsCounterId,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0}),e="ya-counter-"+n.yaMetricsCounterId+"-inited",window.jQuery?window.jQuery("body").trigger(e):(document.createEvent?(t=document.createEvent("HTMLEvents"),t.initEvent(e,!0,!0)):(t=document.createEventObject(),t.eventType=e),t.eventName=e,document.createEvent?document.body.dispatchEvent(t):document.body.fireEvent("on"+t.eventType,t))}catch(i){}}),r.type="text/javascript",r.async=!0,r.src=("https:"===document.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"===window.opera?document.addEventListener("DOMContentLoaded",a,!1):a()},registrationYandexMetricsGoal:function(){var t=this.findBlockOutside("i-global").params;this.customYandexMetricsGoal("REGISTRATION",{}),"SMS"===t.sauthType&&this.customYandexMetricsGoal("REGISTRATION_SMS",{})},customYandexMetricsGoal:function(t,e){var i=this;try{t&&(n.isObject(e)||(e={}),window["yaCounter"+i.yaMetricsCounterId]?window["yaCounter"+i.yaMetricsCounterId].reachGoal(t,e):window.jQuery("body").on("ya-counter-"+i.yaMetricsCounterId+"-inited",function(){window["yaCounter"+i.yaMetricsCounterId].reachGoal(t,e)}))}catch(o){}}}))}),modules.define("link",["i-bem__dom"],function(t,e){t(e.decl({block:"link",modName:"refresh",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("click",function(){location.reload()})}}}))}),BEM.DOM.decl({name:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")})},_onKeyUp:function(t){t.shiftKey||t.ctrlKey||t.altKey||(13===t.which||32===t.which)&&(this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")}))}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo({modName:"pseudo",modVal:"yes"},"leftclick tap",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this._onKeyUp(t)})}}),BEM.DOM.decl("input",{onSetMod:{js:function(){this._val=this.elem("control").val()},disabled:function(t,e){this.elem("control").attr("disabled","yes"===e)},focused:function(t,e){if(this.hasMod("disabled","yes"))return!1;var n="yes"===e;n?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent(function(){this.trigger(n?"focus":"blur")})}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){if("undefined"==typeof t)return this._val;t=null===t?"":t.toString();var n=this.elem("control");return n.val()!==t&&n.val(t),this._val=t,this.trigger("change",e),this},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,o=t.createTextRange();o.moveToBookmark(n.getBookmark());var r=t.createTextRange();r.collapse(!1),e=o.compareEndPoints("EndToEnd",r)>-1?i:-o.moveEnd("character",-i)}}return e},_onFocus:function(){return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))
},_focus:function(){return this.hasMod("disabled","yes")?!1:void this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)})}}),function(){var t,e=[],n=function(){e.forEach(function(t){t.val(t.elem("control").val())})},i=function(t){try{return t.activeElement}catch(e){}};BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._instanceIndex=e.push(this)-1;var o=this.elem("control"),r=i(this.__self.doc[0]),a=this.params.autoFocus&&(!r||!$(r).is("input, textarea"));(r===o[0]||a)&&(this.setMod("focused","yes")._focused=!0),t||(t=this.channel("sys").on({tick:n,idle:function(){t.un("tick",n)},wakeup:function(){t.on("tick",n)}})),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&38===t.which&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},val:function(t,e){var n="undefined"!=typeof t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},_focus:function(){var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}else t.focus()},destruct:function(){this.__base.apply(this,arguments),this.params.shortcut&&this.unbindFromDoc("keydown"),e.splice(this._instanceIndex,1),e.slice(this._instanceIndex).forEach(function(t){t._instanceIndex--})}},{})}(),BEM.DOM.decl("input",{onSetMod:{focused:function(){this.__base.apply(this,arguments);var t=this.elem("box").css("z-index");this.elem("box").css("z-index",-1).css("z-index",t)}}}),modules.define("input",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:function(){this.__base.apply(this,arguments),this._tooltips={error:null,hint:null},this.bValidation=this.findBlockOn("validation"),this.on("focus",function(){this.hideErrorTip()}),this.on("blur",function(){var t=$.trim(this.val());this.val(t)}),this._onToggleFocus()}},toggleSuccessMark:function(){if(this.bValidation&&this.bValidation.hasMod("success-mark","yes")){var t="failed"===this.bValidation.getValidationState()?"yes":"";this.bValidation.setMod(this.bValidation._$mark,"hidden",t)}},_onToggleFocus:function(){this.params.hintMessage&&this.on("focus",function(){this.showHintTip({content:this.params.hintMessage})}).on("blur",function(){this.hideHintTip()})},showErrorTip:function(t){var e=this._tooltips.hint,n=e?e.hasMod("shown"):!1,i=t,o="",r="";_.isObject(t)&&(i=t.content||i,o=t.unclosable||"",r=t.custom||""),n&&e.delMod("shown"),this._showTip({type:"error",theme:"error",unclosable:o,custom:r,content:i})},hideErrorTip:function(){this._hideTip({type:"error"})},showHintTip:function(t){this._showTip({type:"hint",theme:t.theme,unclosable:t.unclosable||"",custom:t.custom,content:t.content})},hideHintTip:function(){this._hideTip({type:"hint"})},_showTip:function(t){var e=t.type,n=t.content||"",i=this.hasMod(this.elem("box"),"hidden","yes")?"pseudobox":"box",o="error"===e?"error":"normal",r=t.theme||o,a=this.hasMod("customTip")?this.getMod("customTip"):"";if(a=t.custom||a,this._tooltips[e])r!==this._tooltips[e].getMod("theme")&&this._tooltips[e].setMod("theme",r).findBlockOn("popup").setMod("theme",r),t.unclosable!==this._tooltips[e].getMod("unclosable")&&this._tooltips[e].setMod("unclosable",t.unclosable),t.customTip!==this.getMod("customTip")&&this._tooltips[e].setMod("custom",a);else{var s="error"===e?"no":"yes",u=this.params.tipOffset||(this.hasMod("outer-icon")?39:3),c=this.params.tipAxis||"top",l=this.params.watchScroll?"yes":"no",d=this.params.tooltipSize?this.params.tooltipSize:this.getMod("size"),h=BEMHTML.apply({block:"tooltip",mods:{theme:r,size:d,autoclosable:s,"watch-scroll":l,unclosable:t.unclosable,custom:a},js:{offset:u,directions:this.params.tipDirections||["right"],axis:c},content:[{elem:"tail"},n]}),p=$(h).insertBefore(this.domElem);BEM.DOM.init(p),this._tooltips[e]=p.bem("tooltip")}n&&this._tooltips[e]._getPopup().setContent(n),this._tooltips[e].setOwner(this.elem(i)).setMod("shown","yes")},_hideTip:function(t){this._tooltips[t.type]&&this._tooltips[t.type].delMod("shown")},filterChars:function(t,e){if(!t.metaKey&&!t.ctrlKey){var n=t.which,i=String.fromCharCode(n),o=$.browser.opera?"8 9 13 16 17 18 20 35 36 37 38 39 40 46 ".indexOf(n+" ")>-1:0===n,r=_.indexOf([8,13],n)>-1,a=e.indexOf(i)>-1;o||r||a||t.preventDefault()}}}))}),function(){var t,e=0,n=!1,i=0,o=BEM.channel("sys"),r=50;BEM.decl("i-system",{},{start:function(){$(document).bind("mousemove keydown",function(){i=0,n&&(n=!1,o.trigger("wakeup"))}),this._tick()},_tick:function(){var a=this;o.trigger("tick",{counter:e++}),!n&&(i+=r)>3e3&&(n=!0,o.trigger("idle")),t=setTimeout(function(){a._tick()},r)}}).start()}(),BEM.DOM.decl("input",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}},_onBoxClear:function(){this.hasMod("clear","visibility","visible")||this.hasMod("disabled","yes")||this.setMod("focused","yes")},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible","",!!this._val)}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("clear","mousedown",function(t){1===t.which&&this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","leftclick tap",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("box","leftclick tap",function(){this._onBoxClear()})}}),BEM.DOM.decl("input",{onSetMod:{js:function(){this.__base.apply(this,arguments),(this._hasHint=Boolean(this.elem("hint")[0]))&&this.on("change",this._updateHint)._updateHint()},focused:function(){return this.__base.apply(this,arguments)===!1?!1:void(this._hasHint&&this._updateHint())}},_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!this.val())}}),function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._hasHint=!!this.elem("hint")[0])&&this.bindTo("control","paste",function(){this._hideHint()},this)}}},_hideHint:function(){return this.delMod(this.elem("hint"),"visibility")}})}(),modules.define("share",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:function(){var t=this,e=t.params,n=this.params.servicesList;new Ya.share({element:"share",l10n:"ru",link:e.link||window.location.href,theme:"counter",title:e.title||document.title,image:e.image||"",description:e.description||"",elementStyle:{type:"small",quickServices:n},serviceSpecific:e.serviceSpecific||{}})}}}))}),function(){BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,n,i){if("disabled"==i)return!1;var o=this.elem("item","state","current");this.delMod(o,"state").trigger("current",{prev:o,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","leftclick",function(t){this.onItemSelectorClick(t)})}})}(),BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"}),BEM.DOM.decl({block:"dropdown-menu",baseBlock:"dropdown"}),function(){BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"})}(),BEM.DOM.decl("lang-switcher",{_onLangKeyUp:function(t){var e=t.data.domElem;this.hasMod(e,"selected","yes")||!this.findBlockOn("popup").containsDomElem(e)||t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||32===t.which&&e.click()}},{live:function(){this.liveBindTo("lang","keyup",function(t){this._onLangKeyUp(t)})}}),BEM.DOM.decl("paranja",{onSetMod:{js:function(){var t=this;$(t.params.rel).each(function(){$(this.elem||t.domElem).on(this.event,t[this.method].bind(t))}),this.bindTo("leftclick tap",function(){this.trigger("click")})},state:{open:function(){this.trigger("open")},close:function(){this.trigger("close")}}},open:function(){this.setMod("state","open")},close:function(){this.setMod("state","close")}},{live:!1}),modules.define("lodash",function(t){t(window._)}),modules.define("jquery",function(t){t(window.jQuery)}),modules.define("form",["i-bem__dom"],function(t,e){t(e.decl({block:this.name,modName:"disabled",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.disable()}}}))}),modules.define("form",["i-bem__dom"],function(t,e){t(e.decl({block:this.name,modName:"check-changes",modVal:"on"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._initData=this.domElem.serialize(),this._onBeforeUnload()}},_onBeforeUnload:function(){var t=this,e=!1;t.on("submit redirect",function(){e=!0}),window.onbeforeunload=function(){var n=t.domElem.serialize(),i=n!==t._initData,o=!!t.domElem.parent().length;return o&&!e&&i?"":void 0}}}))}),modules.define("input",["i-bem__dom","yamoney-lib"],function(t,e,n){t(e.decl({block:this.name,modName:"behavior",modVal:"add"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._bForm=this.findBlockOutside("form"),this._addInputOnClick(),this._triggerClickOnKey()}},_addInputOnClick:function(){var t=this,e=t.elem("link"),n=this.getMod(e,"name"),i=$(".input_name_"+n).bem("input"),o=function(){t._toggleInput(),t.toggleMod(e,"hidden","yes")};t.domElem.on("click",".input__link",o),i.domElem.on("click",".input__link",o)},_triggerClickOnKey:function(){this.domElem.on("keyup",".input__link",function(t){return n.isModifyerKey(t)?!1:void(n.checkKey(t,["enter","space"])&&$(t.target).trigger("click"))})},_toggleInput:function(){var t=this.elem("link"),e=this.getMod(t,"name"),n=this.domElem.closest(".form__item"),i=$(".input_name_"+e).bem("input"),o=i.domElem.closest(".form__item"),r=this._bForm.hasMod(n,"toggleIndent","yes"),a=i.elem("link");this._bForm.toggleMod(o,"hidden","yes"),r&&this._bForm.toggleMod(n,"indent","no",""),i.toggleMod("disabled","yes"),a.length&&a.bem("link").toggleMod("disabled","yes")}}))}),modules.define("input",["i-bem__dom","lodash","basis"],function(t,e,n,i,o){t(o.decl({name:this.name,modName:"filter",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._filterOnKeypress()}},_filterOnKeypress:function(){var t=this,e=(this.params.filter,this._getFilter());this.elem("control").keypress(function(n){t.filterChars(n,e)})},_getFilter:function(){var t,e=this,i=this.params.filter;if(n.isArray(i)){var o=[];n.forEach(i,function(t){var n=e.__self._filters[t]||t;o.push(n)}),t=o.join("")}else t=this.__self._filters[i]||i;return t}},{_filters:i.filters}))}),modules.define("basis",["jquery","yamoney-lib","lodash"],function(t,e,n,i){var o={maskFormats:{driverData:{pattern:"{{99}} {{ZZ}} {{999999}}",inputTypes:[{"char":"Z",pattern:"[0-9АВСЕНКМОРТХУавсенкмортхуABCEHKMOPTXYabcehkmoptxy]"}]},phone:{pattern:"+{{9}} {{999}} {{9999999}}"},fullDate:{pattern:"{{99}}.{{99}}.{{9999}}"},shortDate:{pattern:"{{99}} / {{99}}"},fullDateWithSlash:{pattern:"{{99}} / {{99}} / {{9999}}"},passport:{pattern:"{{9999}} {{999999}}"},bankCard:{pattern:"{{9999}} {{9999}} {{9999}} {{9999}} {{999}}",inputTypes:[{pattern:"[0-9]"}]},totpAndToken:{pattern:"{{99999999}}",inputTypes:[{pattern:"^d{8}$"}]},sms:{pattern:"{{999999}}",inputTypes:[{pattern:"^d{6}$"}]},emergencyCode:{pattern:"{{**********}}"},grid:{pattern:"{{ZZ}}",inputTypes:[{"char":"Z",pattern:"^[A-Za-z0-9А-Яа-я]$"}]},cvc:{pattern:"{{9999}}"}},filters:{numbers:"0123456789","float":"0123456789.,",latin:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",cyrillic:"абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ",specials:" !#$%&'*+-/=?^_`{|}~."},validationCheckers:{required:function(t){var n=e.trim(t.value);return n?{success:!0}:{success:!1,error:"empty"}},regexp:function(t){var e=new RegExp(t.regexp),n=e.test(t.value);if(t.isOptional&&!t.value)return{success:!0};var i={success:t.mismatch?!n:n};return i.success||(i.error="wrongFormat"),i},sum:function(t){if(""===e.trim(t.value))return{success:!0};var i=n.toNum(t.value),o=Math.round(100*i)/100;return isNaN(i)||0>i||i!=o||!/^[0-9\.,]+$/.test(t.value)?{success:!1,error:"wrongFormat"}:t.min&&i<t.min?{success:!1,error:"tooSmall"}:t.max&&i>t.max?{success:!1,error:"tooBig"}:{success:!0}},email:function(t){var n=e.trim(t.value),i=/^[\w]+[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\ ]*(\.[\w]+[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\ ]*)*\@([\w]+(([\w\-]*[\w]+)?)\.)+[a-zA-Z]{2,63}$/;return n&&!i.test(n)?{success:!1,error:"wrongFormat"}:{success:!0}},url:function(t){var n=e.trim(t.value),i=t.onlyHttps||!1,o=/^[\d\w\%\-\/\_\.\:\?=&а-яА-ЯёЁ]+$/,r=o.test(n),a=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,s=n.match(a),u="http"===s[2]||"https"===s[2],c="https"===s[2],l=s[4];return u&&l&&r?i&&!c?{success:!1,error:"isNotHttps"}:{success:!0}:{success:!1,error:"wrongFormat"}},phoneNumber:function(t){var n=e.trim(t.value),o=/^\+?[\-\d\s()]+$/;if(i.isObject(t.value)){var r=e.trim(t.value.phonePrefix),a=e.trim(t.value.phoneNumber);n=r+a}var s=!t.optional||n;return s&&!o.test(n)?{success:!1,error:"wrongFormat"}:{success:!0}},itn:function(t){var e,n,i,o=t.value,r=t.businessEntity||"legalEntity",a={};return"legalEntity"===r&&!/^\d{10}$/.test(o)||"soleTrader"===r&&!/^\d{12}$/.test(o)||!parseInt(o)?a.success=!1:"legalEntity"===r?(e=(2*o.substring(0,1)+4*o.substring(1,2)+10*o.substring(2,3)+3*o.substring(3,4)+5*o.substring(4,5)+9*o.substring(5,6)+4*o.substring(6,7)+6*o.substring(7,8)+8*o.substring(8,9))%11%10,a={success:o.substring(9,10)===e.toString()}):"soleTrader"===r&&(n=(7*o.substring(0,1)+2*o.substring(1,2)+4*o.substring(2,3)+10*o.substring(3,4)+3*o.substring(4,5)+5*o.substring(5,6)+9*o.substring(6,7)+4*o.substring(7,8)+6*o.substring(8,9)+8*o.substring(9,10))%11%10,i=(3*o.substring(0,1)+7*o.substring(1,2)+2*o.substring(2,3)+4*o.substring(3,4)+10*o.substring(4,5)+3*o.substring(5,6)+5*o.substring(6,7)+9*o.substring(7,8)+4*o.substring(8,9)+6*o.substring(9,10)+8*o.substring(10,11))%11%10,a={success:o.substring(10,11)===n.toString()&&o.substring(11,12)===i.toString()}),a.success||(a.error="wrongFormat"),a},maxLength:function(t){var e={success:t.value.length<=t.maxLength};return e.success||(e.error="wrongFormat"),e},minLength:function(t){var e={success:t.value.length>=t.minLength};return e.success||(e.error="wrongFormat"),e},cardNumber:function(t){var e=t.value,i={success:!0};return n.checkCardNumber?i.success=n.checkCardNumber(e):(e=e.replace(/\D/g,""),i.success=!!e&&e.length>=12),i.success||(i.error="wrongFormat"),i},receiptAccount:function(t){var e=t.value,n=t.businessEntity,o=t.forbiddenAccounts||[],r=/^\d{20}$/,a=e.substring(0,5),s=e.substring(0,3);return r.test(e)?"40817"===a?{success:!1,error:"isNaturalPerson"}:"legalEntity"===n&&"40802"===a?{success:!1,error:"isSoleTrader"}:"soleTrader"===n&&"40802"!==a?{success:!1,error:"isNotSoleTrader"}:i.isEmpty(o)||!i.contains(o,a)&&!i.contains(o,s)?{success:!0}:{success:!1,error:"forbiddenAccount"}:{success:!1,error:"wrongFormat"}},privatePersonAccount:function(t){var e=t.value,n=t.privatePersonAccountPrefixArr,o=i.some(n,function(t){return 0===e.indexOf(t)});return o?{success:!1,error:"isNaturalPerson"}:{success:!0}},humanName:function(t){var e=t.value,n={success:!0},o=t.isLatin||!1,r=o?/^\s*[a-zA-Z]+[a-zA-Z\-\s]*$/:/^\s*[а-еёж-яА-ЕЁЖ-Я]+[а-еёж-яА-ЕЁЖ-Я\-\s]*$/;if(t.optional&&""===e)return n;if(n=this.required(t),!n.success)return n;if(t.maxLength&&(n=this.maxLength(t),!n.success))return n;if(t.banRegexp){{i.merge(t,{regexp:t.banRegexp})}if(n=this.regexp(t),!n.success)return i.merge(n,{error:"banMessage"})}return i.merge(t,{regexp:r}),this.regexp(t)},humanFio:function(t){var n=e.trim(t.value);if(t.optional&&!n)return{success:!0};var o=this.required(t);return o.success?this.regexp(i.extend(t,{regexp:"^\\s*[а-еёж-яА-ЕЁЖ-Я]+[а-еёж-яА-ЕЁЖ-Я\\-]*(\\s+[а-еёж-яА-ЕЁЖ-Я]+[а-еёж-яА-ЕЁЖ-Я\\-]*)+\\s*$"})):o},visa:function(t){var e=t.value,n=/^[\d\w\№\#\(\)\s\,\;\.\-\–\—\\\/а-яА-ЯёЁ]+$/;return n.test(e)?{success:!0}:{success:!1,error:"wrongFormat"}},driverData:function(t){return this.regexp(i.extend(t,{regexp:"^\\d{2}\\s?([АВСЕНКМОРТХУавсенкмортхуABCEHKMOPTXYabcehkmoptxy]{2}|\\d{2})\\s?\\d{6}$|^$"}))},sAuthPassword:function(t){var e=t.value,n=/^[\040a-zA-Z0-9_\-\!\?\@\#\$\%\^\&amp;\*\(\)\+\=\{\}\[\]\;\:\.\>\<\,\\\/\`\~\|]+$/;return n.test(e)?{success:!0}:{success:!1,error:"wrongFormat"}},alfanum:function(t){var e=t.value,n=/^[a-z0-9]+$/i;return n.test(e)?{success:!0}:{success:!1,error:"wrongFormat"}},docIssueDate:function(t){var e,i,o,r,a,s,u,c,l,d=70,h=t.value.replace(/\D/g,"");if(8!==h.length)return{success:!1,error:"incorrectFormat"};if(o=n.toNum(h.substr(4,4)),r=new Date,u=o>r.getFullYear()||o<r.getFullYear()-d)return{success:!1,error:"incorrectYear"};if(i=n.toNum(h.substr(2,2)),c=1>i||i>12)return{success:!1,error:"incorrectMonth"};if(e=n.toNum(h.substr(0,2)),a=new Date(o,i,1,-1).getDate(),l=1>e||e>a)return{success:!1,error:"incorrectDay"};s=function(t){t=t||0;var e=["January","February","March","April","May","June","July","August","September","October","November","December"];return e[t]};var p=s(i-1)+" "+e+", "+o+" 23:59:59",f=Date.parse(p);return f>r?{success:!1,error:"isFutureDate"}:{success:!0}}},filterCharsMobile:function(t,e,n){if(!t.metaKey&&!t.ctrlKey){var i=new RegExp("[^"+e+"]","g"),o=n.val();o=o.replace(i,""),this.value!==o&&n.val(o)}}};t(o)}),modules.define("input_focus-clean_yes",["i-bem__dom","yamoney-lib"],function(t,e,n){t(e.decl({name:"input",modName:"focus-clean",modVal:"yes"},{_onFocus:function(){this.__base.apply(this,arguments);var t=n.toNum(this.val());0>=t&&this.val("")}}))}),modules.define("input",["i-bem__dom","basis"],function(t,e,n){t(e.decl({name:"input",modName:"has-mask",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=this;this.bindTo("control","keyup",function(){t.val(t.elem("control").val())}),this._formatter()}},_formatter:function(){if(!Formatter.isBrowserCompatible())return!1;var t=this.params,e=t.format?this.__self._formats[t.format]:null,n=_.extend({persistent:!1},e,t.formatterOptions);_.forEach(n.inputTypes,function(t){Formatter.addInptType(t.char,new RegExp(t.pattern))});var i=this.elem("control"),o=new Formatter(i.get(0),{pattern:n.pattern,persistent:n.persistent});o.resetPattern(n.pattern)}},{_formats:n.maskFormats}))}),BEM.DOM.decl({block:"popup",modName:"autosize",modVal:"yes"},{getDefaultParams:function(){var t=this.__base();return t.offsetWithoutTail=5,t},repaint:function(){return this._saveDefault(),this.__base(),this.domElem.css({maxWidth:this.size.width,height:this.size.height}),this},_saveDefault:function(){this._defSize||(this._defSize=this.getPopupSize())},_resetDefault:function(){return this._defSize=null,this.domElem.css({maxWidth:"",height:""}),this},_getAvailableSpace:function(t){return this._owner?{width:this._getAvailableWidth(t),height:this._getAvailableHeight(t)}:$.extend({},this._defSize)},_getAvailableWidth:function(t){var e=BEM.DOM.getWindowSize(),n=e.width,i=t.offset,o=this._owner[0].getBoundingClientRect(),r=$.extend({},this._defSize);switch(t.to){case"left":n=o.left,"number"==typeof i&&(n-=i),"object"==typeof i&&(i.left&&(n+=i.left),i.right&&(n-=i.right));break;case"right":n=e.width-o.right,"number"==typeof i&&(n-=i),"object"==typeof i&&(i.left&&(n-=i.left),i.right&&(n+=i.right))}return("left"===t.to||"right"===t.to)&&(n-=this._tailPos?2*this.params.tail.width:this.params.offsetWithoutTail),Math.min(r.width,n)},_getAvailableHeight:function(t){var e=BEM.DOM.getWindowSize(),n=e.height,i=t.offset,o=this._owner[0].getBoundingClientRect(),r=$.extend({},this._defSize);switch(t.to){case"bottom":n=e.height-o.bottom,"number"==typeof i&&(n-=i),"object"==typeof i&&(i.bottom&&(n+=i.bottom),i.top&&(n-=i.top));break;case"top":n=o.top,"number"==typeof i&&(n-=i),"object"==typeof i&&(i.bottom&&(n-=i.bottom),i.top&&(n+=i.top))}return("bottom"===t.to||"top"===t.to)&&(n-=this._tailPos?2*this.params.tail.height:this.params.offsetWithoutTail),Math.min(r.height,n)},_calcTop:function(t){var e,n=this.__base(t),i=$(window).scrollTop(),o=BEM.DOM.getWindowSize(),r=this.getPlacingSize(),a=this.getOwnerPos(),s=this.getOwnerSize();return 0>n&&(n=0),e=Math.max(o.height+i,a.top+s.height),n+r.height>e&&(n=e-r.height),n},_calcLeft:function(t){var e,n=this.__base(t),i=$(window).scrollLeft(),o=BEM.DOM.getWindowSize(),r=this.getPlacingSize(),a=this.getOwnerPos(),s=this.getOwnerSize();return 0>n&&(n=0),e=Math.max(o.width+i,a.left+s.width),n+r.width>e&&(n=e-r.width),n},getPlacingSize:function(){return this._availSizes},_calcPlacingSize:function(t){return this._availSizes=this._getAvailableSpace(t),this._availSizes},_calcVisibilityFactor:function(){var t=this._defSize,e=this.getPlacingSize(),n=e.height*e.width,i=t.height*t.width;return n/i*100}}),function(t,e){function n(t){var e={};return"option"===t.item?(e={block:u,elem:"option",tag:"option",attrs:{value:t.value},content:t.content},t.disabled&&(e.attrs.disabled="disabled"),t.selected&&(e.attrs.selected="selected")):"optgroup"===t.item&&(e={elem:"option-group",tag:"optgroup",attrs:{label:t.label}},t.disabled&&(e.attrs.disabled="disabled"),e.content=Array.isArray(t.content)?t.content.map(function(t,e){return n(t,e)}):t.content),e.block=u,e}var i=t.browser.opera&&t.browser.version<12.1?"keypress":"keydown",o=t.browser,r=o.msie&&parseInt(o.version,10)<=10,a=o.msie&&8===parseInt(o.version,10),s=null,u="select";e.DOM.decl("select",{onSetMod:{js:function(){this._items=[],this._curItemIndex=-1,this._scrollableElemOutsidePopup=null,this._rowHeight=22,this.on("change",this._redrawParentPopup),this._getSelectedText()!==this._getButtonText()&&this.elem("control").trigger("change")},disabled:function(t,e){var n="yes"===e;this.elem("control").attr("disabled",n),this._getButton().setMod(t,e),n&&this.delMod("opened").delMod("focused")},focused:{yes:function(){return this.hasMod("disabled","yes")?!1:(this._useNativeControl()||this.bindTo(i,this._onKeyDown),void this.afterCurrentEvent(function(){this.trigger("focus")}))},"":function(){this._useNativeControl()||this.delMod("opened").unbindFrom(i),this.afterCurrentEvent(function(){this.trigger("blur")})}}},isDisabled:function(){return this.hasMod("disabled","yes")},isOpened:function(){return this.hasMod("opened","yes")},open:function(){return this.setMod("opened","yes")},close:function(){return this.delMod("opened")},val:function(e,n){if("undefined"==typeof e)return this.elem("control").val();var i,o=-1;return this.findElem("option").each(function(n){this.value===e&&!this.disabled&&(i=t(this).parent("optgroup")[0],!(i&&i.disabled))&&(o=n)}),o>-1&&this._selectedIndex(o,n),this},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_selectedIndex:function(e,n){var i=this._getSelectedIndex();return"undefined"==typeof e||e===i?i:(this.elem("control").prop("selectedIndex",e),this._useNativeControl()||(this._setButtonText(this._getSelectedText()),this._items[0]&&this.delMod(this._items,"selected").setMod(this._items.eq(e),"selected","yes")),this.trigger("change",t.extend({index:e,prev:i},n)),e)},setOptions:function(i){return i?(e.DOM.update(this.elem("control"),BEMHTML.apply(t.map(i,n))),this.redraw()):this},redraw:function(){return this._popup&&this._redrawList(),this.elem("control").trigger("change"),this},_useNativeControl:function(){return null!==s?s:s="none"!==this.elem("control").css("display")},_redrawParentPopup:function(){return this._isParentPopup()&&this._popup._parent.repaint(),this},_isParentPopup:function(){return this._popup&&this._popup._parent&&!this.hasMod("layout","fixed")},_onSelectChange:function(){var t=this;t._setButtonText(t._getSelectedText()),t.trigger("change",{index:t._getSelectedIndex(),prev:-1})},_onControlFocusInOut:function(t){this._useNativeControl()&&this.toggleMod("focused","yes","","focusin"===t.type)},_onMouseDown:function(t){this._isControlFocused()&&t.preventDefault()},_onKeyDown:function(t){var e=38===t.keyCode,n=40===t.keyCode,i=13===t.keyCode,o=32===t.keyCode;if(e||n){if(t.preventDefault(),!this.isOpened())return this.open();var r=this._items.length,a=this._curItemIndex;if(e&&0===a||n&&a>r-2)return;if(r){var s=n?1:-1,u=0;for(u=a;u>=0&&r>=u;)if(u+=s,this._isSelectableItem(this._items.eq(u))){a=u;break}this._onEnterItem(this._items.eq(a),!0)}}(i||o)&&this._onEnterItem(this._items.eq(this._curItemIndex),!0,!0)},_onEnterItem:function(t,e,n){this.elem("button").attr("aria-activedescendant",t.attr("id"));var i=this._curItemIndex,o=this._getItemIndex(t),r=this._items;i>-1&&this.delMod(r.eq(i),"hovered"),o>-1&&(this._curItemIndex=o,this.setMod(r.eq(o),"hovered","yes")),n&&this._selectedIndex(this._curItemIndex),e&&this._scrollToCurrent()},_onLeaveItem:function(t){var e=this._curItemIndex;e>-1&&e===this._getItemIndex(t)&&(this.delMod(this._items.eq(e),"hovered")._curItemIndex=-1)},_onSelectItem:function(t){return this._isSelectableItem(t)&&this._selectedIndex(this._curItemIndex),this.close()},_onButtonFocus:function(){this.setMod("focused","yes")},_findScrollableElemOutsidePopup:function(){if(null===this._scrollableElemOutsidePopup){var t,e=this._getPopup().domElem;do e=e.parent(),t=e.css("overflow-y");while("scroll"!==t&&"auto"!==t&&"HTML"!==e.prop("tagName"));this._scrollableElemOutsidePopup=e}return this._scrollableElemOutsidePopup},_onButtonBlur:function(){if(this.isOpened()&&this._isPopupFocused())if(a){var t=this._findScrollableElemOutsidePopup(),e=t.scrollTop();this._focusButton(),t.scrollTop(e)}else this._focusButton();else this.delMod("focused")},_onButtonPress:function(){this.toggleMod("opened","yes","")},_focusButton:function(){return this._getButton().setMod("focused","yes"),this},_blurButton:function(){return this._getButton().delMod("focused"),this},_isPopupFocused:function(){try{return this._getPopup().containsDomElem(t(document.activeElement))}catch(e){return!1}},_getButtonText:function(){return this._getButton().elem("text").text()},_setButtonText:function(t){this._getButton().elem("text").text(t||"​"),r&&this.domElem.parent().css("outline","")},_isOutsideClicked:function(e,n){return this.containsDomElem(t(n.target))},_getItemIndex:function(e){return t.inArray(e.get(0),this._items)},_getSelectedText:function(){return this.elem("control").find(":selected").text()},_getSelectedIndex:function(){return this.elem("control").prop("selectedIndex")},_isSelectableItem:function(t){var e;return e=this.hasMod(t,"disabled","yes")||this.hasMod(t,"label","yes")?!1:!0},_getButton:function(){return this._button||(this._button=this.findBlockOn("button","button"))},_getRowHeight:function(){return this.findElem(this._getPopup().domElem,"item").outerHeight()},_isControlFocused:function(){try{return this.containsDomElem(t(this.__self.doc[0].activeElement))}catch(e){return!1}},destruct:function(){this._outPopup&&this._outPopup.un("outside-click"),this.delMod("opened");var t=this._popup;t&&t.domElem&&t.destruct(),this.__base.apply(this,arguments)},getDefaultParams:function(){return{rows:15,popupMods:{direction:"down"}}}},{live:function(){return this.liveBindTo("control","change",function(){this._onSelectChange()}),this.liveBindTo("control","focusin focusout",function(t){this._onControlFocusInOut(t)}),this.liveBindTo("mousedown",function(t){this._onMouseDown(t)}),!1}})}(jQuery,BEM),function(t,e){var n=t.browser.opera&&t.browser.version<15;e.DOM.decl("select",{onElemSetMod:{item:{hovered:function(){n&&this._popup.domElem.css("display","inline").css("display","")}}}})}(jQuery,BEM),BEM.DOM.decl("select",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("focus",function(){this.hideErrorTip()}),this._tooltips={error:null,hint:null}},"disable-default":function(t,e){var n=this,i=n.elem("option","default","yes"),o="yes"===e;i.each(function(t,e){var i=$(e);i.prop("disabled",o?"disabled":!1),n.redraw()})}},redraw:function(){return this._popup&&(this._redrawList(),this._$items=this._getPopup().domElem.find(".select__item:not(.select__item_label_yes)"),this._setItemsProps(),this.hasMod("icon","yes")&&this._setIcons(),this.hasMod("hint","yes")&&this._setHint(),this.hasMod("right-hint","yes")&&this._setRightHints(),this.elem("control").trigger("change")),this},getSelectedItem:function(){return this._$items.eq(this._selectedIndex())},getSelectedIndex:function(){return this._selectedIndex()},showErrorTip:function(t){this._showTip({type:"error",theme:"red",content:t})},hideErrorTip:function(){this._hideTip({type:"error"})},showHintTip:function(t){this._showTip({type:"hint",theme:t.theme,content:t.content})},hideHintTip:function(){this._hideTip({type:"hint"})},_showTip:function(t){var e=t.type,n=t.content;if(!this._tooltips[e]){var i="error"===e?"error":"normal",o="error"===e?"no":"yes",r=this.hasMod("customTip")?this.getMod("customTip"):"",a=this.params.tipOffset||3,s=this.params.tipAxis||"top",u=this.params.watchScroll?"yes":"no",c=this.params.tooltipSize?this.params.tooltipSize:this.getMod("size"),l=BEMHTML.apply({block:"tooltip",mods:{theme:i,size:c,autoclosable:o,"watch-scroll":u,custom:r},js:{offset:a,directions:this.params.tipDirections||["right"],axis:s},content:[{elem:"tail"},n]}),d=$(l).insertBefore(this.domElem);BEM.DOM.init(d),this._tooltips[e]=d.bem("tooltip")}this._tooltips[e]._getPopup().setContent(n),this._tooltips[e].setOwner(this.elem("button")).setMod("shown","yes")},_hideTip:function(t){this._tooltips[t.type]&&this._tooltips[t.type].delMod("shown")}},{live:function(){return this.liveBindTo("button","change focusin mousedown",function(){this.hideErrorTip()}),this.__base.apply(this,arguments)}}),function(t){function e(t,e,n){var i={block:"select",elem:"item",content:{elem:"text",tag:"span",content:e||" &nbsp; "},elemMods:{}};return n&&(i.elemMods=n),i}function n(t){function n(t,i){var u=t.length;if(u){var c=0;do{var l=$(t[c]),d=l.attr("disabled")&&{disabled:"yes"};if(l.is("optgroup")){s=!0,!l.prev().is("optgroup")&&c>0&&r.push(o),a.push(r),r=[],r.push(e(l,l.attr("label"),$.extend({label:"yes"},d,i))),n(l.children(),$.extend({inner:"yes"},d,i));var h=r;r=a.pop(),r.push({block:"select",elem:"group",content:h})}else r.push(e(l,l.text(),$.extend(d,l.is(":selected")&&{selected:"yes"},i)))}while(++c<u||(s=!1))}}var i="select",o={block:i,elem:"separator",tag:"i"},r=[],a=[],s=!1;return n(t),BEMHTML.apply(r)}t.DOM.decl("select",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._initButton()}},_initButton:function(){this._getButton().on("focus",this._onButtonFocus,this).on("blur",this._onButtonBlur,this).on("press",this._onButtonPress,this)},_redrawList:function(){var e,i=this,o=this._getPopup().domElem;return t.DOM.update(this.findElem(o,"list"),n(this.elem("control").children())),e=this.findElem(o,"item"),this._curItemIndex=-1,this._items=e.filter(function(){return!i.hasMod($(this),"label","yes")}),this}})}(BEM),BEM.DOM.decl("select",{_redrawList:function(){this.__base();var t=this;this.bindTo(t._items,{mouseup:function(e){1===e.which&&(e.preventDefault(),t._onSelectItem(e.data.domElem))},mouseover:function(e){t._onEnterItem(e.data.domElem)},mouseout:function(e){t._onLeaveItem(e.data.domElem)}})}}),BEM.DOM.decl("select",{onSetMod:{opened:{yes:function(){if(this.hasMod("disabled","yes"))return!1;this._drawPopup();var t=this.findElem(this._popup.domElem,"item","selected","yes");this.elem("button").attr({"aria-activedescendant":t.attr("id"),"aria-expanded":!0})},"":function(){this.elem("button").attr("aria-expanded",!1).removeAttr("aria-activedescendant"),this._getPopup().hide()}}},_getPopupContent:function(t){return{block:t,elem:"list"}},_getPopupMix:function(t){return{block:t,elem:"popup",elemMods:{}}},_getPopup:function(){if(this._popup)return this._popup;var t=this,e=t.params,n=t.__self.getName(),i=this._getPopupContent(n),o=this._getPopupMix(n),r={animate:"no"},a={directions:[{to:"bottom",axis:"left",offset:{top:8}},{to:"top",axis:"left",offset:{bottom:8}}]};
["size","layout","theme","width","multiline"].forEach(function(e){t.hasMod(e)&&(o.elemMods[e]=t.getMod(e))}),$.extend(o.elemMods,e.elemPopupMods),$.extend(r,e.popupMods),$.extend(a,e.popupParams);var s=$(BEMHTML.apply({block:"popup",mods:r,mix:o,js:a,content:{elem:"content",content:i}}));return(t._popup=t.findBlockOn(s,"popup")).on({show:function(){t._curItemIndex=t._getSelectedIndex();var e=t._items.eq(t._curItemIndex);t.delMod(t._items,"selected").setMod(e,"hovered","yes").setMod(e,"selected","yes")},"outside-click":function(e,n){t._isOutsideClicked(e,n)?e.preventDefault():t._blurButton()},hide:function(){t.delMod("opened").delMod(t._items,"hovered").delMod(t.findElem(t._popup.domElem,"popup"),"scrollable")}}).bindTo("mousedown",function(t){t.preventDefault()}),BEM.DOM.append(BEM.DOM.scope,t._popup.domElem),t._redrawList(),t._outPopup=t.findBlockOutside("button","popup"),t._outPopup&&t._outPopup.on("outside-click",function(e,n){t._popup.containsDomElem($(n.target))&&e.preventDefault()}),t._popup},_calcPopupDimensions:function(){this._popupContent||(this._popupContent=this._getPopup().findBlockInside("popup").elem("content"));var t=parseInt(this.params.rows,10)||!1;if(t&&this.findElem(this._popupContent,"item").size()>t){this._rowHeight=this._getRowHeight();var e=parseInt(this._getPopup().domElem.css("height"),10);if(e>t*this._rowHeight)this._getPopup().setSize({height:t*this._rowHeight}),this.setMod(this.findElem(this._getPopup().domElem,"popup"),"scrollable","yes");else{var n=t*this._rowHeight+"px";this._getPopup().domElem.css("height")!==n&&this._getPopup().setSize({height:n})}}else this._getPopup().setSize({height:"auto"})},_drawPopup:function(){var t=this.findBlockInside("select"),e=this._getPopup();this.hasMod("multiline","yes")&&this._calcMultilinePopupDimensions(),e.show(t),this._calcPopupDimensions(),this._scrollToCurrent()},_scrollToCurrent:function(){if(this._popupContent&&!(this._curItemIndex<0)){var t,e=this._items.eq(this._curItemIndex).get(0).offsetTop,n=this._popupContent,i=n.scrollTop(),o=e-i,r=2*this._rowHeight;o>n.height()-r?t=e-r:i&&r>o&&(t=e-n.height()+r),t&&n.scrollTop(t)}}},{SHADOW_OFFSET:1}),modules.define("select",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:function(){this.__base.apply(this,arguments),this._isItemPropsSet=!1},opened:{yes:function(){this.__base.apply(this,arguments),this._isItemPropsSet||(this._$options=this.elem("option"),this._$items=this._getPopup().domElem.find(".select__item:not(.select__item_label_yes)"),this._setItemsProps(),this._isItemPropsSet=!0)}}},_setItemsProps:function(){var t=this,e=["icon"],n=["hint","right-hint"];$.each(t._$options,function(i,o){var r=$(o),a=t._$items.eq(i);e.forEach(function(e){t.hasMod(r,e)&&t.setMod(a,e,t.getMod(r,e))}),n.forEach(function(t){r.data(t)&&a.data(t,r.data(t))})})}}))}),BEM.DOM.decl({block:"select",modName:"layout",modVal:"content"},{_calcPopupDimensions:function(){this.__base.apply(this,arguments),this._popupContent.css("width",this._getButton().domElem.outerWidth()-2*this.__self.FOCUS_OFFSET_HORIZ)}},{FOCUS_OFFSET_HORIZ:1}),BEM.DOM.decl("checkbox",{onSetMod:{js:function(){this.setMod("checked",this.elem("control").prop("checked")?"yes":""),this._isControlFocused()&&this.setMod("focused","yes")},focused:{yes:function(){return this.isDisabled()?!1:(this._isControlFocused()||this.elem("control").focus(),this.setMod(this.elem("box"),"focused","yes"),void this.afterCurrentEvent(function(){this.trigger("focus")}))},"":function(){this._isControlFocused()&&this.elem("control").blur(),this.delMod(this.elem("box"),"focused"),this.afterCurrentEvent(function(){this.trigger("blur")})}},checked:function(t,e){return this.isDisabled()?!1:(this.elem("control").prop("checked","yes"===e),this.afterCurrentEvent(function(){this.trigger("change",{checked:"yes"===e})}),void this.setMod(this.elem("box"),"checked",e))},disabled:function(t,e){this.elem("control").prop("disabled","yes"===e)}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return this.hasMod("checked","yes")},toggle:function(){this.toggleMod("checked","yes","")},val:function(t){var e=this.elem("control");return"undefined"==typeof t?e.val():(e.val(t),this)},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_onClick:function(){this.isDisabled()||this.setMod("focused","yes")},_onChange:function(t){t.target.checked?this.setMod("checked","yes"):this.delMod("checked")},_onFocusInFocusOut:function(t){this.setMod("focused","focusin"===t.type?"yes":"")},_onMouseOverMouseOut:function(t){this.isDisabled()||this.setMod("hovered","mouseover"===t.type?"yes":"")},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}}},{live:function(){this.liveBindTo("leftclick tap",function(t){this._onClick(t)}).liveBindTo("control","change",function(t){this._onChange(t)}).liveBindTo("control","focusin focusout",function(t){this._onFocusInFocusOut(t)}).liveBindTo("mouseover mouseout",function(t){this._onMouseOverMouseOut(t)})}}),BEM.DOM.decl("checkbox",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._onLinkClick()}},_onLinkClick:function(){this.domElem.on("click",".link, .button",function(t){t.stopPropagation()})}}),function(t,e){t.DOM.decl("radiobox",{onSetMod:{js:function(){var t=this;t._val=t.findElem(t.elem("radio","checked","yes"),"control").val(),t.elem("control").each(function(e,n){var i=[];if(t._isControlFocused($(n))&&i.push("focused"),n.checked&&i.push("checked"),i[0]){var o=t.__self._getRadioByElem($(n));i.forEach(function(e){t.setMod(o,e,"yes")})}})},disabled:{yes:function(){this.setMod(this.elem("radio"),"disabled","yes")},"":function(){this.delMod(this.elem("radio"),"disabled")}}},onElemSetMod:{radio:{focused:{yes:function(t){this.delMod(this.elem("radio","focused","yes"),"focused");var e=this.findElem(t,"control");this._isControlFocused(e)||e.focus(),this.afterCurrentEvent(function(){this.trigger("focus",{current:t})})},"":function(t){this.afterCurrentEvent(function(){this.trigger("blur",{prev:t})})}},checked:{yes:function(t){this._val=this.findElem(t,"control").prop("checked",!0).val();var e=this.elem("radio","checked","yes");this.delMod(e,"checked"),this.trigger("change",{current:t,prev:e})}},hovered:function(t){return!this.isDisabled(t)},disabled:function(t,e,n){t.find(this.buildSelector("control")).prop("disabled","yes"===n)}}},_isControlFocused:function(t){try{return t[0]===this.__self.doc[0].activeElement}catch(e){return!1}},isDisabled:function(t){return this.hasMod(t,"disabled","yes")},val:function(t){if("undefined"==typeof t)return this._val;var e=this;return this.elem("control").each(function(n,i){return i.value===t?(e.setMod(e.__self._getRadioByElem($(i)),"checked","yes"),!1):void 0}),e},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getCurrent:function(){return this.findElem("radio","checked","yes")},uncheckAll:function(){var t=this.elem("radio","checked","yes");return this.delMod(t,"checked").findElem(t,"control").prop("checked",!1),this._val=e,this.trigger("change",{current:e,prev:t}),this},_onLeftClick:function(t){this.isDisabled(t.data.domElem)||this.setMod(t.data.domElem,"focused","yes")},_onChange:function(t){this.setMod(this.__self._getRadioByElem(t.data.domElem),"checked","yes")}},{live:function(){return this.liveBindTo("radio","leftclick tap",function(t){this._onLeftClick(t)}).liveBindTo("control","change",function(t){this._onChange(t)}).liveBindTo("radio","mouseover mouseout",function(t){this.setMod(t.data.domElem,"hovered","mouseover"===t.type?"yes":"")}).liveBindTo("control","focusin focusout",function(t){this.setMod(this.__self._getRadioByElem(t.data.domElem),"focused","focusin"===t.type?"yes":"")}),!1},_getRadioByElem:function(t){return t.closest(this.buildSelector("radio"))}})}(BEM),BEM.DOM.decl("radiobox",null,{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("radio","tap",function(t){this._onLeftClick(t),this._onChange(t)}),!1}}),function(t){t.DOM.decl({block:"radio-button",baseBlock:"radiobox"},{onElemSetMod:{radio:{checked:function(t,e,n){this.__base.apply(this,arguments),this.setMod(t,"pressed",n)},"next-for-pressed":{yes:function(){this.delMod(this.elem("radio","next-for-pressed","yes"),"next-for-pressed")}},pressed:{yes:function(t){this.delMod(this.elem("radio"),"pressed").setMod(t.next(),"next-for-pressed","yes")},"":function(t){this.delMod(t.next(),"next-for-pressed")}}}},_onMouseDown:function(t){var e=t.data.domElem;this.isDisabled(e)||this.hasMod(e,"checked","yes")||(this.setMod(e,"pressed","yes"),this.bindToDoc("mouseup touchend",function(t){this.afterCurrentEvent(function(){var n=this.findElem(e,"control");n.prop("checked")||(e.find(t.target).add(e).length?n.trigger("change").focus():this.delMod(e,"pressed").setMod(this.elem("radio","checked","yes"),"pressed","yes"))}),this.unbindFromDoc("mouseup touchend")}))}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("radio","mousedown",function(t){this._onMouseDown(t)}),!1}})}(BEM),function(t){var e=t.event.special.outsideclick={add:function(n){t(document).on("click."+n.guid,e.handler.bind(this))},remove:function(e){t(document).off("click."+e.guid)},handler:function(e){t.contains(this,e.target)||(e.type="outsideclick",t.event.dispatch.apply(this,arguments),e.type="click")}}}(jQuery),BEM.DOM.decl("attach",{onSetMod:{js:function(){this._noFileText=this.elem("text").text(),this._update({mode:"clear"}),this.bindTo("reset","click",this.resetFile)},disabled:function(t,e){this.elem("control").prop("disabled","yes"===e),this.findBlockOn("button","button").setMod("disabled",e)}},val:function(){return this.elem("control").val()},resetFile:function(){var t=this.elem("control");return t.val(""),t.replaceWith(t.clone()),this.dropElemCache("control"),this.findBlockOn("button","button").dropElemCache("control"),this._update({mode:"clear"}),this.delMod(this.elem("reset"),"visibility"),this.trigger("reset")},_update:function(t){var e=this._getFileByPath(this.val()),n=this.elem("text").text();(t&&"clear"===t.mode||e&&e!==n)&&(this._setFile(e),this._setExtension(this._getExtension(e)),this.setMod(this.elem("reset"),"visibility","visible"),e&&this.trigger("change"))},_getFileByPath:function(t){return t.split("\\").pop()},_setFile:function(t){this.setMod(this.elem("holder"),"state",t?"":"hidden"),this.elem("text").text(t||this._noFileText)},_extensionsToMods:{zip:"archive",rar:"archive",tar:"archive",gz:"archive","7z":"archive",gif:"gif",jpg:"jpg",jpeg:"jpg",png:"png",eml:"eml",exe:"exe",m4a:"audio",ogg:"audio",mp3:"mp3",wav:"wav",wma:"wma",flv:"video",mov:"mov",wmv:"wmv",mp4:"mp4",avi:"avi",xls:"xls",doc:"doc",docx:"doc",txt:"txt",pdf:"pdf",ppt:"ppt"},_getExtension:function(t){return this._extensionsToMods[t.split(".").pop().toLowerCase()]||""},_setExtension:function(t){this.setMod(this.elem("holder"),"file",t||this.params.unknownType)},getDefaultParams:function(){return{unknownType:"unknown"}}},{live:function(){return this.liveBindTo("change",function(){this._update()}),!1}}),BEM.DOM.decl("attach",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._errorTip=null,this._maxSize=this.params&&this.params.maxSize||5242880,this._extensions=this.params&&this.params.extensions||["PDF","JPG","JPEG","PNG"];var t=this;this._checkSize(),this._checkExtension(),this.on("change",function(){t._checkSize(),t._checkExtension()}),this._hideTipOnClick()}},_checkSize:function(){var t=this.findElem("control"),e=t[0].files[0]&&t[0].files[0].size;e>this._maxSize&&(this.resetFile(),this.showErrorTip("scan-limit-exceeded"))},_checkExtension:function(){var t=this.findElem("control"),e=t[0].files[0],n=this.val(),i=n.split(".").pop().toUpperCase(),o=_.contains(this._extensions,i);e&&!o&&(this.resetFile(),this.showErrorTip("invalid-scan-extension"))},_hideTipOnClick:function(){var t=this;t.domElem.on("click",function(){t._errorTip&&t.hideErrorTip()})},hideErrorTip:function(){this._errorTip.delMod("shown")},showErrorTip:function(t){this._showErrorTip(t)},_showErrorTip:function(t){var t=t||"upload-error";if(!this._errorTip){var e=BEMHTML.apply({block:"tooltip",mods:{theme:"error",size:"m",autoclosable:"yes","watch-scroll":"no"},js:{offset:3,directions:["right"],axis:"top"},content:[{elem:"tail"}]}),n=$(e).insertBefore(this.domElem);BEM.DOM.init(n),this._errorTip=n.bem("tooltip"),this._errorTip.setOwner(this)}this._errorTip._getPopup().setContent(BEM.I18N("attach",t)),this._errorTip.setMod("shown","yes")}}),modules.define("label",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:function(){this.__base.apply(this,arguments)},disabled:{yes:function(){this.domElem.attr("for","")},"":function(){this.domElem.attr("for",this.params["for"])}}}}))}),modules.define("tooltip",["i-bem__dom"],function(t,e,n){t(n.decl({block:this.name,modName:"unclosable",modVal:"yes"},{_onClick:function(){return!1}}))}),BEM.DOM.decl("fieldset",{onSetMod:{js:function(){this._supportedControls=["input","select"],this._bLabel=this.findBlockInside("label"),this._controlsList=this._getControlsList(),this._bLabel&&this._onLabelClick()}},_onLabelClick:function(){var t=this,e=t._controlsList;this._bLabel.domElem.on("click",function(){var n=_.find(e,function(t){return t.val()?void 0:t}),i=n?n:e[0];t._setFocus(i)})},_getControlsList:function(){var t=this,e=this.domElem[0].children,n=t._supportedControls,i=[];return _(e).forEach(function(t){var e=$(t);_.find(n,function(t){e.hasClass(t)&&i.push(e.bem(t))})}),i},_setFocus:function(t){var e="select"===t.__self.getName();e?(t._getButton().setMod("focused","yes"),t.open()):t.setMod("focused","yes")}}),modules.define("form",["i-bem__dom"],function(t,e){t(e.decl({block:"form",modName:"id",modVal:"search"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._onSelectSuggest()}},_onSelectSuggest:function(){var t=this,e=this.findBlockInside("input"),n=this.findBlockOutside("header2"),i=BEM.create("suggest",{owner:n,input:e,url:this.params.url,name:"money-search-provider",suggest:{}});i.on("select",function(e,n){n.item.hasMod("type","nav")||t.domElem.submit()},this)}}))}),function(){var t={};BEM.decl("i-request",{onSetMod:{js:function(){this._preventCache=!1}},get:function(t,e,n,i){$.isFunction(n)||(i=n,n=this.params.onError),this._get(t,e,n,$.extend({},this.params,i))},_get:function(e,n,i,o){var r=this._buildCacheKey(e,o),a=t[o.cacheGroup];o.cache&&a&&r in a.data?this.afterCurrentEvent(function(){n.call(this.params.callbackCtx,a.data[r])},this):this._do(e,n,i,o)},_do:function(){},_onSuccess:function(t,e,n,i){i.cache&&!this._preventCache&&this.putToCache(i,t,n),this._preventCache=!1},_buildCacheKey:function(t){return"string"==typeof t?t:$.param(t)},putToCache:function(e,n,i){var o=t[e.cacheGroup]||(t[e.cacheGroup]={keys:[],data:{}});o.keys.length>=e.cacheSize&&delete o.data[o.keys.shift()];var r=this._buildCacheKey(n,e);o.data[r]=i,o.keys.push(r)},dropCache:function(){delete t[this.params.cacheGroup]},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:t})}(),function(t){t.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}},_get:function(t,e,n,i){this._number++,this._requestNumber++,this._retryCount=i.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,n,i){var o=this;if(o._number>o._preventNumber){var r=arguments,a={data:i.data?$.extend({},i.data,t):t},s=o._wrapCallback(function(n,r,a){o._onSuccess(o._buildCacheKey(t,i),t,n[0],i),o._allowCallback(r,a)&&e.apply(i.callbackCtx,n)}),u=o._wrapCallback(function(t,e,a){o._allowCallback(e,a)&&(o._retryCount-->0?setTimeout(function(){o._do.apply(o,r)},i.retryInterval):n&&n.apply(i.callbackCtx,t))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback"].concat(i.paramsToSettings||[]),function(t,e){a[e]=i[e]}),$.ajax(a).done(s).fail(u)}},_wrapCallback:function(t){var e=this._requestNumber,n=this._number;return function(i){null!==i&&t(arguments,e,n)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber==t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},preventCallbacks:function(){this.abort()},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}})}(BEM),function(){var t=BEM.DOM,e=$.browser.opera&&$.browser.version<12.1?"keypress":"keydown";t.decl({name:"input",modName:"suggest",modVal:"yes"},{onSetMod:{js:function(){var t=this;t.params.foot&&(t.foot=t.params.foot),t._preventRequest=!0,t.__base.apply(t,arguments),t._userVal=t.val();var e=t._focused;e&&t.delMod("focused"),t.elem("control").attr("autocomplete","off"),t._preventRequest=!1,e&&t.setMod("focused","yes"),t._items=[],t._curItemIndex=-1,t._doRequest=$.debounce(t._doRequest,t.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().hide()}}},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){var e=38===t.which||40===t.which;if(e&&!t.shiftKey){t.preventDefault();var n=this._items.length,i=!1;if(n){var o=t.which-39,r=this._curItemIndex,a=0;do i=(0===r&&-1===o||r+o>=n)&&this._onLeaveItem(this._items[r],!0),r+=o,0>r?r=n-1:r>=n&&(r=0);while(!i&&this._onEnterItem(this._items[r],!0)===!1&&++a<n)}}},_onKeyPress:function(t){13===t.which&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var n=this;if(!n._popup){var i=n.__self.getName(),o=[{elem:"items",tag:"ul",mix:[{block:i,elem:"popup-items"}]}],r=Array.isArray(n.params.popupMixs)?n.params.popupMixs:[],a={directions:"bottom-left"};n._hasPopupFade()&&o.push({block:i,elem:"fade"}),$.extend(a,n.params.popupParams),r.push({block:i,elem:"popup",mods:n.params.popupMods,js:{uniqId:n._uniqId}}),n._popup=$(BEMHTML.apply({block:"popup",mods:{animate:"no"},mix:r,js:a,content:{elem:"content",content:o}})).bem("popup").on({show:function(){n.bindTo("keypress",n._onKeyPress).bindTo(e,n._onKeyDown)},hide:function(){n.unbindFrom("keypress "+e)._curItemIndex=-1}}),$.each({mouseover:n._onEnterItem,mouseout:n._onLeaveItem,"mousedown touchstart":n._onSelectItem,"mouseup touchend":n._onItemMouseUp},function(t,e){BEM.blocks["b-autocomplete-item"].on(n._popup.domElem,t,function(t){e.call(n,t.block)})}),t.init(n._popup.domElem)}return n._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return"yes"===(this.params.popupMods||{}).fade},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var n=this._items,i=this._curItemIndex;i>-1&&n[i].delMod("hovered"),i=this._getItemIndex(t),i>-1&&n[i].setMod("hovered","yes"),this._curItemIndex=i,this._isCurItemEnteredByKeyboard=!!e,e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(t.enter()!==!1?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var n=this._curItemIndex;return n>-1&&n===this._getItemIndex(t)&&(this._items[n].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var n=t.select(e||!1),i="object"==typeof n?n.needUpdate:n!==!1,o="object"==typeof n&&n.needEvent;this._preventRequest=!0,i&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().hide():(this._returnFocus=!0,this.bindToDoc("mouseup touchend",this._onDocMouseUp),i||(this._preventHide=!0),this.afterCurrentEvent(function(){this.setMod("focused","yes").del("_preventRequest","_preventHide")})),(i||o)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("mouseup touchend").del("_returnFocus")._getPopup().hide()},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var e=this;e._userVal=e.val(),e.trigger("data-requested").getDataprovider().get(e.val(),function(n){e.trigger("data-received",n);var i=e._getPopup(),o=n.items||n;e.foot&&o.length&&-1===$.inArray(e.foot,o)&&o.push(e.foot),o.length?(e._curItemIndex=-1,t.update(i.elem("items"),e._buildItemsHtml(o),function(){i.isShown()||(i.show(e.elem("box")),e._setWidth()),i.repaintShadowIfNeeded(),e._items=i.findBlocksInside("b-autocomplete-item"),e.trigger("update-items")})):i.hide()})},_setWidth:function(){this._hasPopupFade()&&this._getPopup().domElem.css("width",this.elem("box").outerWidth())},_buildItemsHtml:function(t){var e=this;return BEMHTML.apply($.map(t,function(t){var n,i={block:"b-autocomplete-item",data:t,mods:{type:$.isArray(t)?t[0]:"text"},suggestVersion:e.params.dataprovider.version||4};return $.isArray(t)&&$.isPlainObject(n=t.concat().pop())&&$.extend(i,n),i}))},setFoot:function(t){return this.foot=t,this.foot},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}})}(),BEM.decl({name:"input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){return this.__base({part:t},function(t){e.call(this,{items:t[1],metainfo:t[2]})})}}),BEM.decl("i-common__string",{},{cleverSubstring:function(){var t="…";return function(e,n,i){return e.length>n+i?e.substring(0,n-1)+t:e}}(),escapeHTML:function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return t[e]||e})}}(),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},highlight:function(t,e){if(!$.isArray(e))return t;var n,i=[],o=0,r=e.sort(function(t,e){return t[0]-e[0]}),a=[],s="?",u=~t.indexOf(s),c=function(){for(var e,n=/\&#\d+;/gi;e=n.exec(t);)a.push(e[0]),t=t.replace(e[0],s)},l=function(t){if(u)return t;for(;~t.indexOf(s)&&a.length;)t=t.replace(s,a[0]),a.shift();return t};return!u&&c(),r.forEach(function(e){n=o>e[0]?o:e[0],i.push({tag:"span",elem:"span",content:l(t.slice(o,n))}),i.push({tag:"em",elem:"em",content:l(t.slice(n,o=e[1]))})},this),i.push({tag:"span",elem:"span",content:l(t.slice(o))}),i}}),BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(){}}),BEM.DOM.decl("b-autocomplete-item",{},{live:function(){this.liveBindTo("mouseover mouseout mousedown mouseup",function(t){this.trigger(t.type)})}}),BEM.HTML.decl("b-autocomplete-item",{onBlock:function(t){var e=t.param("data"),n=BEM.blocks["i-common__string"].escapeHTML($.isArray(e)?e[1]:e);$.isArray(t.param("search_cgi"))&&t.js({cgi:t.param("search_cgi")}),t.tag("li").mod("pers",t.param("pers")?"yes":!1).content(BEM.blocks["i-common__string"].highlight(n,t.param("hl"))).js(!0)}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"nav",modVal:"yes"},{enter:function(){return!1},select:function(t){return t&&$('<form style="display:none" action="'+this.val()+'" target="_blank"/>').appendTo("body").submit().remove(),{needEvent:!0}}},{getUrl:function(t){return(t.match(/^\w[\w-]*:\/\//g)?"":"http://")+t}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onSetMod:{js:function(){this.setMod("nav","yes")}},enter:function(){return this.__base.apply(this,arguments)},select:function(){return this.__base.apply(this,arguments)}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onBlock:function(t){var e=t.param("data"),n=4==t.param("suggestVersion"),i=e[4]||e[3],o=(i.match(/^\w[\w-]*:\/\//g)?"":"http://")+i;t.js({val:o}).content({elem:"link",url:o,title:BEM.blocks["i-common__string"].escapeHTML(n?e[3]:e[2]),description:BEM.blocks["i-common__string"].highlight(n?e[2]:e[1],t.param("hl"))})},onElem:{link:function(t){t.tag("a").attrs({href:t.param("url"),target:"_blank"}).content([{elem:"link-url",tag:"span",content:t.param("title")},{elem:"link-info",tag:"span",content:["&nbsp;&mdash; "].concat(t.param("description"))}])}}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{select:function(){return!1}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{onBlock:function(t){t.mod("enterable","no").content($.map(t.param("data").slice(1),function(t){return $.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t}))}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"lingvo"},{onBlock:function(t){var e=t.param("data")[1];t.content([{tag:"span",elem:"text",content:e.text},{tag:"span",elem:"translation",content:[" — ",e.translation]}])}}),BEM.decl("suggest",{onSetMod:{js:function(){var t,e,n,i=this;i._clear(),i._onChange=$.debounce(i._onChange,i.params.debounceDelay),i._owner=i.params.owner,t=i._input=i.params.input,e=i._control=t.elem("control"),i._label=i.params.label,i._control0=e[0],i._val=t.val(),n=t.hasMod("focused"),n&&t.delMod("focused"),e.attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"}),n&&t.setMod("focused","yes"),t.on("change",i._onChange,i).on("focus",i._onFocus,i).on("blur",i._onBlur,i),e.keydown(i._onKeyDown.bind(i)).keypress(i._onKeyPress.bind(i)).keyup(i._onKeyUp.bind(i))}},destruct:function(){this._popup&&this._popup.destruct(),this.__base.apply(this,arguments)},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{cache:!1,updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})},getPopupBlock:function(){return this._popup},updateTop:function(){var t=this._owner.domElem,e=t.offset().top+t.outerHeight();return this._popup.domElem.css("top",e),this},redraw:function(){var t=this,e=t._label;if(e){t._itemStyle&&t._itemStyle.remove();var n,i=$("body"),o=e.outerWidth(!0),r=t._input.elem("control"),a=r.offset().left+parseInt(r.css("padding-left"),10),s=parseInt(t._input.findBlockInside(e,"link").domElem.css("padding-right"),10)-parseInt(t._owner.findBlockInside("arrow").domElem.css("padding-left"),10);n=$('<div class="suggest__title" style="position:absolute;visibility:hidden"/>').appendTo(i),t._itemStyle=$(BEMHTML.apply({block:"suggest",elem:"padding",itemPaddingLeft:a,titleWidth:n.width()+o-s})).appendTo($("head")),n.remove()}return t},_create:function(){var t=this;if(!t._created){t._created=!0;var e=t.__self,n=e._buildPopup(t.params.mods),i=$(BEMHTML.apply(n));BEM.DOM.append(BEM.DOM.scope,i),t._popup=i.bem("popup"),this.params.needUpdateTop&&t.updateTop(),t.redraw(),t.trigger("created")}},_request:function(){var t,e,n=this;return n._created||n._create(),t=n._input.val(),e=n._getPos(),n._val=t,n._pos=e,n.trigger("data-requested")._getProvider().get(t,e,this.changeThis(this._onData)),n},_onData:function(t){var e,n=this._popup,i=t.items,o=t.meta||{};return this.trigger("data-received",t),i.length?(this._meta=o,this._idx=-1,e=this.__self._buildItems(i,o),n.setContent(BEMHTML.apply(e)),this._show(),this._items=n.findBlocksInside("suggest-item"),void this.trigger("update-items")):(this._items=[],void n.hide())},_getProvider:function(){var t,e,n=this,i=n._provider,o=n.params;return i?i:(t=o.name||n.__self.getName()+"__provider",e=$.extend({},{v:4,yu:BEM.blocks["i-global"].param("yandexuid"),fact:1,wiz:"TrWhr"},o.suggest),i=n._provider=BEM.create(t,{url:o.url,data:e,cache:o.cache,dataType:o.json?"json":"jsonp",callbackCtx:n}))},_onChange:function(t,e){return e&&e.noSuggest?void 0:e&&"suggest"!==e.source?(this._hide(),void this._clear()):void this._request()},_onFocus:function(){var t=this;t.params.showListOnFocus&&t._items.length&&t._input.val()&&t._show()},_onBlur:function(){var t=this;t._noHide||t._hide()},_onKeyDown:function(t){var e,n,i,o=this,r=t.which;if((37===r||39===r)&&o.afterCurrentEvent(o._request,o),!(38!==r&&40!==r||t.shiftKey)&&(t.preventDefault(),e=o._items.length)){if(i=o._idx,n=r-39,0===i&&-1===n||i+n>=e)return void o._onLeaveItem(o._items[i],!0);i+=n,i=0>i?e-1:i>=e?0:i,o._onEnterItem(o._items[i],!0)}},_onKeyPress:function(t){if(13===t.which){var e=this,n=e._idx;n>-1&&e._byKeyboard&&(t.preventDefault(),e._onSelectItem(e._items[n],!0)),e._hide()}},_onKeyUp:function(){},_onEnterItem:function(t,e){var n=this,i=n._items,o=n._idx;o>-1&&i[o].delMod("selected"),o=n._getIdx(t),o>-1&&i[o].setMod("selected","yes"),n._idx=o,n._byKeyboard=e,n._control.attr("aria-activedescendant",t.domElem.attr("id")),e&&n.params.updateOnEnter&&t.enter()!==!1&&n._input.val(t.val(),{source:"suggest",noSuggest:!0,item:t})},_onLeaveItem:function(t,e){var n=this,i=n._idx;i>-1&&i===n._getIdx(t)&&(n._items[i].delMod("selected"),n._idx=-1,n._control.removeAttr("aria-activedescendant")),e&&n._input.val(n._val,{source:"suggest"})},_onSelectItem:function(t,e){var n=this,i=t.select(e);n._val=t.val(),i&&n._input.val(n._val,{source:"suggest",noSuggest:!0,item:t}),n.trigger("select",{item:t,itemIndex:n._idx,pos:n._pos,meta:n._meta,byKeyboard:e}),i&&n._clear(),n._noHide=!1,n._hide()},_onItemMouseDown:function(){this._noHide=!0},_show:function(){var t=this;t._popup&&!t._popup.isShown()&&t._popup.show(t._owner)},_hide:function(){this._popup&&this._popup.hide()},_clear:function(){this._idx=-1,this._items=[]},_getIdx:function(t){return $.inArray(t,this._items)},_getPos:function(){var t,e=this,n=e._control0,i=e._val.length;return document.selection?(n.focus(),t=document.selection.createRange(),t.moveStart("character",-i),t.text.length):n.selectionStart||0===n.selectionStart?n.selectionStart:i}},{_buildPopup:function(t){return{block:"popup",mods:{autoclosable:"no",adaptive:"no",animate:"no"},js:{position:{left:0}},mix:[{block:"suggest",mods:t}],content:{elem:"content",mix:[{block:"suggest",elem:"content"}]}}}}),BEM.decl("suggest",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._control.mouseup(this._request.bind(this))}},_create:function(){var t=this;t.__base.apply(t,arguments);var e=t._popup.elem("content");BEM.blocks["suggest-item"].on(e,"mouseover",function(e){t._onEnterItem(e.block)}).on(e,"mouseout",function(e){t._onLeaveItem(e.block)}).on(e,"mousedown",function(e){t._onItemMouseDown(e.block)}).on(e,"mouseup",function(){}).on(e,"leftclick",function(e){t._onSelectItem(e.block)})}},{_buildItems:function(t,e){var n,i,o=this,r=[];return t.forEach(function(t){var a,s,u,c=$.isArray(t),l=c?t[0]:"text";c&&(s=t.concat().pop()),$.isPlainObject(s)||(s={}),l||(l="text"),BEM.blocks["suggest-item"].isItem(l)||(l="text"),a=l,s.pers&&(a="nah"),!e.group&&"nav"!==a&&"nah"!==a&&(a="text"),i!==a&&(i=a,n=[],u="text"===a?o._getTextLabel():BEM.I18N("suggest",a),r.push({block:"suggest",elem:"group",content:[{elem:"title",content:u},{elem:"items",content:n}]})),n.push($.extend({block:"suggest-item",mods:{type:l},data:t},s))}),r},_getTextLabel:function(){return BEM.blocks["i-global"].param("suggest-label")||BEM.I18N("suggest","text")}}),BEM.decl("suggest",{},{_buildItems:function(t,e){var n,i,o=this,r=[];return t.forEach(function(t){var a,s,u,c=$.isArray(t),l=c?t[0]:"text";c&&(s=t.concat().pop()),$.isPlainObject(s)||(s={}),l||(l="text"),BEM.blocks["suggest-item"].isItem(l)||(l="text"),a=l,s.pers&&(a="nah"),!e.group&&"nav"!==a&&"nah"!==a&&(a="text"),i!==a&&(i=a,n=[],u="text"===a?o._getTextLabel():BEM.I18N("suggest",a),r.push({block:"suggest",elem:"group",content:[{elem:"title",content:u},{elem:"items",content:n}]})),n.push($.extend({block:"suggest-item",mods:{type:l},data:t},s))
}),r},_getTextLabel:function(){return BEM.blocks["i-global"].param("suggest-label")||BEM.I18N("suggest","text")}}),modules.define("suggest",["i-bem__dom"],function(t,e){t(e.decl({block:this.name},{onSetMod:{js:function(){this.__base.apply(this,arguments)}}},{_buildPopup:function(t){return{block:"popup",mods:{autoclosable:"yes",adaptive:"no",animate:"no"},js:{position:{left:0}},mix:[{block:"suggest",mods:t}],content:{elem:"content",mix:[{block:"suggest",elem:"content"}]}}}}))}),BEM.decl({name:"suggest__provider",baseBlock:"i-request_type_ajax"},{get:function(t,e,n){return this.__base({part:t,pos:e},function(t){n.call(this,{orig:t[0],items:t[1],meta:t[2]})})}}),BEM.DOM.decl("suggest-item",{val:function(){var t=this.elem("text");return(t.length?t:this.domElem).text()},enter:function(){return!0},select:function(){return!0}},{_items:{fact:1,nav:1,text:1,traffic:1,weather:1,icon:1},isItem:function(t){return!!this._items[t]}}),BEM.DOM.decl("suggest-item",{},{live:function(){this.liveBindTo("mouseover mouseout mousedown mouseup leftclick",function(t){this.trigger(t.type,t)})}}),BEM.DOM.decl({block:"suggest-item",modName:"nav",modVal:"yes"},{val:function(){return this.elem("link").text()},enter:function(){return!1},select:function(){return $('<form style="display:none" action="'+this.params.val+'" target="_blank"/>').appendTo(BEM.DOM.scope).submit().remove(),!1}},{live:function(){return this.liveBindTo("link nav","leftclick tap",function(t){t.preventDefault()}),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"suggest-item",modName:"nav",modVal:"yes"},{select:function(){return location.href=this.params.val,!1}}),modules.define("money-search-provider",["i-bem__dom"],function(t,e){t(e.decl({block:"money-search-provider",baseBlock:"suggest__provider"},{get:function(t,e,n){var i=this;return t.length<1?void n({items:[]}):void $.ajax({type:"GET",data:{string:t},url:i.params.url,dataType:"json",success:function(t){n({orig:t[0],items:t[1],meta:t[2]})}})}}))}),modules.define("tutorial",["i-bem__dom","yamoney-lib"],function(t,e,n){t(e.decl(this.name,{onSetMod:{js:function(){if(this._counters={},this._bPage=this.findBlockOutside("b-page"),this._bHeader=this._bPage.findBlockInside("header2"),this._bBalance=this._bPage.findBlockInside("balance"),this._bDropdown=this._bBalance.findBlockInside("dropdown"),this._bBalancePopup=this._bDropdown.getPopup(),this._bMenu=this._bPage.findBlockInside("menu"),this._steps=this.elem("step"),this._stepId="",this._cookieName=this.params.cookieName,this._checkHeads()||this.showByCondition(),this._isAndroid()){var t='<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />';e.append($("head"),t)}this._onClose(),this._onStepChange(),this._onWindowResize()}},_checkHeads:function(){var t=this._bPage.domElem,e=t.find(".b-advanced-balance-head").length,n=t.find(".b-index-phone").length,i=t.find(".b-smart-app-head").length,o=t.find(".b-inactive-head").length;return e||n||i||o},showByCondition:function(){var t=n.yCookie.get({name:this._cookieName}),e=this;t&&this._setFlag();var i=t||!this._bMenu;return i?void window.setTimeout(function(){e._destructTutorial()},0):void this.show()},show:function(){var t=this.elem("step","state","active");this._stepId=this.getMod(t,"id"),this._setOffset(),this._setStepsPosition(),this.domElem.fadeIn(),this._showStep(this._stepId)},_setOffset:function(){var t=this._bHeader.domElem.offset().top;t&&this.domElem.offset({top:t})},_onWindowResize:function(){var t=this;$(window).on("resize",function(){t._setStepsPosition()})},_setStepsPosition:function(){var t=$(window).width(),e=this._bDropdown.domElem,i=e.offset().left+e.width()/2;t=1e3>t?1e3:t,this._steps.each(function(e,o){var r=$(o),a=n.toNum(r.attr("data-dropdown-offset"),0);0!==a&&r.css("right",t-i+a)})},_setFlag:function(){var t=this.params.setFlagsUrl;$.post(t)},_onClose:function(){var t=this;t.domElem.on("mousedown leftclick",".tutorial__close",function(){var e=$(this).closest(".tutorial__step "),n=t.getMod(e,"id");t._callCounter(n,"close"),t._destructTutorial(),t._setFlag()})},_onStepChange:function(){var t=this;t._steps.on("mousedown leftclick",".tutorial__next",function(){var e=$(this).closest(".tutorial__step "),n=t.getMod(e,"id"),i=e.next(".tutorial__step");if(i){var o=t.getMod(i,"id");t._callCounter(n,"moveToNextStep"),t._showStep(o)}}),t.domElem.on("leftclick",".steps-indicator__step",function(){var e=$(this).index(),n=$(t._steps[e]);if(n){var i=t.getMod(n,"id");t._showStep(i)}})},_callCounter:function(t,e){this._counters[t]&&this._counters[t][e]&&Lego.cp(this._counters[t][e].pi,this._counters[t][e].ci)},_showStep:function(t){var e=this.elem("step","id",t);this._hideSteps(),this.setMod(e,"state","active"),this._stepId=t,this._callCounter(t,"show")},_hideSteps:function(){var t=this;_.forEach(t._steps,function(e){t.delMod($(e),"state")})},_disableBalanceClick:function(){this._bDropdown.domElem.on("leftclick",function(){return!1})},_enableBalanceClick:function(){this._bDropdown.domElem.off("leftclick")},_isAndroid:function(){var t=navigator.userAgent.toLowerCase(),e=t.indexOf("android")>-1;return e},_destructTutorial:function(){this._bMenu&&this._bMenu.delMod("highlighted"),this._bHeader.delMod("highlighted"),this._bBalancePopup.delMod("visibility").setMod("autoclosable","yes"),this._enableBalanceClick(),this._isAndroid()&&$('meta[name="viewport"]').attr("content","initial-scale=1.0, user-scalable=yes"),this.destruct()}}))}),modules.define("tutorial",["i-bem__dom","yamoney-lib"],function(t,e){t(e.decl({block:"tutorial",modName:"layout",modVal:"new-user"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._counters={discoverWallet:{show:{pi:41,ci:72775},close:{pi:41,ci:72778},moveToNextStep:{pi:41,ci:72777}},spendAndEarn:{show:{pi:41,ci:72776},close:{pi:41,ci:72779}}}}},_showStep:function(t){switch(this.__base.apply(this,arguments),t){case"discoverWallet":this._bMenu.delMod("highlighted"),this._bHeader.setMod("highlighted","balance"),this._bBalancePopup.delMod("autoclosable"),this._enableBalanceClick(),this._bDropdown.elem("switcher").click(),this._disableBalanceClick();break;case"spendAndEarn":this._bMenu.setMod("highlighted","yes"),this._bHeader.delMod("highlighted"),this._bBalancePopup.delMod("visibility").setMod("autoclosable","yes")}}}))}),modules.define("tutorial",["i-bem__dom","yamoney-lib"],function(t,e){t(e.decl({block:"tutorial",modName:"layout",modVal:"lacing"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._counters={balanceOnTop:{show:{pi:41,ci:72730},close:{pi:41,ci:72726},moveToNextStep:{pi:41,ci:72725}},insideWallet:{show:{pi:41,ci:72731},close:{pi:41,ci:72728},moveToNextStep:{pi:41,ci:72727}},quickAccess:{show:{pi:41,ci:72732},close:{pi:41,ci:72729}}}}},_showStep:function(t){switch(this.__base.apply(this,arguments),t){case"balanceOnTop":this._bMenu.delMod("highlighted"),this._bHeader.setMod("highlighted","balance"),this._bBalancePopup.delMod("visibility").setMod("autoclosable","yes"),this._disableBalanceClick();break;case"insideWallet":this._bMenu.delMod("highlighted"),this._bHeader.setMod("highlighted","balance"),this._bBalancePopup.delMod("autoclosable"),this._enableBalanceClick(),this._bDropdown.elem("switcher").click(),this._disableBalanceClick();break;case"quickAccess":this._bMenu.setMod("highlighted","yes"),this._bHeader.delMod("highlighted"),this._bBalancePopup.delMod("visibility").setMod("autoclosable","yes")}}}))}),BEM.DOM.decl("promo-button",{onSetMod:{js:function(){var t=this.isDisabled(),e=this.domElem;this._href=e.attr("href"),this._href&&t&&e.removeAttr("href"),e.attr("disabled",t),this._isFocusable="a button".indexOf(e[0].tagName.toLowerCase())>-1},focused:{yes:function(){return this.isDisabled()?!1:(this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isFocusable&&!this._isControlFocused()&&this.domElem.focus(),void this.afterCurrentEvent(function(){this.trigger("focus")}))},"":function(){this.unbindFromWin("unload").unbindFrom("keydown"),this._isFocusable&&this._isControlFocused()&&this.domElem.blur(),this.afterCurrentEvent(function(){this.trigger("blur")})}},disabled:function(t,e){var n="yes"==e,i=this.domElem;this._href&&(n?i.removeAttr("href"):i.attr("href",this._href)),n&&i.keyup(),this.afterCurrentEvent(function(){i.attr("disabled",n)})},pressed:function(t,e){this.setMod("focused","yes"),this.isDisabled()&&this.trigger("yes"==e?"press":"release")},hovered:{"":function(){this.delMod("pressed")}},"*":function(t){return this.isDisabled()&&"hovered pressed".indexOf(t)>-1?!1:void 0}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return"undefined"==typeof t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},_isControlFocused:function(){try{return this.containsDomElem($(document.activeElement))}catch(t){return!1}},_onKeyDown:function(t){var e=t.keyCode;13!=e&&32!=e||this._keyDowned||(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,32==e&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.trigger("click")})},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){var t={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}};this.liveBindTo("leftclick",function(t){this._onClick(t)}).liveBindTo("mouseover mouseout mouseup focusin focusout",function(e){var n=t[e.type];this.setMod(n.name,n.val||"")}).liveBindTo("mousedown",function(e){var n=t[e.type];1==e.which&&this.setMod(n.name,n.val||""),this._isControlFocused()&&e.preventDefault()})}}),BEM.DOM.decl("user",{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=this.findBlockOn("enter","button");if(null!==t){var e=this.domElem.prop("tabindex");this.domElem.attr({tabindex:-1,role:"group"}).removeAttr("aria-haspopup aria-expanded"),t.domElem.attr("tabindex",e),this._domik=BEM.create("domik_type_popup",{mods:this.params.domikMods,js:this.params.domikJs,hidden:this.findBlockInside({block:"domik",modName:"type",modVal:"hidden"})}),t.bindTo("leftclick tap",function(t){t.preventDefault(),this._domik.open()}.bind(this))}}},destruct:function(){this._domik&&this._domik.destruct(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({name:"button",modName:"pseudo",modVal:"yes"},{_onClick:function(t){this.__base.apply(this,arguments),this._href&&t.preventDefault()}}),modules.define("domik",["i-bem__dom","yamoney-lib"],function(t,e,n){t(e.decl({block:this.name,modName:"type",modVal:"popup"},{onSetMod:{js:function(){var t=this;t.__base.apply(this,arguments),t._dropdown=t.findBlockInside("dropdown")||0,t._dropdown&&t._dropdown.on("show",function(){t.domElem.attr("aria-expanded",!0)}).on("hide",function(){t.domElem.attr("aria-expanded",!1)})}},_onClick:function(t){$(t.target).hasClass("dropdown__switcher")&&t.preventDefault()}},{live:function(){return this.liveBindTo("leftclick",function(t){this._onClick(t)}).liveBindTo("keyup",function(t){return n.isModifyerKey(t)?!1:void(n.checkKey(t,["space"])&&this.domElem.click())}),!1}}))}),BEM.decl("domik_type_popup",{destruct:function(){this._form&&this._form.destruct(),this._popup&&this._popup.destruct(),this.__base.apply(this,arguments)},create:function(){if(this._created)return this;var t,e,n=this.__self,i=n._buildTypePopup(this._uniqId,this.params.mods,this.params.js),o=$(BEMHTML.apply(i)),r=this.params.hidden;if(BEM.DOM.append(BEM.DOM.scope,o),e=this._popup=o.bem("popup"),t=this._form=this._popup.findBlockInside("auth"),r){var a=r.domElem;t.getUsernameBlock().val(a.find("input[name=login]").change().val()),t.getPasswordBlock().val(a.find("input[name=passwd]").change().val()),delete this.params.hidden,r.destruct()}return this._created=!0,this},open:function(){var t=this;return BEM.blocks["i-global"].param("login")?this:(this._created||this.create(),this.close(),this._popup.show(),this.afterCurrentEvent(function(){t._form.getUsernameBlock().setMod("focused","yes"),t._form.redraw()}),this)},close:function(){return this._popup.hide(),this},isOpened:function(){return this._popup&&this._popup.isShown()||!1},getFormBlock:function(){return this._form}},{_buildTypePopup:function(t,e,n){var i=(n||{}).explain;return{block:"popup",mix:[{block:"domik",elem:"popup"}],mods:{type:"modal",position:"fixed","body-scroll":"no",theme:"ffffff"},underMods:{type:"paranja"},content:{elem:"content",content:{block:"domik",js:$.extend({_uniqId:t},n),mods:$.extend({type:"popup"},e),content:[i?{elem:"explain",content:i}:"",{block:"auth",mods:{content:"auto"}}]}}}}}),BEM.DOM.decl({block:"popup",modName:"type",modVal:"modal"},{getDefaultParams:function(){var t=this.__base();return t.top="50%",t.left="50%",t},_isPercentVal:function(t){return"string"==typeof t&&t.indexOf("%")>0},show:function(t){return this._moveToContainer(),this.setMod("visibility","outside").setMod("adaptive","no"),this.repaint(t),this},repaint:function(t){this._moveToContainer(),t||(t={left:this.params.left,top:this.params.top});var e=this.getPopupSize();return this._isPercentVal(t.left)&&!t.marginLeft&&(t.marginLeft=e.width/(-100/parseInt(t.left,10))),this._isPercentVal(t.top)&&!t.marginTop&&(t.marginTop=e.height/(-100/parseInt(t.top,10))),this._show(t),this}}),BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{addChild:function(t){this.__base.apply(this,arguments),t.setMod("watch-scroll","no")},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&9===t.which&&(t.preventDefault(),this._lastFocusable.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||9===t.which&&(t.preventDefault(),this._firstFocusable.focus())}}),BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{getOwnerPos:function(){var t=this.__base.apply(this,arguments);if(this._owner){var e=this._viewport;t.top-=e.scrollTop(),t.left-=e.scrollLeft()}return t}}),function(){var t={};BEM.DOM.decl({block:"popup",modName:"body-scroll",modVal:"no"},{onSetMod:{visibility:function(){return this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visibility","visible")?t[this.params.uniqId]=!0:delete t[this.params.uniqId],this._manageScopeOverflow()}),this.__base()}},destruct:function(){var e=this.params.uniqId;t[e]&&(delete t[e],this._manageScopeOverflow()),this.__base.apply(this,arguments)},_enableScroll:function(){return this._scope.css({overflow:""}),this},_disableScroll:function(){return this._scope.css({overflow:"hidden"}),this},_manageScopeOverflow:function(){var e=Object.keys(t).length;0===e?this._enableScroll():1===e&&this._disableScroll()}})}(),BEM.DOM.decl({block:"popup",modName:"body-scroll",modVal:"no"},{onSetMod:{js:function(){this._body=$("body"),this.__base()},visibility:{visible:function(){if(this.__base(),this._scope[0]===this._body[0]){this._scrollState={};var t=this._body,e=this._scrollState.top=t.scrollTop(),n=this._scrollState.left=t.scrollLeft(),i={position:"fixed",left:0,right:0};e&&(i.top=-e),n&&(i.left=-n),t.css(i),e&&t.scrollTop(e),n&&t.scrollLeft(n)}},"":function(){if(this.__base(),this._scope[0]===this._body[0]){var t=this._body,e=this._scrollState;t.css({position:"",top:"",left:"",right:""}),e.top&&t.scrollTop(e.top),e.left&&t.scrollLeft(e.left),this._scrollState=null}}}}}),function(){function t(t,e,n,i){var o=t.__self,r=i.checkEmpty;return[function(){return r&&0===e.length?[t._username,"fill-input"]:!0},function(){return r&&0===n.length?[t._password,"fill-input"]:!0},function(){return/[а-яА-ЯёЁ]/.test(n)?[t._password,"wrong-keyboard-layout"]:!0},function(){return o._isUsernameValid(e,!r)?!0:[t._username,"wrong-characters"]},function(){return o._isPasswordValid(n)?!0:[t._password,"wrong-characters"]},function(){return n&&n===e?[t._password,"wrong-password"]:!0}]}BEM.DOM.decl("auth",{onSetMod:{js:{inited:function(){this._username=this.findBlockInside("username","input").on("change",this._onInputChange,this),this._password=this.findBlockInside("password","input").on("change",this._onInputChange,this),this._button=this.findBlockInside("button","button"),this._error=null,this._errorOwner=null,this.bindTo("submit",this._onBeforeSubmit),this.redraw()}}},destruct:function(){this._error&&this._error.destruct(),this.__base.apply(this,arguments)},_checkInput:function(e){var n=this,i=t(n,n._username.val(),n._password.val(),{checkEmpty:e}),o=i.every(function(t){var e=t();return Array.isArray(e)?(n.showError(e[0],BEM.I18N("auth",e[1])),e[0].elem("control").attr("aria-invalid",!0),!1):!0});return o&&(this.hideError(),this._username.elem("control").removeAttr("aria-invalid"),this._password.elem("control").removeAttr("aria-invalid")),o},_onInputChange:function(){this._checkInput(!1)},enableButton:function(){return this._button.delMod("disabled"),this},disableButton:function(){return this._button.setMod("disabled","yes"),this},_onBeforeSubmit:function(t){return this._username.val(this._username.val().trim()),this._checkInput(!0)?(this._onSubmit(t),void this.trigger("submit",t)):!1},_onSubmit:function(){if(this.disableButton(),this.elem("retpath").val(this.__self._getRetpath()),!this._timestamp){var t=this.__self._timestampName;this._timestamp=$('<input type="hidden" name="'+t+'"/>').appendTo(this.domElem)}this._timestamp.val(+new Date);var e=this.domElem.attr("action");e&&this.domElem.attr("action",e.replace(/^(https?:)?/,"https:"))},_getError:function(){if(this._error)return this._error;var t=$(BEMHTML.apply(this.__self._buildError()));return BEM.DOM.append(this.domElem,t),this._error=this.findBlockOn(t,"popup"),this._errorMsg=this.findElem(t,"error"),this._error.on("hide",function(){this._errorOwner=null},this),this._error},showError:function(t,e){var n=this._getError();return this._curErrorMsg!==e&&(this._errorMsg.text(e),this._curErrorMsg=e),this._errorOwner!==t&&(this._errorOwner=t,n.hide().show(t)),this},hideError:function(){return this._error&&this._error.hide(),this},getUsernameBlock:function(){return this._username},getPasswordBlock:function(){return this._password},getHaunterBlock:function(){return this._haunter||(this._haunter=this.findBlockInside("haunter","checkbox")),this._haunter},submit:function(){return this.domElem.submit(),this},redraw:function(){var t,e=this.__self;return this._onInputChange(),t=this.findBlockInside("register","button"),t&&t.url(e._getRegisterURL()),t=this.findBlockInside("remember","button"),t&&t.url(e._getRememberURL()),this}},{_fromName:"from",_retpathName:"retpath",_timestampName:"timestamp",_isUsernameValid:function(t,e){return this._isUsernameEmailValid(t)||this._isUsernameLoginValid(t)||this._isUsernamePhoneValid(t,e)},_isUsernameEmailValid:function(t){return/^\s*[^@\s]+@[^@\s]+\s*$/.test(t)},_isUsernameLoginValid:function(t){return/^\s*[-а-яА-ЯёЁA-Za-z0-9.]+\s*$/.test(t)},_isUsernamePhoneValid:function(t,e){return e?(t=t.trim(),t=t.replace(/-\)/,"+)"),t=t.replace(/(\d)-/g,"$1"),t=t.replace(/\((\d+)\)/,"$1"),t=t.replace(/(^|\d+)\(/,"$1"),t=t.replace(/^\+/,""),/^\d*$/.test(t)):/^\+?[-0-9]*(?:\([-0-9]+\))?[-0-9]+$/.test(t)},_isPasswordValid:function(t){return!/[^\-a-zA-Z0-9`!@#$%^&*()_=+\[\]{};:"\|\\,.<>\/?]/.test(t)},_getRetpath:function(){return BEM.blocks["i-global"].param("retpath")},_getPassportURL:function(t){var e=BEM.blocks["i-global"],n=e.param("passport-host"),i=e.param("passport-msg"),o=this._getRetpath();return[n,"/passport?mode=",t,i?"&"+this._fromName+"="+encodeURIComponent(i):"",o?"&"+this._retpathName+"="+encodeURIComponent(o):""].join("")},_getRegisterURL:function(){return this._getPassportURL("register")},_getRememberURL:function(){return this._getPassportURL("restore")},_buildError:function(){return{block:"popup",mods:{autoclosable:"no"},js:{directions:["right","left"]},attrs:{role:"alert","aria-live":"assertive","aria-atomic":!0},content:[{elem:"tail"},{elem:"content",mix:[{block:"auth",elem:"error"}]}]}}})}(),BEM.DOM.decl("auth",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(t,arguments);var e=document.createElement("b");e.innerHTML="<!--[if IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length&&t._username.elem("control").add(t._password.elem("control")).keydown(function(e){return 13===e.which?(t.submit(),!1):void 0})}}}}),BEM.DOM.decl("auth",{},{_getRegisterURL:function(){var t=BEM.blocks["i-global"],e=this._getRetpath();return[t.param("spass-add"),e?"?"+this._retpathName+"="+encodeURIComponent(e):""].join("")},_getRetpath:function(){var t=BEM.blocks["i-global"];return t.param("auth-retpath")||t.param("retpath")}}),function(){function t(){}var e=BEM.DOM,n=28;e.decl("auth",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._socialDropdown=null,this._initSocialProviders()}}},destruct:function(){var t=this._socialDropdown;t&&t.domElem&&t.desruct(),this.__base.apply(this,arguments)},_initSocialProviders:function(){var t=BEM.blocks["i-global"],e=t.param("social-providers"),n=this;if(e)n._createSocial(e);else{var i=t.param("social-host");if(!i)return;n._getSocialProviders(i,function(t){n._createSocial(t)})}},_getSocialProviders:function(t,e){var i=this.elem("social");i.css("height",n),$.getJSON(this.__self._getProvidersURL(t),function(t){i.css("height",""),e(t.providers)})},_createSocial:function(t){return t.length?(e.update(this.elem("social"),BEMHTML.apply(this.__self._buildSocial(t,this._uniqId))),void(this._socialDropdown=this.findBlockInside("social","dropdown"))):(this.elem("social").remove(),void this.dropElemCache("social"))},_onSocialClick:function(e){e.preventDefault();var n=BEM.blocks["i-global"];this._socialDropdown&&this._socialDropdown.hide(),BEM.blocks["social-broker"].start(function(){n.param("retpath")&&top.location.href!==n.param("retpath")?top.location.href=n.param("retpath"):top.location.reload()},t,{provider:this.elemParams(e.data.domElem).provider})}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("social-link","leftclick tap",function(t){this._onSocialClick(t)}).liveBindTo("social-link","keyup",function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||32===t.keyCode&&this._onSocialClick(t)}),!1},_getProvidersURL:function(t){return t+"/providers2.jsonp?callback=?"},_buildSocial:function(t,e){var n,i,o=[];if(t=t.filter(function(t){return t.enabled}),n=t.filter(function(t){return t.primary}).map(function(t){return{block:"auth",elem:"social-link",js:{provider:t.code},mix:[{elem:"social-icon",elemMods:{code:t.code}}],title:t.display_name}}),o=o.concat(n),i=t.map(function(t){return{block:"auth",elem:"social-link",js:{provider:t.code},title:t.display_name,content:[{elem:"social-icon",elemMods:{code:t.code}},t.display_name]}}),n.length<t.length){var r=BEM.I18N("auth","more");o.push({block:"dropdown",js:!0,content:[{block:"button",mods:{pseudo:"yes",theme:"pseudo",size:"s"},mix:[{block:"dropdown",elem:"switcher"}],attrs:{title:r,"aria-label":r},content:"· · ·"},{elem:"popup",content:{block:"auth",elem:"social-popup",mix:[{block:"auth",js:{uniqId:e}}],content:i}}]})}return o}})}(),BEM.decl("social-broker",{_windowWidth:500,_windowHeight:280,onSetMod:{js:{inited:function(){this._window=null,this._timer=0}}},start:function(t,e,n){var i,o,r,a,s=this;if(this._cleanup(),this._onSuccess=t,this._onFailure=e,n=$.extend({},s._getDefaultParams(),n),i=n.startUrl+"?",a=n.popupName,delete n.startUrl,delete n.popupName,o=n.display,r=n.retpath,o&&"popup"!==o)n.retpath=n.retnopopup||n.retpath||window.location.href,delete n.retnopopup;else{var u="ddom="+(n.ddom||(location.hostname===document.domain?"":document.domain));n.retpath+=(r.match("#")?"&":"#")+u}return i+=Object.keys(n).reduce(function(t,e){return t.push(encodeURIComponent(e)+"="+encodeURIComponent(n[e])),t},[]).join("&"),o&&"popup"!==o?void this._navigate(i):(this._window=window.open(i,a,s._getPopupParams()),void(this._window&&(this._window.focus(),clearInterval(this._timer),this._timer=setInterval(function(){s.isClosed()&&(clearInterval(s._timer),s.onFailure({status:"error"}))},500))))},isClosed:function(){if(!this._window)return!0;try{return this._window.closed}catch(t){return!0}},_navigate:function(t){window.location.href=t},_getDefaultParams:function(){var t=BEM.blocks["i-global"],e=t.param("id");return{startUrl:t.param("social-startUrl")||t.param("social-host")+"/broker/start",retpath:t.param("social-retpath")||[location.protocol,"//",location.host,t.param("lego-path"),"/blocks-common/i-social/closer/i-social__closer.html"].join(""),retnopopup:t.param("social-retnopopup")||!1,consumer:e||"morda",popupName:"social_"+(e||"morda"),action_if_anonymous:"authorize",result_location:"fragment"}},_getPositionedParams:function(t,e,n,i){return["scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0",", left=",e,", top=",t,", width=",n,", height=",i].join("")},_getPopupParams:function(){var t,e,n=this._windowWidth,i=this._windowHeight;return window.opera?(t=(screen.availWidth-n)/2,e=(screen.availHeight-i)/2):(t=(window.innerWidth-n)/2,e=(window.innerHeight-i)/2),t=Math.round(t),e=Math.round(e),this._getPositionedParams(e,t,n,i)},_cleanup:function(){clearInterval(this._timer),this.isClosed()||this._window.close(),this._window=null},onSuccess:function(t){this._cleanup(),this._onSuccess&&this._onSuccess(t)},onFailure:function(t){this._cleanup(),this._onFailure&&this._onFailure(t)}},{start:function(){this._current&&this._current.destruct(),this._current=BEM.create("social-broker"),Lego.block["i-social"]={broker:this._current},this._current.start.apply(this._current,arguments)},onSuccess:function(){this._current.onSuccess.apply(this._current,arguments)},onFailure:function(){this._current.onFailure.apply(this._current,arguments)}}),BEM.DOM.decl("user",{redraw:function(){return this}},{getLogoutUrl:function(){var t=BEM.blocks["i-global"],e=t.param("retpath"),n=t.param("yandexuid");return[t.param("passport-host"),"/passport?mode=logout",n?"&yu="+n:"",e?"&retpath="+encodeURIComponent(e):""].join("")}}),modules.define("user",["i-bem__dom"],function(t,e){t(e.decl("user",{},{getLogoutUrl:function(){var t=BEM.blocks["i-global"];return t.param("logout-url")}}))}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){if(this.__base.apply(this,arguments),this.elem("name").length){var t=this,e=t.elemParams("name");e.isUglyUserName&&BEM.blocks["i-user-services"].get(function(n){var i=BEM.blocks["i-common__string"].cleverSubstring,o=n.displayName?n.displayName.name:n.login,r=i(o,e.maxLength,e.maxLengthRelative);t.elem("name").text(r),t.trigger("update-name")})}}}},toggleCollapsed:function(t){return this.toggleMod("hide-name","yes","",t)}}),BEM.decl("i-user-services",{},{get:function(t){this._data?t(this._data):this._get(t)},getApiUrl:function(){return BEM.blocks["i-global"].param("pass-host")+"/services?callback=?"},_callbacks:[],_get:function(t){var e=this;e._callbacks.push(t),1==e._callbacks.length&&$.getJSON(e.getApiUrl(),{locale:BEM.blocks["i-global"].param("lang"),login:"yes","current-login":BEM.blocks["i-global"].param("login"),yu:$.cookie("yandexuid")},function(t){e._data=t,$.each(e._callbacks,function(){this(t)}),e._callbacks.length=0})}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._isRetina=BEM.blocks["i-ua"].hiDpi,this._isRetina&&this.updateIcon()}}},_getIconPath:function(){var t=this.params.avatarHost,e=this.params.uid||BEM.blocks["i-global"].param("uid"),n=this._getIconSize(),i=(this._isRetina?"/islands-retina-":"/islands-")+n;return[t,"/get-yapic/",e,i,"?rnd=",+new Date].join("")},_setIconBackground:function(t){var e=this.elem("icon");e&&e.css("background-image","url("+t+")")},updateIcon:function(){this._setIconBackground(this._getIconPath())},getDefaultParams:function(){return{avatarHost:"//avatars.yandex.net"}}}),BEM.DOM.decl("user",{_getIconSize:function(){return"middle"}}),modules.define("user",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._isRetina=BEM.blocks["i-ua"].hiDpi,this._isRetina&&this.updateIcon()}}},updateIcon:function(){var t,e=this.elem("icon"),n=e&&e.css("background-image");n&&n.indexOf("islands")>-1?this._setIconBackground(this._getIconPath()):t=n&&n.replace("middle","normal"),e&&e.css("background-image",t)}}))}),BEM.DOM.decl({block:"user",modName:"menu",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=60;this._dropdown=this.findBlockOutside("dropdown-menu")||0,this._dropdown&&this._dropdown.on("show",function(){this.bindToWin("scroll",$.throttle(this._hide,t,this)).redraw().domElem.attr("aria-expanded",!0)}.bind(this)).on("hide",function(){this.unbindFromWin("scroll").domElem.attr("aria-expanded",!1)}.bind(this))}},_hide:function(){this._dropdown&&this._dropdown.hide()},_onClick:function(t){t.preventDefault(),this.__base.apply(this,arguments),this._dropdown&&this._dropdown.toggle(this.elem(this.elem("icon").length?"icon":"name"))},redraw:function(){if(this.__base.apply(this,arguments),!this._dropdown)return this;var t=this.__self.getLogoutUrl();return this._dropdown._popup.findBlockInside("user").elem("logout").attr("href",t),this},destruct:function(){this._dropdown&&this._dropdown.domElem&&this._dropdown.destruct(),this.__base.apply(this,arguments)}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("leftclick tap",function(t){this._onClick(t)}).liveBindTo("keyup",function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||32===t.which&&this.domElem.click()}),!1}}),BEM.DOM.decl("user-menu-update",{onSetMod:{js:{inited:function(){var t=this;t.updateInformer(t.onUpdateSuccess,t.onUpdateError)}}},updateInformer:function(t,e){var n=this;n._getExporter().get({key:$.cookie("yandexuid")},function(n){n.unread?t.apply(this,arguments):e&&e.call(this)},e)},onUpdateSuccess:function(t){var e=parseInt(t.unread,10)||0,n=this.params.unreadMax;e&&n&&e>n&&(e=n+"+");var i=e?e+" ":"";BEM.DOM.update(this.domElem,i+BEM.I18N("user","letter",{count:e}))},onUpdateError:function(){},_getExporter:function(){return this._exporter||(this._exporter=BEM.create("i-request_type_ajax",{url:this.__self.getExportApiUrl(),cache:!1,callbackCtx:this}))},getDefaultParams:function(){return{unreadMax:99}}},{getExportApiUrl:function(){return BEM.blocks["i-global"].param("export-host")+"/for/unread.xml?callback=?"}})}).call(this,t("_process"))},{_process:2,"yandex-money-ycookie":4}],2:[function(t,e){function n(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var i=n.shift();i()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],3:[function(t,e,n){(function(t){(function(){function i(t,e,n){for(var i=(n||0)-1,o=t?t.length:0;++i<o;)if(t[i]===e)return i;return-1}function o(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e]?0:-1;"number"!=n&&"string"!=n&&(n="object");var o="number"==n?e:v+e;return t=(t=t[n])&&t[o],"object"==n?t&&i(t,e)>-1?0:-1:t?0:-1}function r(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:v+t,o=e[n]||(e[n]={});"object"==n?(o[i]||(o[i]=[])).push(t):o[i]=!0}}function a(t){return t.charCodeAt(0)
}function s(t,e){for(var n=t.criteria,i=e.criteria,o=-1,r=n.length;++o<r;){var a=n[o],s=i[o];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return t.index-e.index}function u(t){var e=-1,n=t.length,i=t[0],o=t[n/2|0],a=t[n-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var s=d();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=d();for(u.array=t,u.cache=s,u.push=r;++e<n;)u.push(t[e]);return u}function c(t){return"\\"+Q[t]}function l(){return g.pop()||[]}function d(){return y.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function h(t){t.length=0,g.length<k&&g.push(t)}function p(t){var e=t.cache;e&&p(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,y.length<k&&y.push(t)}function f(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,o=n-e||0,r=Array(0>o?0:o);++i<o;)r[i]=t[e+i];return r}function m(t){function e(t){return t&&"object"==typeof t&&!Xi(t)&&Ni.call(t,"__wrapped__")?t:new n(t)}function n(t,e){this.__chain__=!!e,this.__wrapped__=t}function r(t){function e(){if(i){var t=f(i);Pi.apply(t,arguments)}if(this instanceof e){var r=y(n.prototype),a=n.apply(r,t||arguments);return Ce(a)?a:r}return n.apply(o,t||arguments)}var n=t[0],i=t[2],o=t[4];return Zi(e,t),e}function g(t,e,n,i,o){if(n){var r=n(t);if("undefined"!=typeof r)return r}var a=Ce(t);if(!a)return t;var s=Bi.call(t);if(!K[s])return t;var u=Gi[s];switch(s){case z:case F:return new u(+t);case U:case q:return new u(t);case V:return r=u(t.source,$.exec(t)),r.lastIndex=t.lastIndex,r}var c=Xi(t);if(e){var d=!i;i||(i=l()),o||(o=l());for(var p=i.length;p--;)if(i[p]==t)return o[p];r=c?u(t.length):{}}else r=c?f(t):ro({},t);return c&&(Ni.call(t,"index")&&(r.index=t.index),Ni.call(t,"input")&&(r.input=t.input)),e?(i.push(t),o.push(r),(c?Qe:uo)(t,function(t,a){r[a]=g(t,e,n,i,o)}),d&&(h(i),h(o)),r):r}function y(t){return Ce(t)?Fi(t):{}}function k(t,e,n){if("function"!=typeof t)return Xn;if("undefined"==typeof e||!("prototype"in t))return t;var i=t.__bindData__;if("undefined"==typeof i&&(Qi.funcNames&&(i=!t.name),i=i||!Qi.funcDecomp,!i)){var o=Di.call(t);Qi.funcNames||(i=!T.test(o)),i||(i=j.test(o),Zi(t,i))}if(i===!1||i!==!0&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return Pn(t,e)}function Q(t){function e(){var t=u?a:this;if(o){var p=f(o);Pi.apply(p,arguments)}if((r||l)&&(p||(p=f(arguments)),r&&Pi.apply(p,r),l&&p.length<s))return i|=16,Q([n,d?i:-4&i,p,null,a,s]);if(p||(p=arguments),c&&(n=t[h]),this instanceof e){t=y(n.prototype);var m=n.apply(t,p);return Ce(m)?m:t}return n.apply(t,p)}var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],u=1&i,c=2&i,l=4&i,d=8&i,h=n;return Zi(e,t),e}function X(t,e){var n=-1,r=ue(),a=t?t.length:0,s=a>=x&&r===i,c=[];if(s){var l=u(e);l?(r=o,e=l):s=!1}for(;++n<a;){var d=t[n];r(e,d)<0&&c.push(d)}return s&&p(e),c}function J(t,e,n,i){for(var o=(i||0)-1,r=t?t.length:0,a=[];++o<r;){var s=t[o];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Xi(s)||he(s))){e||(s=J(s,e,n));var u=-1,c=s.length,l=a.length;for(a.length+=c;++u<c;)a[l++]=s[u]}else n||a.push(s)}return a}function te(t,e,n,i,o,r){if(n){var a=n(t,e);if("undefined"!=typeof a)return!!a}if(t===e)return 0!==t||1/t==1/e;var s=typeof t,u=typeof e;if(!(t!==t||t&&G[s]||e&&G[u]))return!1;if(null==t||null==e)return t===e;var c=Bi.call(t),d=Bi.call(e);if(c==L&&(c=H),d==L&&(d=H),c!=d)return!1;switch(c){case z:case F:return+t==+e;case U:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case V:case q:return t==ki(e)}var p=c==A;if(!p){var f=Ni.call(t,"__wrapped__"),m=Ni.call(e,"__wrapped__");if(f||m)return te(f?t.__wrapped__:t,m?e.__wrapped__:e,n,i,o,r);if(c!=H)return!1;var _=t.constructor,g=e.constructor;if(_!=g&&!(Te(_)&&_ instanceof _&&Te(g)&&g instanceof g)&&"constructor"in t&&"constructor"in e)return!1}var y=!o;o||(o=l()),r||(r=l());for(var b=o.length;b--;)if(o[b]==t)return r[b]==e;var v=0;if(a=!0,o.push(t),r.push(e),p){if(b=t.length,v=e.length,a=v==b,a||i)for(;v--;){var x=b,k=e[v];if(i)for(;x--&&!(a=te(t[x],k,n,i,o,r)););else if(!(a=te(t[v],k,n,i,o,r)))break}}else so(e,function(e,s,u){return Ni.call(u,s)?(v++,a=Ni.call(t,s)&&te(t[s],e,n,i,o,r)):void 0}),a&&!i&&so(t,function(t,e,n){return Ni.call(n,e)?a=--v>-1:void 0});return o.pop(),r.pop(),y&&(h(o),h(r)),a}function ee(t,e,n,i,o){(Xi(e)?Qe:uo)(e,function(e,r){var a,s,u=e,c=t[r];if(e&&((s=Xi(e))||co(e))){for(var l=i.length;l--;)if(a=i[l]==e){c=o[l];break}if(!a){var d;n&&(u=n(c,e),(d="undefined"!=typeof u)&&(c=u)),d||(c=s?Xi(c)?c:[]:co(c)?c:{}),i.push(e),o.push(c),d||ee(c,e,n,i,o)}}else n&&(u=n(c,e),"undefined"==typeof u&&(u=e)),"undefined"!=typeof u&&(c=u);t[r]=c})}function ie(t,e){return t+Si(Yi()*(e-t+1))}function oe(t,e,n){var r=-1,a=ue(),s=t?t.length:0,c=[],d=!e&&s>=x&&a===i,f=n||d?l():c;if(d){var m=u(f);a=o,f=m}for(;++r<s;){var _=t[r],g=n?n(_,r,t):_;(e?!r||f[f.length-1]!==g:a(f,g)<0)&&((n||d)&&f.push(g),c.push(_))}return d?(h(f.array),p(f)):n&&h(f),c}function re(t){return function(n,i,o){var r={};i=e.createCallback(i,o,3);var a=-1,s=n?n.length:0;if("number"==typeof s)for(;++a<s;){var u=n[a];t(r,u,i(u,a,n),n)}else uo(n,function(e,n,o){t(r,e,i(e,n,o),o)});return r}}function ae(t,e,n,i,o,a){var s=1&e,u=2&e,c=4&e,l=16&e,d=32&e;if(!u&&!Te(t))throw new wi;l&&!n.length&&(e&=-17,l=n=!1),d&&!i.length&&(e&=-33,d=i=!1);var h=t&&t.__bindData__;if(h&&h!==!0)return h=f(h),h[2]&&(h[2]=f(h[2])),h[3]&&(h[3]=f(h[3])),!s||1&h[1]||(h[4]=o),!s&&1&h[1]&&(e|=8),!c||4&h[1]||(h[5]=a),l&&Pi.apply(h[2]||(h[2]=[]),n),d&&Ai.apply(h[3]||(h[3]=[]),i),h[1]|=e,ae.apply(null,h);var p=1==e||17===e?r:Q;return p([t,e,n,i,o,a])}function se(t){return eo[t]}function ue(){var t=(t=e.indexOf)===yn?i:t;return t}function ce(t){return"function"==typeof t&&$i.test(t)}function le(t){var e,n;return t&&Bi.call(t)==H&&(e=t.constructor,!Te(e)||e instanceof e)?(so(t,function(t,e){n=e}),"undefined"==typeof n||Ni.call(t,n)):!1}function de(t){return no[t]}function he(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Bi.call(t)==L||!1}function pe(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n=e,e=!1),g(t,e,"function"==typeof n&&k(n,i,1))}function fe(t,e,n){return g(t,!0,"function"==typeof e&&k(e,n,1))}function me(t,e){var n=y(t);return e?ro(n,e):n}function _e(t,n,i){var o;return n=e.createCallback(n,i,3),uo(t,function(t,e,i){return n(t,e,i)?(o=e,!1):void 0}),o}function ge(t,n,i){var o;return n=e.createCallback(n,i,3),be(t,function(t,e,i){return n(t,e,i)?(o=e,!1):void 0}),o}function ye(t,e,n){var i=[];so(t,function(t,e){i.push(e,t)});var o=i.length;for(e=k(e,n,3);o--&&e(i[o--],i[o],t)!==!1;);return t}function be(t,e,n){var i=to(t),o=i.length;for(e=k(e,n,3);o--;){var r=i[o];if(e(t[r],r,t)===!1)break}return t}function ve(t){var e=[];return so(t,function(t,n){Te(t)&&e.push(n)}),e.sort()}function xe(t,e){return t?Ni.call(t,e):!1}function ke(t){for(var e=-1,n=to(t),i=n.length,o={};++e<i;){var r=n[e];o[t[r]]=r}return o}function we(t){return t===!0||t===!1||t&&"object"==typeof t&&Bi.call(t)==z||!1}function Me(t){return t&&"object"==typeof t&&Bi.call(t)==F||!1}function Ee(t){return t&&1===t.nodeType||!1}function Ie(t){var e=!0;if(!t)return e;var n=Bi.call(t),i=t.length;return n==A||n==q||n==L||n==H&&"number"==typeof i&&Te(t.splice)?!i:(uo(t,function(){return e=!1}),e)}function Be(t,e,n,i){return te(t,e,"function"==typeof n&&k(n,i,2))}function $e(t){return Ui(t)&&!Hi(parseFloat(t))}function Te(t){return"function"==typeof t}function Ce(t){return!(!t||!G[typeof t])}function Se(t){return je(t)&&t!=+t}function De(t){return null===t}function je(t){return"number"==typeof t||t&&"object"==typeof t&&Bi.call(t)==U||!1}function Ne(t){return t&&"object"==typeof t&&Bi.call(t)==V||!1}function Pe(t){return"string"==typeof t||t&&"object"==typeof t&&Bi.call(t)==q||!1}function Oe(t){return"undefined"==typeof t}function Le(t,n,i){var o={};return n=e.createCallback(n,i,3),uo(t,function(t,e,i){o[e]=n(t,e,i)}),o}function Ae(t){var e=arguments,n=2;if(!Ce(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var i=k(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(i=e[--n]);for(var o=f(arguments,1,n),r=-1,a=l(),s=l();++r<n;)ee(t,o[r],i,a,s);return h(a),h(s),t}function ze(t,n,i){var o={};if("function"!=typeof n){var r=[];so(t,function(t,e){r.push(e)}),r=X(r,J(arguments,!0,!1,1));for(var a=-1,s=r.length;++a<s;){var u=r[a];o[u]=t[u]}}else n=e.createCallback(n,i,3),so(t,function(t,e,i){n(t,e,i)||(o[e]=t)});return o}function Fe(t){for(var e=-1,n=to(t),i=n.length,o=fi(i);++e<i;){var r=n[e];o[e]=[r,t[r]]}return o}function Re(t,n,i){var o={};if("function"!=typeof n)for(var r=-1,a=J(arguments,!0,!1,1),s=Ce(t)?a.length:0;++r<s;){var u=a[r];u in t&&(o[u]=t[u])}else n=e.createCallback(n,i,3),so(t,function(t,e,i){n(t,e,i)&&(o[e]=t)});return o}function Ue(t,n,i,o){var r=Xi(t);if(null==i)if(r)i=[];else{var a=t&&t.constructor,s=a&&a.prototype;i=y(s)}return n&&(n=e.createCallback(n,o,4),(r?Qe:uo)(t,function(t,e,o){return n(i,t,e,o)})),i}function He(t){for(var e=-1,n=to(t),i=n.length,o=fi(i);++e<i;)o[e]=t[n[e]];return o}function Ve(t){for(var e=arguments,n=-1,i=J(e,!0,!1,1),o=e[2]&&e[2][e[1]]===t?1:i.length,r=fi(o);++n<o;)r[n]=t[i[n]];return r}function qe(t,e,n){var i=-1,o=ue(),r=t?t.length:0,a=!1;return n=(0>n?qi(0,r+n):n)||0,Xi(t)?a=o(t,e,n)>-1:"number"==typeof r?a=(Pe(t)?t.indexOf(e,n):o(t,e,n))>-1:uo(t,function(t){return++i>=n?!(a=t===e):void 0}),a}function Ke(t,n,i){var o=!0;n=e.createCallback(n,i,3);var r=-1,a=t?t.length:0;if("number"==typeof a)for(;++r<a&&(o=!!n(t[r],r,t)););else uo(t,function(t,e,i){return o=!!n(t,e,i)});return o}function We(t,n,i){var o=[];n=e.createCallback(n,i,3);var r=-1,a=t?t.length:0;if("number"==typeof a)for(;++r<a;){var s=t[r];n(s,r,t)&&o.push(s)}else uo(t,function(t,e,i){n(t,e,i)&&o.push(t)});return o}function Ye(t,n,i){n=e.createCallback(n,i,3);var o=-1,r=t?t.length:0;if("number"!=typeof r){var a;return uo(t,function(t,e,i){return n(t,e,i)?(a=t,!1):void 0}),a}for(;++o<r;){var s=t[o];if(n(s,o,t))return s}}function Ge(t,n,i){var o;return n=e.createCallback(n,i,3),Ze(t,function(t,e,i){return n(t,e,i)?(o=t,!1):void 0}),o}function Qe(t,e,n){var i=-1,o=t?t.length:0;if(e=e&&"undefined"==typeof n?e:k(e,n,3),"number"==typeof o)for(;++i<o&&e(t[i],i,t)!==!1;);else uo(t,e);return t}function Ze(t,e,n){var i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:k(e,n,3),"number"==typeof i)for(;i--&&e(t[i],i,t)!==!1;);else{var o=to(t);i=o.length,uo(t,function(t,n,r){return n=o?o[--i]:--i,e(r[n],n,r)})}return t}function Xe(t,e){var n=f(arguments,2),i=-1,o="function"==typeof e,r=t?t.length:0,a=fi("number"==typeof r?r:0);return Qe(t,function(t){a[++i]=(o?e:t[e]).apply(t,n)}),a}function Je(t,n,i){var o=-1,r=t?t.length:0;if(n=e.createCallback(n,i,3),"number"==typeof r)for(var a=fi(r);++o<r;)a[o]=n(t[o],o,t);else a=[],uo(t,function(t,e,i){a[++o]=n(t,e,i)});return a}function tn(t,n,i){var o=-1/0,r=o;if("function"!=typeof n&&i&&i[n]===t&&(n=null),null==n&&Xi(t))for(var s=-1,u=t.length;++s<u;){var c=t[s];c>r&&(r=c)}else n=null==n&&Pe(t)?a:e.createCallback(n,i,3),Qe(t,function(t,e,i){var a=n(t,e,i);a>o&&(o=a,r=t)});return r}function en(t,n,i){var o=1/0,r=o;if("function"!=typeof n&&i&&i[n]===t&&(n=null),null==n&&Xi(t))for(var s=-1,u=t.length;++s<u;){var c=t[s];r>c&&(r=c)}else n=null==n&&Pe(t)?a:e.createCallback(n,i,3),Qe(t,function(t,e,i){var a=n(t,e,i);o>a&&(o=a,r=t)});return r}function nn(t,n,i,o){if(!t)return i;var r=arguments.length<3;n=e.createCallback(n,o,4);var a=-1,s=t.length;if("number"==typeof s)for(r&&(i=t[++a]);++a<s;)i=n(i,t[a],a,t);else uo(t,function(t,e,o){i=r?(r=!1,t):n(i,t,e,o)});return i}function on(t,n,i,o){var r=arguments.length<3;return n=e.createCallback(n,o,4),Ze(t,function(t,e,o){i=r?(r=!1,t):n(i,t,e,o)}),i}function rn(t,n,i){return n=e.createCallback(n,i,3),We(t,function(t,e,i){return!n(t,e,i)})}function an(t,e,n){if(t&&"number"!=typeof t.length&&(t=He(t)),null==e||n)return t?t[ie(0,t.length-1)]:_;var i=sn(t);return i.length=Ki(qi(0,e),i.length),i}function sn(t){var e=-1,n=t?t.length:0,i=fi("number"==typeof n?n:0);return Qe(t,function(t){var n=ie(0,++e);i[e]=i[n],i[n]=t}),i}function un(t){var e=t?t.length:0;return"number"==typeof e?e:to(t).length}function cn(t,n,i){var o;n=e.createCallback(n,i,3);var r=-1,a=t?t.length:0;if("number"==typeof a)for(;++r<a&&!(o=n(t[r],r,t)););else uo(t,function(t,e,i){return!(o=n(t,e,i))});return!!o}function ln(t,n,i){var o=-1,r=Xi(n),a=t?t.length:0,u=fi("number"==typeof a?a:0);for(r||(n=e.createCallback(n,i,3)),Qe(t,function(t,e,i){var a=u[++o]=d();r?a.criteria=Je(n,function(e){return t[e]}):(a.criteria=l())[0]=n(t,e,i),a.index=o,a.value=t}),a=u.length,u.sort(s);a--;){var c=u[a];u[a]=c.value,r||h(c.criteria),p(c)}return u}function dn(t){return t&&"number"==typeof t.length?f(t):He(t)}function hn(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var o=t[e];o&&i.push(o)}return i}function pn(t){return X(t,J(arguments,!0,!0,1))}function fn(t,n,i){var o=-1,r=t?t.length:0;for(n=e.createCallback(n,i,3);++o<r;)if(n(t[o],o,t))return o;return-1}function mn(t,n,i){var o=t?t.length:0;for(n=e.createCallback(n,i,3);o--;)if(n(t[o],o,t))return o;return-1}function _n(t,n,i){var o=0,r=t?t.length:0;if("number"!=typeof n&&null!=n){var a=-1;for(n=e.createCallback(n,i,3);++a<r&&n(t[a],a,t);)o++}else if(o=n,null==o||i)return t?t[0]:_;return f(t,0,Ki(qi(0,o),r))}function gn(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(t=Je(t,n,i)),J(t,e)}function yn(t,e,n){if("number"==typeof n){var o=t?t.length:0;n=0>n?qi(0,o+n):n||0}else if(n){var r=Bn(t,e);return t[r]===e?r:-1}return i(t,e,n)}function bn(t,n,i){var o=0,r=t?t.length:0;if("number"!=typeof n&&null!=n){var a=r;for(n=e.createCallback(n,i,3);a--&&n(t[a],a,t);)o++}else o=null==n||i?1:n||o;return f(t,0,Ki(qi(0,r-o),r))}function vn(){for(var t=[],e=-1,n=arguments.length,r=l(),a=ue(),s=a===i,c=l();++e<n;){var d=arguments[e];(Xi(d)||he(d))&&(t.push(d),r.push(s&&d.length>=x&&u(e?t[e]:c)))}var f=t[0],m=-1,_=f?f.length:0,g=[];t:for(;++m<_;){var y=r[0];if(d=f[m],(y?o(y,d):a(c,d))<0){for(e=n,(y||c).push(d);--e;)if(y=r[e],(y?o(y,d):a(t[e],d))<0)continue t;g.push(d)}}for(;n--;)y=r[n],y&&p(y);return h(r),h(c),g}function xn(t,n,i){var o=0,r=t?t.length:0;if("number"!=typeof n&&null!=n){var a=r;for(n=e.createCallback(n,i,3);a--&&n(t[a],a,t);)o++}else if(o=n,null==o||i)return t?t[r-1]:_;return f(t,qi(0,r-o))}function kn(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?qi(0,i+n):Ki(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function wn(t){for(var e=arguments,n=0,i=e.length,o=t?t.length:0;++n<i;)for(var r=-1,a=e[n];++r<o;)t[r]===a&&(Li.call(t,r--,1),o--);return t}function Mn(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var i=-1,o=qi(0,Ti((e-t)/(n||1))),r=fi(o);++i<o;)r[i]=t,t+=n;return r}function En(t,n,i){var o=-1,r=t?t.length:0,a=[];for(n=e.createCallback(n,i,3);++o<r;){var s=t[o];n(s,o,t)&&(a.push(s),Li.call(t,o--,1),r--)}return a}function In(t,n,i){if("number"!=typeof n&&null!=n){var o=0,r=-1,a=t?t.length:0;for(n=e.createCallback(n,i,3);++r<a&&n(t[r],r,t);)o++}else o=null==n||i?1:qi(0,n);return f(t,o)}function Bn(t,n,i,o){var r=0,a=t?t.length:r;for(i=i?e.createCallback(i,o,1):Xn,n=i(n);a>r;){var s=r+a>>>1;i(t[s])<n?r=s+1:a=s}return r}function $n(){return oe(J(arguments,!0,!0))}function Tn(t,n,i,o){return"boolean"!=typeof n&&null!=n&&(o=i,i="function"!=typeof n&&o&&o[n]===t?null:n,n=!1),null!=i&&(i=e.createCallback(i,o,3)),oe(t,n,i)}function Cn(t){return X(t,f(arguments,1))}function Sn(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xi(n)||he(n))var i=i?oe(X(i,n).concat(X(n,i))):n}return i||[]}function Dn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?tn(fo(t,"length")):0,i=fi(0>n?0:n);++e<n;)i[e]=fo(t,e);return i}function jn(t,e){var n=-1,i=t?t.length:0,o={};for(e||!i||Xi(t[0])||(e=[]);++n<i;){var r=t[n];e?o[r]=e[n]:r&&(o[r[0]]=r[1])}return o}function Nn(t,e){if(!Te(e))throw new wi;return function(){return--t<1?e.apply(this,arguments):void 0}}function Pn(t,e){return arguments.length>2?ae(t,17,f(arguments,2),null,e):ae(t,1,null,null,e)}function On(t){for(var e=arguments.length>1?J(arguments,!0,!1,1):ve(t),n=-1,i=e.length;++n<i;){var o=e[n];t[o]=ae(t[o],1,null,null,t)}return t}function Ln(t,e){return arguments.length>2?ae(e,19,f(arguments,2),null,t):ae(e,3,null,null,t)}function An(){for(var t=arguments,e=t.length;e--;)if(!Te(t[e]))throw new wi;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function zn(t,e){return e="number"==typeof e?e:+e||t.length,ae(t,4,null,null,null,e)}function Fn(t,e,n){var i,o,r,a,s,u,c,l=0,d=!1,h=!0;if(!Te(t))throw new wi;if(e=qi(0,e)||0,n===!0){var p=!0;h=!1}else Ce(n)&&(p=n.leading,d="maxWait"in n&&(qi(e,n.maxWait)||0),h="trailing"in n?n.trailing:h);var f=function(){var n=e-(_o()-a);if(0>=n){o&&Ci(o);var d=c;o=u=c=_,d&&(l=_o(),r=t.apply(s,i),u||o||(i=s=null))}else u=Oi(f,n)},m=function(){u&&Ci(u),o=u=c=_,(h||d!==e)&&(l=_o(),r=t.apply(s,i),u||o||(i=s=null))};return function(){if(i=arguments,a=_o(),s=this,c=h&&(u||!p),d===!1)var n=p&&!u;else{o||p||(l=a);var _=d-(a-l),g=0>=_;g?(o&&(o=Ci(o)),l=a,r=t.apply(s,i)):o||(o=Oi(m,_))}return g&&u?u=Ci(u):u||e===d||(u=Oi(f,e)),n&&(g=!0,r=t.apply(s,i)),!g||u||o||(i=s=null),r}}function Rn(t){if(!Te(t))throw new wi;var e=f(arguments,1);return Oi(function(){t.apply(_,e)},1)}function Un(t,e){if(!Te(t))throw new wi;var n=f(arguments,2);return Oi(function(){t.apply(_,n)},e)}function Hn(t,e){if(!Te(t))throw new wi;var n=function(){var i=n.cache,o=e?e.apply(this,arguments):v+arguments[0];return Ni.call(i,o)?i[o]:i[o]=t.apply(this,arguments)};return n.cache={},n}function Vn(t){var e,n;if(!Te(t))throw new wi;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function qn(t){return ae(t,16,f(arguments,1))}function Kn(t){return ae(t,32,null,f(arguments,1))}function Wn(t,e,n){var i=!0,o=!0;if(!Te(t))throw new wi;return n===!1?i=!1:Ce(n)&&(i="leading"in n?n.leading:i,o="trailing"in n?n.trailing:o),W.leading=i,W.maxWait=e,W.trailing=o,Fn(t,e,W)}function Yn(t,e){return ae(e,16,[t])}function Gn(t){return function(){return t}}function Qn(t,e,n){var i=typeof t;if(null==t||"function"==i)return k(t,e,n);if("object"!=i)return ni(t);var o=to(t),r=o[0],a=t[r];return 1!=o.length||a!==a||Ce(a)?function(e){for(var n=o.length,i=!1;n--&&(i=te(e[o[n]],t[o[n]],null,!0)););return i}:function(t){var e=t[r];return a===e&&(0!==a||1/a==1/e)}}function Zn(t){return null==t?"":ki(t).replace(oo,se)}function Xn(t){return t}function Jn(t,i,o){var r=!0,a=i&&ve(i);i&&(o||a.length)||(null==o&&(o=i),s=n,i=t,t=e,a=ve(i)),o===!1?r=!1:Ce(o)&&"chain"in o&&(r=o.chain);var s=t,u=Te(s);Qe(a,function(e){var n=t[e]=i[e];u&&(s.prototype[e]=function(){var e=this.__chain__,i=this.__wrapped__,o=[i];Pi.apply(o,arguments);var a=n.apply(t,o);if(r||e){if(i===a&&Ce(a))return this;a=new s(a),a.__chain__=e}return a})})}function ti(){return t._=Ii,this}function ei(){}function ni(t){return function(e){return e[t]}}function ii(t,e,n){var i=null==t,o=null==e;if(null==n&&("boolean"==typeof t&&o?(n=t,t=1):o||"boolean"!=typeof e||(n=e,o=!0)),i&&o&&(e=1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1){var r=Yi();return Ki(t+r*(e-t+parseFloat("1e-"+((r+"").length-1))),e)}return ie(t,e)}function oi(t,e){if(t){var n=t[e];return Te(n)?t[e]():n}}function ri(t,n,i){var o=e.templateSettings;t=ki(t||""),i=ao({},i,o);var r,a=ao({},i.imports,o.imports),s=to(a),u=He(a),l=0,d=i.interpolate||D,h="__p += '",p=xi((i.escape||D).source+"|"+d.source+"|"+(d===C?B:D).source+"|"+(i.evaluate||D).source+"|$","g");t.replace(p,function(e,n,i,o,a,s){return i||(i=o),h+=t.slice(l,s).replace(N,c),n&&(h+="' +\n__e("+n+") +\n'"),a&&(r=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),h+="';\n";var f=i.variable,m=f;m||(f="obj",h="with ("+f+") {\n"+h+"\n}\n"),h=(r?h.replace(M,""):h).replace(E,"$1").replace(I,"$1;"),h="function("+f+") {\n"+(m?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g="\n/*\n//# sourceURL="+(i.sourceURL||"/lodash/template/source["+O++ +"]")+"\n*/";try{var y=gi(s,"return "+h+g).apply(_,u)}catch(b){throw b.source=h,b}return n?y(n):(y.source=h,y)}function ai(t,e,n){t=(t=+t)>-1?t:0;var i=-1,o=fi(t);for(e=k(e,n,1);++i<t;)o[i]=e(i);return o}function si(t){return null==t?"":ki(t).replace(io,de)}function ui(t){var e=++b;return ki(null==t?"":t)+e}function ci(t){return t=new n(t),t.__chain__=!0,t}function li(t,e){return e(t),t}function di(){return this.__chain__=!0,this}function hi(){return ki(this.__wrapped__)}function pi(){return this.__wrapped__}t=t?ne.defaults(Z.Object(),t,ne.pick(Z,P)):Z;var fi=t.Array,mi=t.Boolean,_i=t.Date,gi=t.Function,yi=t.Math,bi=t.Number,vi=t.Object,xi=t.RegExp,ki=t.String,wi=t.TypeError,Mi=[],Ei=vi.prototype,Ii=t._,Bi=Ei.toString,$i=xi("^"+ki(Bi).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ti=yi.ceil,Ci=t.clearTimeout,Si=yi.floor,Di=gi.prototype.toString,ji=ce(ji=vi.getPrototypeOf)&&ji,Ni=Ei.hasOwnProperty,Pi=Mi.push,Oi=t.setTimeout,Li=Mi.splice,Ai=Mi.unshift,zi=function(){try{var t={},e=ce(e=vi.defineProperty)&&e,n=e(t,t,t)&&e}catch(i){}return n}(),Fi=ce(Fi=vi.create)&&Fi,Ri=ce(Ri=fi.isArray)&&Ri,Ui=t.isFinite,Hi=t.isNaN,Vi=ce(Vi=vi.keys)&&Vi,qi=yi.max,Ki=yi.min,Wi=t.parseInt,Yi=yi.random,Gi={};Gi[A]=fi,Gi[z]=mi,Gi[F]=_i,Gi[R]=gi,Gi[H]=vi,Gi[U]=bi,Gi[V]=xi,Gi[q]=ki,n.prototype=e.prototype;var Qi=e.support={};Qi.funcDecomp=!ce(t.WinRTError)&&j.test(m),Qi.funcNames="string"==typeof gi.name,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:C,variable:"",imports:{_:e}},Fi||(y=function(){function e(){}return function(n){if(Ce(n)){e.prototype=n;var i=new e;e.prototype=null}return i||t.Object()}}());var Zi=zi?function(t,e){Y.value=e,zi(t,"__bindData__",Y)}:ei,Xi=Ri||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Bi.call(t)==A||!1},Ji=function(t){var e,n=t,i=[];if(!n)return i;if(!G[typeof t])return i;for(e in n)Ni.call(n,e)&&i.push(e);return i},to=Vi?function(t){return Ce(t)?Vi(t):[]}:Ji,eo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},no=ke(eo),io=xi("("+to(no).join("|")+")","g"),oo=xi("["+to(eo).join("")+"]","g"),ro=function(t,e,n){var i,o=t,r=o;if(!o)return r;var a=arguments,s=0,u="number"==typeof n?2:a.length;if(u>3&&"function"==typeof a[u-2])var c=k(a[--u-1],a[u--],2);else u>2&&"function"==typeof a[u-1]&&(c=a[--u]);for(;++s<u;)if(o=a[s],o&&G[typeof o])for(var l=-1,d=G[typeof o]&&to(o),h=d?d.length:0;++l<h;)i=d[l],r[i]=c?c(r[i],o[i]):o[i];return r},ao=function(t,e,n){var i,o=t,r=o;if(!o)return r;for(var a=arguments,s=0,u="number"==typeof n?2:a.length;++s<u;)if(o=a[s],o&&G[typeof o])for(var c=-1,l=G[typeof o]&&to(o),d=l?l.length:0;++c<d;)i=l[c],"undefined"==typeof r[i]&&(r[i]=o[i]);return r},so=function(t,e,n){var i,o=t,r=o;if(!o)return r;if(!G[typeof o])return r;e=e&&"undefined"==typeof n?e:k(e,n,3);for(i in o)if(e(o[i],i,t)===!1)return r;return r},uo=function(t,e,n){var i,o=t,r=o;if(!o)return r;if(!G[typeof o])return r;e=e&&"undefined"==typeof n?e:k(e,n,3);for(var a=-1,s=G[typeof o]&&to(o),u=s?s.length:0;++a<u;)if(i=s[a],e(o[i],i,t)===!1)return r;return r},co=ji?function(t){if(!t||Bi.call(t)!=H)return!1;var e=t.valueOf,n=ce(e)&&(n=ji(e))&&ji(n);return n?t==n||ji(t)==n:le(t)}:le,lo=re(function(t,e,n){Ni.call(t,n)?t[n]++:t[n]=1}),ho=re(function(t,e,n){(Ni.call(t,n)?t[n]:t[n]=[]).push(e)}),po=re(function(t,e,n){t[n]=e}),fo=Je,mo=We,_o=ce(_o=_i.now)&&_o||function(){return(new _i).getTime()},go=8==Wi(w+"08")?Wi:function(t,e){return Wi(Pe(t)?t.replace(S,""):t,e||0)};return e.after=Nn,e.assign=ro,e.at=Ve,e.bind=Pn,e.bindAll=On,e.bindKey=Ln,e.chain=ci,e.compact=hn,e.compose=An,e.constant=Gn,e.countBy=lo,e.create=me,e.createCallback=Qn,e.curry=zn,e.debounce=Fn,e.defaults=ao,e.defer=Rn,e.delay=Un,e.difference=pn,e.filter=We,e.flatten=gn,e.forEach=Qe,e.forEachRight=Ze,e.forIn=so,e.forInRight=ye,e.forOwn=uo,e.forOwnRight=be,e.functions=ve,e.groupBy=ho,e.indexBy=po,e.initial=bn,e.intersection=vn,e.invert=ke,e.invoke=Xe,e.keys=to,e.map=Je,e.mapValues=Le,e.max=tn,e.memoize=Hn,e.merge=Ae,e.min=en,e.omit=ze,e.once=Vn,e.pairs=Fe,e.partial=qn,e.partialRight=Kn,e.pick=Re,e.pluck=fo,e.property=ni,e.pull=wn,e.range=Mn,e.reject=rn,e.remove=En,e.rest=In,e.shuffle=sn,e.sortBy=ln,e.tap=li,e.throttle=Wn,e.times=ai,e.toArray=dn,e.transform=Ue,e.union=$n,e.uniq=Tn,e.values=He,e.where=mo,e.without=Cn,e.wrap=Yn,e.xor=Sn,e.zip=Dn,e.zipObject=jn,e.collect=Je,e.drop=In,e.each=Qe,e.eachRight=Ze,e.extend=ro,e.methods=ve,e.object=jn,e.select=We,e.tail=In,e.unique=Tn,e.unzip=Dn,Jn(e),e.clone=pe,e.cloneDeep=fe,e.contains=qe,e.escape=Zn,e.every=Ke,e.find=Ye,e.findIndex=fn,e.findKey=_e,e.findLast=Ge,e.findLastIndex=mn,e.findLastKey=ge,e.has=xe,e.identity=Xn,e.indexOf=yn,e.isArguments=he,e.isArray=Xi,e.isBoolean=we,e.isDate=Me,e.isElement=Ee,e.isEmpty=Ie,e.isEqual=Be,e.isFinite=$e,e.isFunction=Te,e.isNaN=Se,e.isNull=De,e.isNumber=je,e.isObject=Ce,e.isPlainObject=co,e.isRegExp=Ne,e.isString=Pe,e.isUndefined=Oe,e.lastIndexOf=kn,e.mixin=Jn,e.noConflict=ti,e.noop=ei,e.now=_o,e.parseInt=go,e.random=ii,e.reduce=nn,e.reduceRight=on,e.result=oi,e.runInContext=m,e.size=un,e.some=cn,e.sortedIndex=Bn,e.template=ri,e.unescape=si,e.uniqueId=ui,e.all=Ke,e.any=cn,e.detect=Ye,e.findWhere=Ye,e.foldl=nn,e.foldr=on,e.include=qe,e.inject=nn,Jn(function(){var t={};return uo(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.first=_n,e.last=xn,e.sample=an,e.take=_n,e.head=_n,uo(e,function(t,i){var o="sample"!==i;e.prototype[i]||(e.prototype[i]=function(e,i){var r=this.__chain__,a=t(this.__wrapped__,e,i);return r||null!=e&&(!i||o&&"function"==typeof e)?new n(a,r):a})}),e.VERSION="2.4.1",e.prototype.chain=di,e.prototype.toString=hi,e.prototype.value=pi,e.prototype.valueOf=pi,Qe(["join","pop","shift"],function(t){var i=Mi[t];e.prototype[t]=function(){var t=this.__chain__,e=i.apply(this.__wrapped__,arguments);return t?new n(e,t):e}}),Qe(["push","reverse","sort","unshift"],function(t){var n=Mi[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),Qe(["concat","slice","splice"],function(t){var i=Mi[t];e.prototype[t]=function(){return new n(i.apply(this.__wrapped__,arguments),this.__chain__)}}),e}var _,g=[],y=[],b=0,v=+new Date+"",x=75,k=40,w=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",M=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,I=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,C=/<%=([\s\S]+?)%>/g,S=RegExp("^["+w+"]*0+(?=.$)"),D=/($^)/,j=/\bthis\b/,N=/['\n\r\t\u2028\u2029\\]/g,P=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],O=0,L="[object Arguments]",A="[object Array]",z="[object Boolean]",F="[object Date]",R="[object Function]",U="[object Number]",H="[object Object]",V="[object RegExp]",q="[object String]",K={};K[R]=!1,K[L]=K[A]=K[z]=K[F]=K[U]=K[H]=K[V]=K[q]=!0;var W={leading:!1,maxWait:0,trailing:!1},Y={configurable:!1,enumerable:!1,value:null,writable:!1},G={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Q={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Z=G[typeof window]&&window||this,X=G[typeof n]&&n&&!n.nodeType&&n,J=G[typeof e]&&e&&!e.nodeType&&e,te=J&&J.exports===X&&X,ee=G[typeof t]&&t;!ee||ee.global!==ee&&ee.window!==ee||(Z=ee);var ne=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z._=ne,define(function(){return ne})):X&&J?te?(J.exports=ne)._=ne:X._=ne:Z._=ne}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e){var n="object"==typeof xscript,i="object"==typeof casper;e.exports=t(n?"yandex-money-ycookie/lib/xscript":i?"./lib/http-tests":"./lib/server")},{"./lib/http-tests":6,"./lib/server":7,"yandex-money-ycookie/lib/xscript":8}],5:[function(t,e){var n={_domain:".yandex.ru",_path:"/",_pCookieName:"yp",_sCookieName:"ys",pCookieExpireDate:new Date("Fri, 01 Jan 2038 00:00:00 GMT"),_defaultPermanentPeriod:604800,expireValues:{max:2145916800},_clone:function(t){var e,n={};if(t)for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},_getBlocksFromCookie:function(t){var e,n,i,o,r=[],a=t.cookie.split("#");for(i=0,o=a.length;o>i&&a[i];i++)n=a[i].split("."),e={},t.hasExpire&&(e.expire=n.shift()),e.name=n.shift(),e.value=n.join("."),e.value=t.needDecodeValue?decodeURIComponent(e.value):e.value,r.push(e);return r},_getCookieBlockByName:function(t){var e,n,i=t.blocks||this._getBlocksFromCookie(t),o=null;for(e=0,n=i.length;n>e&&!o;e++)i[e].name===t.name&&(o=i[e]);return o},_updateCookieBlock:function(t){var e=this._getBlocksFromCookie(t),n=this._getCookieBlockByName({blocks:e,name:t.name});n||(n={},n.name=t.name,e.push(n)),n.value=encodeURIComponent(t.value),t.expire&&(n.expire=t.expire);var i,o,r,a=[];for(i=0,o=e.length;o>i;i++)r=[],e[i].expire&&r.push(e[i].expire),r.push(e[i].name),r.push(e[i].value),a.push(r.join("."));return a.join("#")},_setP:function(t){var e=t.expire||this.getNowInSeconds()+this._defaultPermanentPeriod;return this._updateCookieBlock({hasExpire:!0,cookie:t.cookie,name:t.name,value:t.value,expire:e})},_setS:function(t){return this._updateCookieBlock(t)},_getP:function(t){var e,n=this._getCookieBlockByName({cookie:t.cookie,name:t.name,needDecodeValue:!0,hasExpire:!0});return n&&(e=parseInt(n.expire,10),e<this.getNowInSeconds()&&(n=null)),n},_getS:function(t){return this._getCookieBlockByName({needDecodeValue:!0,cookie:t.cookie,name:t.name})},_get:function(t){return this._getS({cookie:t.sCookie,name:t.name})||this._getP({cookie:t.pCookie,name:t.name})},_parseCookie:function(t,e){t=t||"";var n="(?:^|; )"+e.cookieName.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)",i=t.match(new RegExp(n));return i&&i[1]?i[1]:""},_buildCookie:function(t){var e=[];return e.push(encodeURIComponent(t.cookieName)+"="+t.cookieValue),t.cookieExpires&&e.push("expires="+t.cookieExpires),e.push("path="+this._path),e.push("domain="+this._domain),e.join("; ")},_getCookie:function(){throw"yandex-money-ycookie: method _getCookie needs to be implemented!"},_setCookie:function(){throw"yandex-money-ycookie: method _setCookie needs to be implemented!"},getNowInSeconds:function(){return Math.ceil((new Date).getTime()/1e3)},getExpireAfterYear:function(t){return t=t||new Date,t.setFullYear(t.getFullYear()+1),Math.round(t.getTime()/1e3)},setS:function(t){var e=this._clone(t);e.cookieName=this._sCookieName,e.cookie=this._getCookie(e),e.cookieValue=this._setS(e),this._setCookie(e)},setP:function(t){var e=this._clone(t);e.cookieName=this._pCookieName,e.cookie=this._getCookie(e),e.cookieValue=this._setP(e),e.cookieExpires=this.pCookieExpireDate.toUTCString(),this._setCookie(e)},get:function(t){var e=this._clone(t);return e.cookieName=this._pCookieName,e.pCookie=this._getCookie(e),e.cookieName=this._sCookieName,e.sCookie=this._getCookie(e),this._get(e)}};"object"==typeof e&&(e.exports=n)},{}],6:[function(t,e){var n=t("yandex-money-ycookie/lib/common");n._getCookie=function(t){var e=casper.evaluate(function(){return document.cookie});return n._parseCookie(e,t)},n._setCookie=function(t){var e={name:t.cookieName,value:t.cookieValue,domain:".yandex.ru",path:"/"};t.cookieExpires&&(e.expires=t.cookieExpires);var n=phantom.addCookie(e);n||console.log("yandex-money-ycookie: can't set cookie "+t.cookieName+" with value "+t.cookieValue)},e.exports=n},{"yandex-money-ycookie/lib/common":5}],7:[function(t,e){function n(t){var e=i._buildCookie(t),n=t.res,r=e,a=n.get("Set-Cookie");a&&(r=o.isArray(a)?a.concat(e):[a,e]),n.set("Set-Cookie",r)
}var i=t("./common"),o=t("lodash");i._getCookie=function(t){if(!t.req)throw new Error("yandex-money-ycookie, _getCookie: can't get cookie because there is no req object!");if(!t.cookieName)throw new Error("yandex-money-ycookie, _getCookie: can't get cookie because there is no cookie name!");return this._parseCookie(t.req.get("COOKIE"),t)},i._setCookie=function(t){if(!t.res)throw new Error("yandex-money-ycookie, _setCookie: can't set cookie because there is no res object!");if(!t.cookieName)throw new Error("yandex-money-ycookie, _setCookie: can't set cookie because there is no cookie name!");var e=o.extend({},t,{path:i._path,domain:i._domain});n(e)},e.exports=i},{"./common":5,lodash:3}],8:[function(t,e){var n=t("yandex-money-ycookie/lib/common");n._getCookie=function(t){return n._parseCookie(xscript.request.headers.COOKIE,t)},n._setCookie=function(t){var e=new xscript.cookie(t.cookieName,t.cookieValue);e.path(n._path),e.domain(n._domain),t.cookieExpires&&e.permanent(!0),xscript.response.setCookie(e)},e.exports=n},{"yandex-money-ycookie/lib/common":5}]},{},[1]),function(t,e){function n(){p&&f&&console.log.apply(console,arguments)}function i(t){return"string"==typeof t&&(t={block:t}),t.block+(t.elem?c+t.elem:"")+(t.modName?u+t.modName+u+t.modVal:"")}function o(t){var e={};return t.split(c).forEach(function(t,n){var i=[n?"elem":"block","mod","val"];t.split(u).forEach(function(t,n){e[i[n]]=t})}),e}function r(t){return t?h.push(t):!1}function a(){return h.length&&h.pop()}function s(){this._lang="",this._prj="lego",this._keyset="",this._key=""}if("function"==typeof e.I18N&&e.I18N._proto)return e.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=e;var u="_",c="__",l="ru",d={},h=[],p=!1,f="undefined"!=typeof console&&"function"==typeof console.log;s.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){return e&&r(this._keyset),this._keyset=i(t),this},key:function(t){return this._key=t,this},decl:function(t){var e=o(this._keyset),n="i-tanker"===e.block?"tanker":this._prj,i=e.elem||this._keyset,r=this._key;n=i18n[n]||(i18n[n]={}),i=n[i]||(n[i]={}),i[r]="function"==typeof t?t:function(){return t};var a=d[this._lang]||(d[this._lang]={}),s=a[this._keyset]||(a[this._keyset]={});s[r]=t},val:function(t,e){var i=d[this._lang]&&d[this._lang][this._keyset],o="keyset: "+this._keyset+" key: "+this._key+" (lang: "+this._lang+")";if(!i)return n("[I18N_NO_KEYSET] %s",o),"";i=i[this._key];var r=typeof i;return"undefined"===r?(n("[I18N_NO_VALUE] %s",o),""):"string"===r?i:(e||(e=this),i.call(e,t))},_cache:function(){return d}},e.I18N=function(t){var e=function(t,n,i){return e.keyset(t).key(n,i)};return e._proto=t,e.project=function(t){return this._proto.project(t),this},e.keyset=function(t){return this._proto.keyset(t,!0),this},e.key=function(t,n){var i,o,r=this._proto;return r.lang(this._lang).key(t),i=r.val.call(r,n,e),o=a(),o&&r.keyset(o,!1),i},e.decl=function(t,e,n){var i,o=this._proto;n||(n={}),n.lang&&o.lang(n.lang),o.keyset(t);for(i in e)e.hasOwnProperty(i)&&o.key(i).decl(e[i]);return this},e.lang=function(t){return"undefined"!=typeof t&&(this._lang=t),this._lang},e.debug=function(t){p=!!t},e.lang(l),e}(new s)}(this,"undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("attach",{"button-text":"Выбрать файл","no-file":"файл не выбран","invalid-scan-extension":"Файл не подходит — пожалуйста, конвертируйте его в PDF, JPG или PNG","scan-limit-exceeded":"Файл слишком тяжелый — пожалуйста, уменьшите размер до 5 Мб","upload-error":"Ошибка загрузки. Попробуйте еще раз"},{lang:"ru"}),BEM.I18N.decl("auth",{auth:"Авторизация","fill-input":"Заполните это поле",login:"Логин",logon:"Войти",more:"Ещё",password:"Пароль",permanent:"Запомнить меня",register:"Регистрация",remember:"Вспомнить пароль","social-log-in":"Войти при помощи социальной сети",temporary:"Чужой компьютер","wrong-characters":"Недопустимый ввод","wrong-keyboard-layout":"Смените раскладку","wrong-password":"Пароль не может совпадать с логином"},{lang:"ru"}),BEM.I18N.decl("b-page",{about:"О сервисе",card2card:"Онлайн-перевод денег на банковскую карту","card2card-description":"Переводите деньги с карты на карту любого банка России. Это быстрый и удобный способ отправить перевод родным, вернуть долг другу или пополнить баланс своей кредитки",error:"Ошибка","gibdd-promo":"Узнать и оплатить штрафы ГИБДД (Гаи) онлайн, проверить задолженность по номеру прав и по свидетельству регистрации ТС","index-page":"Подключение к Кассе",joinups:"Заявка на подключение",office:"Личный кабинет",questionnaire:"Анкета для подключения",reg:"Открытие кошелька в Яндекс.Деньгах","tech-integration":"Способ подключения к Кассе","tech-integration-doc":"Техническая документация","western-union":"Перевод Western Union",yamoney:"Яндекс.Деньги"},{lang:"ru"}),BEM.I18N.decl("balance",{"account-number":"Номер кошелька","activate-virtual-card-title":"Активация виртуальной карты","business-account":"профессиональный счет",deposit:"Пополнить",details:"Подробнее","gateline-single-title":"Привязанная карта","gateline-title":"Привязанные карты","identified-account":"идентифицированный","lantern-confirm-email":function(t){return"На "+t.email+" пришло письмо. Откройте его, перейдите по ссылке и завершите привязку почты. Или можете "+t.validator},"lantern-confirm-email-validator":"привязать другой email","light-account":"именной счет","no-gateline-cards":"Привязка банковской карты","no-virtual-card":"ещё не выпущена","no-y-card":"Выпуск MasterСard Яндекс.Денег","not-identified-account":"анонимный","open-account":"Открыть кошелек","personal-settings":"Управление кошельком","virtual-card-single-title":"Виртуальная карта","virtual-card-title":"Виртуальные карты",withdraw:"Снять","y-card-closing":"в процессе закрытия","y-card-issued":"выпущена","y-card-processing":"в процессе активации","y-card-title":"MasterCard Яндекс.Денег","yet-inaccessible-money":"Пока недоступные деньги"},{lang:"ru"}),BEM.I18N.decl("basis",{"april-parental":"апреля","august-parental":"августа","december-parental":"декабря","february-parental":"февраля","january-parental":"января","july-parental":"июля","june-parental":"июня","march-parental":"марта","may-parental":"мая","november-parental":"ноября","october-parental":"октября","september-parental":"сентября",today:"Сегодня",yesterday:"Вчера"},{lang:"ru"}),BEM.I18N.decl("button",{back:"Назад",confirm:"Подтвердить",pay:"Заплатить",proceed:"Продолжить",verify:"Проверить"},{lang:"ru"}),BEM.I18N.decl("copyright",{link:function(t){return"ООО «"+t.content+"»"},yandex:"Яндекс","about-link":function(t){return"about.xml"+t.urlParam},money:"ООО НКО «Яндекс.Деньги»","money-light":"Яндекс.Деньги","money-linked":function(t){return"© "+t.year+" ООО НКО «"+t.link+"»"}},{lang:"ru"}),BEM.I18N.decl("footer",{about:"О проекте","about-url":"//company.yandex.ru",advert:"Реклама","advert-url":"http://advertising.yandex.ru/kupislova.xml?advertising",agreement:"Пользовательское соглашение",apps:"Мобильные приложения","apps-url":"//mobile.yandex.ru",beta:"β-версия","copyright-notice":"",design:"Дизайн","design-artlebedev":"Студия Артемия Лебедева","design-artlebedev-url":"http://www.artlebedev.ru",mobile:"Мобильная версия","privacy-policy":"","services-button-value":"Перейти",stat:"Статистика","terms-of-service":"",termsofuse:"Лицензия на поиск","termsofuse-url":"//legal.yandex.ru/termsofuse/",vacancies:"Вакансии","yandex-is-local":"Яндекс локален","yandex-is-not-local":"Как сделать Яндекс локальным","about-company":"О компании",applications:"Мобильные приложения",conditions:"Все условия",contacts:"Контакты",developers:"Разработчикам",feedback:"Написать",help:"Помощь","legal-info":"Юридическая информация","mobile-version":"Мобильная версия",region:function(t){return"Регион: "+t.region},security:"Безопасность","shops-info":"Магазинам"},{lang:"ru"}),BEM.I18N.decl("form",{"back-to-questionnaire":"Вернуться к анкете","empty-field":"Вам нужно заполнить это поле","empty-sum":"Вы не указали сумму платежа.","move-to-helpdesk":"Написать нам","some-reason-fail":"Из-за технической ошибки нам не удалось сохранить данные. Пожалуйста, попробуйте еще раз. Если ошибка повторяется, напишите нам.","something-failed":"Не получилось",sum:"Сумма","wrong-format-bik":"Вы указали БИК неправильно. Проверьте его и попробуйте еще раз.","wrong-format-date":"Пожалуйста, исправьте формат даты — нужно указать ДД.ММ.ГГГГ (например, 01.10.2014)","wrong-format-email":"Здесь что-то не так. Проверьте адрес почты и попробуйте еще раз.","wrong-format-field":"Вы заполнили поле неправильно. Попробуйте еще раз","wrong-format-itn":"Здесь что-то не так. Проверьте ИНН и попробуйте еще раз.","wrong-format-kpp":"Здесь что-то не так. Проверьте КПП и попробуйте еще раз.","wrong-format-ogrn":"Здесь что-то не так. Проверьте ОГРН и попробуйте еще раз.","wrong-format-ogrnip":"Здесь что-то не так. Проверьте ОГРНИП и попробуйте еще раз.","wrong-format-receipt-account":"Что-то не так: проверьте номер расчетного счета и попробуйте еще раз.","wrong-format-receipt-account-natural-person":"Этот счет принадлежит физлицу. Укажите номер счета своей организации.","wrong-format-receipt-account-natural-person-for-sole-trader":"Этот счет принадлежит физлицу. Укажите номер счета ИП. Если у вас нет такого счета — его нужно открыть.","wrong-format-receipt-account-not-sole-trader":"Этот счет принадлежит юрлицу. Укажите номер счета ИП. Если у вас нет такого счета — его нужно открыть.","wrong-format-receipt-account-sole-trader":"Этот счет не принадлежит юрлицу. Укажите номер счета своей организации.","wrong-format-shop-secret":"Используйте до 20 символов: цифры и латиницу — прописные и строчные буквы.","wrong-format-soletrader-account":"Расчетный счет ИП должен начинаться с цифр 40802. Пожалуйста, попробуйте еще раз.","wrong-format-sum":"Вы указали сумму в неправильном формате.","wrong-format-telephone":"Здесь что-то не так. Проверьте номер телефона и попробуйте еще раз.","wrong-length-account":"В этом номере должно быть 20 цифр. Пожалуйста, проверьте его и попробуйте еще раз."},{lang:"ru"}),BEM.I18N.decl("header2",{"action-filter-title":"Настройки поиска","action-settings-title":"Настройки","action-tableau-title":"Табло сервисов","deposit-money":"Пополнение кошелька",find:"Найти","goods-service-or-shop":"Товар, услуга или магазин",money:"Деньги",office:"Касса","receive-money":"Прием платежей"},{lang:"ru"}),BEM.I18N.decl("header2__logo",{"logo-alt":"Яндекс","logo-img-png-url":"//yastatic.net/islands-page/_/UYmX3xSn-Z1WO7vNqgzY2H8bBIc.png","logo-img-svg":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MiIgaGVpZ2h0PSIzNCIgdmlld0JveD0iMCAwIDE2NDAgNjgwIj48cGF0aCBkPSJNNTU2IDIwMGgtNDdjLTQgMC02IDMtNiA1djE0NWgtODd2LTE0NWMwLTQtMi01LTUtNWgtNDdjLTQgMC02IDItNiA1djM2OGMwIDQgMiA2IDUgNmg0OGMzIDAgNS0yIDUtNnYtMTc2aDg3djE3NmMwIDQgMiA2IDYgNmg0N2M0IDAgNS0zIDUtNnYtMzY4YzAtMy0yLTUtNS01em0xMDY2IDMyOWMtMS0yLTItMy00LTMtNCAwLTI0IDgtNTQgOC01OCAwLTg2LTU1LTg2LTE0MyAwLTc3IDIzLTE1NCA2My0xNTQgMTEgMCAyMyAzIDQ0IDIyIDIgMiA0IDMgNiAzczUtMiA3LTVsMjAtMzNjMi0yIDItNSAyLTcgMC0zLTMtNS04LTgtMzEtMTYtNTItMTktNzAtMTktNzEgMC0xMjYgODUtMTI2IDIxNyAwIDExNCA1MyAxODAgMTI5IDE4MCAzMiAwIDY2LTE1IDgwLTI1IDMtMiA0LTUgMy04bC02LTI2em0tMzIzLTE1OGw5MS0xNjZjMi0yIDEtNS0yLTVoLTQ1Yy0xMyAwLTE3IDUtMjIgMTRsLTY4IDE0MmMtNCA4LTggMTQtMTEgMTZ2LTE2N2MwLTMtMi01LTUtNWgtNDljLTIgMC01IDItNSA1djM2OWMwIDIgMiA1IDUgNWg0OWMzIDAgNS0yIDUtNXYtMTkwYzIgMiA0IDQgNSA3bDg2IDE3N2M1IDkgMTEgMTEgMjEgMTFoNDhjMyAwIDQtMyAyLTVsLTEwNi0yMDN6bS00MzQgMTYxaC05Yy0xMSAwLTE0LTUtMTQtMTR2LTMxM2MwLTQtMi01LTUtNWgtMTUxYy00IDAtNiAyLTYgNXYyN2MwIDkyLTUgMjEwLTU0IDI5OWgtMTdjLTUgMC02IDItNiA2djExMWMwIDQgMyA1IDUgNWgzNmM4IDAgMTEtNiAxMS0xMXYtNjNoMTYydjY5YzAgMyAyIDUgNSA1aDM5YzUgMCA5LTQgOS0xMXYtMTA1YzAtNC0yLTYtNi02em0tODIgMGgtMTEwYzM5LTY2IDU0LTE0MCA1OS0yMzEgMi0yMCAyLTQwIDItNTNoNDh2Mjg0em0yMzYtMzQxYy04MiAwLTExOCAxMDMtMTE4IDIxNSAwIDExNCA1MiAxODMgMTI3IDE4MyAzNyAwIDcwLTE0IDg2LTI1IDMtMiA0LTQgMy03bC02LTI2Yy0xLTMtMi01LTYtNS0zIDAtMjUgOC01NiA4LTU4IDAtODYtNTEtODYtMTE3di0xOHMzMCA0IDQ3IDRoMTExdi0zMmMwLTExNy00Mi0xODAtMTAyLTE4MHptLTggMTY0Yy0xNyAwLTQ1IDMtNDUgM3MwLTExIDItMjNjNy02NCAyMy05NyA0OS05NyAyNCAwIDM5IDMzIDQzIDkyIDEgMTIgMSAyNiAxIDI2aC01MHoiLz48cGF0aCBmaWxsPSIjZjAwIiBkPSJNMjcxIDExaC04NmMtODUgMC0xNTcgNjQtMTU3IDE4OSAwIDc1IDM1IDEzMCA5NyAxNThsLTExNiAyMDljLTQgNyAwIDEyIDYgMTJoNTRjNSAwIDgtMiA5LTVsMTA1LTIwNWgzOHYyMDVjMCAyIDIgNSA1IDVoNDdjNSAwIDYtMiA2LTZ2LTU1NGMwLTUtMy04LTgtOHptLTUwIDMwOWgtMzJjLTUwIDAtOTgtMzYtOTgtMTI3IDAtOTUgNDUtMTMzIDkyLTEzM2gzOXYyNjB6Ii8+PC9zdmc+"},{lang:"ru"}),BEM.I18N.decl("hint",{"on-payment-of-fine-is-given":"Наказание за просрочку: увеличение суммы вдвое (но не меньше 1000 рублей), арест до 15 суток или обязательные работы до 50 часов."},{lang:"ru"}),BEM.I18N.decl("i-services",{404:"404",adresa:"Адреса",advertising:"Реклама",afisha:"Афиша",all:"Все сервисы",api:"API",appsearch:"Приложения",auto:"Авто",avia:"Авиабилеты",aziada:"Азиада",ba:"Баян",backapv:"Партнер Я.Карт",balance:"Баланс",bar:"Бар","bar-ie":"Бар для ИЕ","bar-ie9":"Бар для ИЕ9",bayan:"Баннеры Яндекса",blogs:"Блоги",books:"Книги",browser:"Браузер",calendar:"Календарь",captcha:"ой...",catalogwdgt:"Каталог виджетов",chrome:"Хром с поиском Яндекса",city:"Города",cityday:"День города",collection:"Коллекция",company:"Компания",contest:"Contest",desktop:"Персональный поиск",direct:"Директ","direct.market":"Маркет",disk:"Диск",ege:"ЕГЭ",expert:"Эксперт",feedback:"Обратная связь",feedback2:"Обратная связь",ff:"ФФ с поиском Яндекса",fotki:"Фотки",fresh:"Свежее",games:"Игрушки",geocontext:"Геоконтекст",goroda:"Города",help:"Помощь",i:"Мои сервисы",ie:"ИЕ с поиском Яндекса",images:"Картинки","images-com":"Картинки",interests:"Интересы",internet:"Интернет",kassa:"Касса",keyboard:"Клавиатура",kraski:"Краски",kuda:"Куда все идут",large:"Яндекс для слабовидящих",legal:"Правовые документы",lenta:"Лента",libra:"Библиотека",literacy:"Неделя борьбы за грамотность",local:"Локальная сеть",lost:"Незабудки",love:"День взаимного тяготения — 13 августа",mail:"Почта",maps:"Карты","maps-wiki":"Народная карта",market:"Маркет","market.advertising":"Маркет",metrika:"Метрика",metro:"Метро",mobile:"Мобильный",moikrug:"Мой Круг",money:"Деньги",museums:"Дни исторического и культурного наследия",music:"Музыка","music-partner":"Музыка: статистика",nahodki:"Мои находки",nano:"Нано",newhire:"Наниматор",news:"Новости",notifications:"Нотификационная панель",oauth:"Авторизация",online:"Онлайн",openid:"OpenID",opera:"Opera Software",opinion:"Цитаты",partners:"Рекламная сеть",partnersearch:"Поиск для партнеров",passport:"Паспорт",pdd:"Почта для домена",peoplesearch:"Люди",perevod:"Перевод",probki:"Пробки",pulse:"блоги: пульс",punto:"Punto switcher",pvo:"Ответы",rabota:"Работа",ramazan:"",rasp:"Расписания",realty:"Недвижимость",referats:"Рефераты",rk:"Есть вопросы?",root:"Яндекс.Олимпиада для Unix администраторов",school:"Школа",search:"Поиск",server:"Сервер",shtrafi:"Штрафы",site:"Поиск для сайта",slovari:"Словари",so:"Самооборона",social:"Социализм",soft:"Программы",sport:"Спорт",sprav:"Справочник",start:"Стартовая страница",stat:"Статистика",subs:"Подписки",taxi:"Такси",terms:"Разговорник",tests:"Тесты и опросы",tickets:"Билеты",time:"Яндекс.Время",toster:"Тосты",translate:"Перевод",tune:"Настройки",tv:"Телепрограмма",uslugi:"Услуги",video:"Видео","video-com":"Видео",vno:"ВНО",wdgt:"Виджеты",weather:"Погода",webmaster:"Вебмастер",widgets:"Виджеты",wordstat:"Статистика",wow:"Я.ру",www:"Поиск",xmlsearch:"XML",yaca:"Каталог",yamb:"Медийные баннеры",zakladki:"Закладки"},{lang:"ru"}),BEM.I18N.decl("i-tanker__dynamic",{gender:function(t){return function(t){return t[t.gender]}.call(this,t)},plural:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count,n=e%10,i=e%100;return 1==n&&11!=i?t.one:n>1&&5>n&&(10>i||i>20)?t.some:t.many}.call(this,t)},plural_adv:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count;return 0===e?t.none:this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:t.one,some:t.some,many:t.many})}.call(this,t)},toggle:function(t){return function(t){return Boolean(t.condition)?t["true"]:t["false"]}.call(this,t)}},{lang:"ru"}),BEM.I18N.decl("inline",{"yandex-money":"Яндекс.Деньги"},{lang:"ru"}),BEM.I18N.decl("input",{"bik-empty":"В поле «БИК банка получателя» нужно ввести не менее 9 цифр.","illegal-bank-bik":"Проверьте правильность поля «БИК банка получателя».","illegal-login-symbol":"Такой логин не подходит. Используйте до 30 символов: латинские буквы, цифры, дефис и точку. Начните логин с буквы и закончите буквой или цифрой. Не ставьте рядом дефис и точку.","illegal-symbol":"Используйте только буквы латиницы, цифры и спецсимволы (+-!,@;#.$%^:&*_)","invalid-password":"С этим паролем что-то не так. Пожалуйста, попробуйте другой.","invalid-phone-number":"Вы заполнили поле неправильно. Попробуйте еще раз.","login-occupied":"Пожалуйста, придумайте другой логин. Для личного кабинета нельзя использовать существующий логин на Яндексе.","nonidentical-passwords":"Пароли не совпадают. Попробуйте еще раз.","passwd-like-login":"Пароль не должен совпадать с логином.","passwd-like-phone-number":"Пароль не должен совпадать с номером телефона.","too-long-login":"Пожалуйста, сделайте логин короче. Максимальная длина — 30 символов.","too-long-passwd":"Придумайте пароль покороче — не больше 20 символов","too-short":"Придумайте пароль подлиннее — не меньше 6 символов","too-weak-passwd":"Слишком просто. Используйте буквы в разных регистрах, цифры и спецсимволы"},{lang:"ru"}),BEM.I18N.decl("lang-switcher",{all:"Ещё"},{lang:"ru"}),BEM.I18N.decl("link",{here:"здесь","how-does-this-work":"Как это работает?","learn-more":"Узнать больше","pay-according-to-regulations":"Указать данные из постановления","pay-by-number-and-date":"Заплатить по номеру и дате постановления"},{lang:"ru"}),BEM.I18N.decl("menu",{favorited:"Избранное",history:"История","receive-money":"Прием платежей",shops:"Товары и услуги",transactions:"Переводы"},{lang:"ru"}),BEM.I18N.decl("paragraph",{amount:"Сумма","driver-license":"Водительское удостоверение","if-the-fine-is-discharged":"Если штраф выписали только что, заплатите по данным из постановления.","if-you-want-to-pay-fine":"Если вы хотите оплатить штраф по номеру постановления, можете сделать это","no-penalty-on-gis":"В Государственной информационной системе по вашим данным не нашлось ни одного штрафа.",payee:"Получатель платежа","registration-certificate":"Свидетельство о регистрации ТС","show-fines-for-period":"Показываем штрафы за период с","some-fines-can-be-displayed":"Некоторые штрафы могут показываться, даже если вы заплатили их. Это случается из-за несовпадений в базах ГИС ГМП и ГИБДД.","you-have-to-pay-up-to":"Нужно заплатить до:"},{lang:"ru"}),BEM.I18N.decl("popup",{no:"Нет",yes:"Да"},{lang:"ru"}),BEM.I18N.decl("select",{100:"Болгария",104:"Мьянма",108:"Бурунди",112:"Белоруссия (Беларусь)",116:"Камбоджа",120:"Камерун",124:"Канада",132:"Кабо-Верде",136:"Кайман, Острова",140:"Центральноафриканская Республика",144:"Шри-Ланка",148:"Чад",152:"Чили",156:"Китай",170:"Колумбия",174:"Коморские Острова",175:"Маоре (Майотта)",178:"Конго",180:"Заир",184:"Кука, Острова",188:"Коста-Рика",191:"Хорватия",192:"Куба",196:"Кипр",203:"Чешская Республика",204:"Бенин",208:"Дания",212:"Доминика",214:"Доминиканская Республика",218:"Эквадор",222:"Сальвадор",226:"Экваториальная Гвинея",231:"Эфиопия",232:"Эритрея",233:"Эстония",234:"Фарерские острова",238:"Фолклендские (Мальвинские) Острова",242:"Фиджи",246:"Финляндия",248:"Аландские острова (владение Финляндии)",250:"Франция",254:"Гвиана Французская",258:"Французская Полинезия",262:"Джибути",266:"Габон",268:"Грузия",270:"Гамбия",275:"Палестина",276:"Германия",288:"Гана",292:"Гибралтар",296:"Кирибати",300:"Греция",304:"Гренландия",308:"Гренада",312:"Гваделупа",316:"Гуам",320:"Гватемала",324:"Гвинея",328:"Гайана",332:"Гаити",336:"Ватикан",340:"Гондурас",344:"Сянган (Гонконг)",348:"Венгрия",352:"Исландия",356:"Индия",360:"Индонезия",364:"Иран",368:"Ирак",372:"Ирландия",376:"Израиль",380:"Италия",384:"Кот-д'Ивуар",388:"Ямайка",392:"Япония",398:"Казахстан",400:"Иордания",404:"Кения",408:"Корейская Народно-Демократическая Республика",410:"Корея, Республика",414:"Кувейт",417:"Киргизия (Кыргызстан)",418:"Лаос",422:"Ливан",426:"Лесото",428:"Латвия",430:"Либерия",434:"Ливия",438:"Лихтенштейн",440:"Литва",442:"Люксембург",446:"Аомынь (Макао)",450:"Мадагаскар",454:"Малави",458:"Малайзия",462:"Мальдивы",466:"Мали",470:"Мальта",474:"Мартиника",478:"Мавритания",480:"Маврикий",484:"Мексика",492:"Монако",496:"Монголия",498:"Молдавия (Молдова)",499:"Черногория",500:"Монтсеррат",504:"Марокко",508:"Мозамбик",512:"Оман",516:"Намибия",520:"Науру",524:"Непал",528:"Нидерланды",530:"Нидерландские Антильские острова",533:"Аруба",540:"Новая Каледония",548:"Вануату",554:"Новая Зеландия",558:"Никарагуа",562:"Нигер",566:"Нигерия",570:"Ниуэ",574:"Норфолк",578:"Норвегия",580:"Северные Марианские Острова",583:"Микронезия (Федеративные Штаты Микронезии)",584:"Маршалловы Острова",585:"Палау",586:"Пакистан",591:"Панама",598:"Папуа — Новая Гвинея",600:"Парагвай",604:"Перу",608:"Филиппины",612:"Питкэрн",616:"Польша",620:"Португалия",624:"Гвинея-Бисау",626:"Восточный Тимор",630:"Пуэрто-Рико",634:"Катар",638:"Реюньон",642:"Румыния",643:"Российская Федерация",646:"Руанда",652:"Сент-Бартелеми",654:"Святой Елены, Остров",659:"Сент-Китс и Невис",660:"Ангилья",662:"Сент-Люсия",663:"Сент-Мартин",666:"Сен-Пьер и Микелон",670:"Сент-Винсент и Гренадины",674:"Сан-Марино",678:"Сан-Томе и Принсипи",682:"Саудовская Аравия",686:"Сенегал",688:"Сербия",690:"Сейшельские Острова",694:"Сьерра-Леоне",702:"Сингапур",703:"Словакия",704:"Вьетнам",705:"Словения",706:"Сомали",710:"Южно-Африканская Республика",716:"Зимбабве",724:"Испания",732:"Западная Сахара",736:"Судан",740:"Суринам",744:"Свальбард и Ян-Майен",748:"Свазиленд",752:"Швеция",756:"Швейцария",760:"Сирия",762:"Таджикистан",764:"Таиланд",768:"Того",772:"Токелау",776:"Тонга",780:"Тринидад и Тобаго",784:"Объединенные Арабские Эмираты",788:"Тунис",792:"Турция",795:"Туркменистан",796:"Теркс и Кайкос",798:"Тувалу",800:"Уганда",804:"Украина",807:"Македония",818:"Египет",826:"Великобритания",830:"Нормандские острова (территория Великобритании)",831:"Гернси (территория Великобритании)",832:"Джерси (территория Великобритании)",833:"Остров Мэн (территория Великобритании)",834:"Танзания",840:"Соединенные Штаты Америки (США)",850:"Виргинские Острова (США)",854:"Буркина-Фасо",858:"Уругвай",860:"Узбекистан",862:"Венесуэла",876:"Уоллис и Футуна",882:"Западное Самоа",887:"Йемен",894:"Замбия",895:"Абхазия",896:"Южная Осетия","000":"Другая страна","004":"Афганистан","008":"Албания","012":"Алжир","016":"Восточное Самоа","020":"Андорра","024":"Ангола","028":"Антигуа и Барбуда","031":"Азербайджан","032":"Аргентина","036":"Австралия","040":"Австрия","044":"Багамские Острова","048":"Бахрейн","050":"Бангладеш","051":"Армения","052":"Барбадос","056":"Бельгия","060":"Бермудские Острова","064":"Бутан","068":"Боливия","070":"Босния и Герцеговина","072":"Ботсвана","076":"Бразилия","084":"Белиз","090":"Соломоновы Острова","092":"Виргинские Острова (Британские)","096":"Бруней",citizenship:"Гражданство","country-select-label":"Страна","payment-group-account":"Счет Яндекс.Деньги","payment-group-card":"Банковские карты","payment-type-offered-AC":"С банковской карты","payment-type-offered-PC":"Из кошелька","payment-type-target-AC":"На банковскую карту","payment-type-target-PC":"На любой кошелек"},{lang:"ru"}),BEM.I18N.decl("server-error",{"move-to-index":"Вернуться на главную страницу.","not-found":"Несуществующая страница","not-found-page":function(){return"Вы попали в никуда. Такой страницы не существует.<br/>Проверьте написание адреса — может быть, вы просто ошиблись при наборе.<br/>А может, этой страницы уже нет."},"refresh-page":"обновить страницу",search:"Найти","service-unavailable":"Сайт Яндекс.Денег временно недоступен","try-later":function(t){return"Мы делаем все, чтобы это исправить.<br/>Попробуйте "+t.link+" чуть позже."},"try-to-search":"Если вы хотите что-то найти, воспользуйтесь поиском по товарам и услугам Яндекс.Денег."},{lang:"ru"}),BEM.I18N.decl("suggest",{fact:"Факты",group:"Группа подсказок",nah:"Вы искали",nav:"",text:"",traffic:"Пробки",weather:"Погода"},{lang:"ru"}),BEM.I18N.decl("suggest-item__answer",{"quick-answer":"Быстрый ответ"},{lang:"ru"}),BEM.I18N.decl("ticker__text",{notifications:"Уведомлений"},{lang:"ru"}),BEM.I18N.decl("title",{"checking-traffic-police-fines":"Проверка задолженностей: штрафы ГИБДД",domru:"ДОМ.RU: интернет",fine0:"штраф",fine1:"штрафа",fines:"штрафов",found0:"Нашлось",found1:"Нашелся","good-news":"Хорошие новости","iframe-legal-title-0":"Квитанции","iframe-legal-title-1":"Введите ИНН","iframe-legal-title-2":"Выберите расчетный счет","iframe-legal-title-3":"Проверьте данные","iframe-legal-title-4":"Введите данные плательщика","no-information-on-fines":"Сведения о штрафах отсутствуют","payment-of-mobile-communication":"Оплата мобильной связи",ttk:"ТТК"},{lang:"ru"}),BEM.I18N.decl("tutorial",{"account-number-and-all-card":"Сверху — номер кошелька и все ваши карточки: для платежей на сайтах, а еще в кафе и супермаркетах по всему миру.","balance-description":"По клику открывается номер счета и другая информация о кошельке.","balance-menu":"Сразу видно, что в кошельке","balance-menu-description":"Все ваши карточки и настройки в одном месте. По особым случаям здесь загорается фонарик: например, если вам выпустили карту Яндекс.Денег.",close:"Закрыть","look-inside-wallet":"Загляните в кошелёк","menu-description":"Пользуйтесь, когда нужно сделать покупки, заплатить за интернет или телефон, отправить перевод. Или настроить прием платежей на своем сайте.","menu-on-the-left":"Быстрый доступ слева",next:"Дальше","purchase-transfer-fines":"Слева — покупки, переводы, оплата услуг ЖКХ и уплата штрафов. А еще прием платежей для бизнеса, фриланса и добрых дел.","spend-and-earn":"Тратьте и зарабатывайте","the-balance-is-here":"Баланс переехал наверх"},{lang:"ru"}),BEM.I18N.decl("user",{enter:"Войти",exit:"Выйти",letter:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"новое письмо",some:"новых письма",many:"новых писем",none:"Нет новых писем"})},letter_compose:"Написать письмо",passport:"Паспорт",tune:"Настройка",upload_files:"Мой диск","already-have-account":"У меня уже есть кошелек","no-new-letters":"Нет новых писем"},{lang:"ru"}),BEM.I18N.lang("ru"));